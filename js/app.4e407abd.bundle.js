/*! For license information please see ./js/app.4e407abd.bundle.js.LICENSE */
webpackJsonp([0],[function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(178),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0}),t.CommonDicts=t.UserInfo=t.Request=void 0;var o,a,s,l,c=n(73),u=r(c),d=n(70),f=r(d),p=n(26),h=r(p),v=n(0),g=r(v),m=n(1),b=r(m),y=n(218),A=r(y),x=n(226),w=r(x),k=n(52),$=r(k),_=n(244),I=r(_),C=n(115),S=r(C),E=n(248),D=r(E),P=n(83),T=r(P),M=n(119),R=r(M),B=n(276),j=r(B),N=n(283),O=r(N),F=n(72),U=r(F),L=n(4),Y=n(3),z=r(Y),Q=n(27),q=r(Q),H=(o=(0,q.default)(1e3),a=(0,q.default)(1e3),s=(0,q.default)(1e3),l=function(){function e(){(0,g.default)(this,e)}return(0,b.default)(e,[{key:"containsEnoughFields",value:function(e,t,n){return(n&&n.length?(0,O.default)(e,function(e,t,r){return n.includes(r)||e++,e},0):(0,j.default)(e))===t}},{key:"containsEmpty",value:function(e,t){return!(0,j.default)(e)||(0,R.default)(e,function(e,n){return(!e||!String(e).length)&&(t&&t(n),!0)})}},{key:"get",value:function(e,t,n){return this.doHttp(this.getOptions("GET",e,t,n))}},{key:"post",value:function(e,t,n,r){return this.doHttp(this.getOptions("POST",e,t,n),!r)}},{key:"put",value:function(e,t,n){return this.doHttp(this.getOptions("PUT",e,t,n))}},{key:"delete",value:function(e,t,n){return this.doHttp(this.getOptions("DELETE",e,t,n))}},{key:"getFile",value:function(e,t,n){var r=this.getOptions("GET",e,t,n);return r.responseType="blob",this.downloadFile(r)}},{key:"postFile",value:function(e,t,n){var r=this.getOptions("POST",e,t,n);return r.responseType="blob",this.downloadFile(r)}},{key:"getOptions",value:function(e,t,n,r){var i=t,o={method:e,responseType:"json",url:i};return n&&(U.default.restful?o.url=i+"/"+(0,T.default)(n,"/"):o.params=n),"string"==typeof r?(o.headers={Authorization:r},r=null):o.headers={},"GET"!==e&&(r=r||{},r.nonceStr="abcd1234",r.sign="xxx",o.headers["Content-Type"]="application/json; charset=UTF-8",o.data=r),o}},{key:"normalizeOptions",value:function(e){var t=z.default.get("$window"),n=JSON.parse(t.localStorage.getItem("userInfo"));e.headers?!e.headers.Authorization&&n&&(e.headers.Authorization="Bearer "+n.token):n&&(e.headers={Authorization:"Basic "+n.basicToken})}},{key:"downloadFile",value:function(e){return this.normalizeOptions(e),L.kmRequestQueue.downloadFile(e)}},{key:"doHttp",value:function(e,t){var n=this;return this.normalizeOptions(e),L.kmRequestQueue.doHttp(e,t).catch(function(t){var r=z.default.get("$q").defer();return t.code<1e3?401===t.code?/login$/.test(e.url)?r.reject(t):n.tokenExpired():403===t.code?n.unAuthorized():500===t.code?n.serverError():(console.error(t),r.reject(t)):1001===t.code?r.resolve(t):L.kmNoty.clientError(t.msg),r.promise})}},{key:"unAuthorized",value:function(){L.kmNoty.clientError("很抱歉您没有对应的权限，请联系管理员。")}},{key:"tokenExpired",value:function(){L.kmNoty.clientError("登陆已过期。"),J.logout(),z.default.get("$state").go("login")}},{key:"serverError",value:function(){L.kmNoty.serverError("ooooops！服务出错了。")}}]),e}(),i(l.prototype,"unAuthorized",[o],(0,h.default)(l.prototype,"unAuthorized"),l.prototype),i(l.prototype,"tokenExpired",[a],(0,h.default)(l.prototype,"tokenExpired"),l.prototype),i(l.prototype,"serverError",[s],(0,h.default)(l.prototype,"serverError"),l.prototype),l),V=t.Request=new H,G=function(){function e(){(0,g.default)(this,e)}return(0,b.default)(e,[{key:"isLoggedIn",value:function(){var e=z.default.get("$window"),t=JSON.parse(e.localStorage.getItem("userInfo"));return!(!t||!t.token)&&(!(!t.expires||t.expires<(new Date).getTime())||(e.localStorage.removeItem("userInfo"),W.invalidate(),!1))}},{key:"validate",value:function(e){var t=z.default.get("$window");return void 0===e?!!t.sessionStorage.getItem("validated"):!0===e?void t.sessionStorage.setItem("validated","1"):void t.sessionStorage.removeItem("validated")}},{key:"current",value:function(){return JSON.parse(z.default.get("$window").localStorage.getItem("userInfo"))}},{key:"login",value:function(e,t){var n=this,r=L.kmBase64.encode(e+":"+t);return V.post("/client/console/staff/login",null,"Basic "+r).then(function(e){return e.basicToken=r,e.expires=(new Date).getTime()+6048e5,n.save(e),e})}},{key:"refresh",value:function(){var e=this,t=z.default.get("$window"),n=JSON.parse(t.localStorage.getItem("userInfo"));return n?V.post("/client/console/staff/info",null,"Bearer "+n.token).then(function(t){return(0,f.default)(n,t),e.save(n),n}):z.default.get("$q").when(!1)}},{key:"logout",value:function(){var e=z.default.get("$window");e.localStorage.removeItem("userInfo"),e.sessionStorage.removeItem("validated"),W.invalidate()}},{key:"save",value:function(e){var t=z.default.get("$window");t.localStorage.setItem("userInfo",(0,u.default)(e)),t.sessionStorage.setItem("validated","1")}}]),e}(),J=t.UserInfo=new G,K=function(){function e(){(0,g.default)(this,e),this.cache={dog:{breed:{api:"/common/dictionaries/pet_breed",id:"code"},color:{api:"/common/dictionaries/pet_color",id:"code"}},enforcement:{violation:{api:"/common/dictionaries/pet_violation_type",id:"code"}},organization:{city:{api:"/common/open_city/open_city_list",id:"cityId"},permission:{api:"/client/console/authority/permission/all_list",invalidWhenLoggedOut:!0},role:{api:"/client/console/authority/role/all_list",invalidWhenLoggedOut:!0},user:{api:"/client/console/staff/admin/list",invalidWhenLoggedOut:!0}}},this.cityCtrl=!0}return(0,b.default)(e,[{key:"setCache",value:function(e,t){this.cache[e]||(this.cache[e]={}),(0,D.default)(this.cache,e+".data",t)}},{key:"getCache",value:function(e){return(0,S.default)(this.cache,e)}},{key:"getStuts",value:function(e){return this[e]}},{key:"setStuts",value:function(e,t){this[e]=t}},{key:"getList",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get",i=(0,S.default)(this.cache,e+".data");if(i&&i.length)return i;if(!r)return null;var o=(0,S.default)(this.cache,e+".api");return o||(o="/common/"+e.replace(".","/")),V[r](o,t,null,!0).then(function(t){return t&&t.length&&(i=t,(0,D.default)(n.cache,e+".data",i)),i})}},{key:"reload",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get",i=(0,S.default)(this.cache,e+".api");return i||(i="/common/"+e.replace(".","/")),V[r](i,t,null,!0).then(function(t){var r=(0,S.default)(n.cache,e+".data");if(r){if((0,I.default)(r,(0,$.default)(r,t,n.identityFunc((0,S.default)(n.cache,e+".id")))),t&&t.length){var i=(0,$.default)(t,r,n.identityFunc((0,S.default)(n.cache,e+".id")));(0,w.default)(i,function(e){r.push(e)})}}else r=t,(0,D.default)(n.cache,e+".data",r);return r})}},{key:"identityFunc",value:function(e){return e=e||"id",function(t,n){return t[e]===n[e]}}},{key:"reset",value:function(e){(0,A.default)(this.cache,e+".data")}},{key:"invalidate",value:function(){(0,w.default)(this.cache,function(e){return(0,w.default)(e,function(e){e.invalidWhenLoggedOut&&(e.data=null)})})}}]),e}(),W=t.CommonDicts=new K},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.querySelector("[ng-app]")||document.documentElement,t=a.default.element(e).injector();if(t)return t;for(var n=e.childNodes,r=0;r<n.length;r++){var o=i(n[r]);if(o)return o}return null}Object.defineProperty(t,"__esModule",{value:!0}),t.getInjector=i;var o=n(181),a=r(o),s=n(182),l=r(s),c=null;t.default=c,(0,l.default)(t,"default",function(){return c||(c=i())})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.kmRequestQueue=t.kmNoty=t.kmBase64=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(286),c=r(l),u=n(3),d=r(u),f=function(){function e(){(0,o.default)(this,e)}return(0,s.default)(e,[{key:"n",value:function(e,t,n){new c.default({text:'<div class="alert">'+t+"</div>",type:e,dismissQueue:!0,layout:"topRight",closeWith:["click"],maxVisible:10,timeout:n||3e3}).show()}},{key:"info",value:function(e){this.n("info",e)}},{key:"success",value:function(e){this.n("success",e||"恭喜！操作成功！")}},{key:"warn",value:function(e){this.n("warning",e)}},{key:"clientError",value:function(e){this.n("warning",e||"抱歉！操作失败！")}},{key:"serverError",value:function(e){this.n("error",e||"服务器发生错误，请稍后再试！")}}]),e}(),p=function(){function e(){(0,o.default)(this,e),this.list={}}return(0,s.default)(e,[{key:"doHttp",value:function(e,t){var n=this;if(t&&this.list[e.url])return this.list[e.url];var r=d.default.get("$q").defer();return t&&(this.list[e.url]=r.promise),d.default.get("$http")(e).then(function(i){t&&n.pop(e.url),i.data.code<300?r.resolve(i.data.data):r.reject(i.data)},function(i){t&&n.pop(e.url),r.reject({code:i.status,msg:i.statusText})}),r.promise}},{key:"downloadFile",value:function(e){var t=d.default.get("$q").defer();return d.default.get("$http")(e).then(function(e){var n=e.headers("content-disposition");if(!n)return void t.reject({data:null});var r=e.data,i=URL.createObjectURL(new Blob([r],{type:r.type}));n=n.substring(n.indexOf("filename=")+9),n=decodeURI(n),t.resolve({data:i,fileName:n})},function(e){t.reject({code:e.status,msg:e.statusText})}),t.promise}},{key:"add",value:function(e){this.list[e]}},{key:"pop",value:function(e){this.list[e]&&delete this.list[e]}},{key:"isInList",value:function(e){return!!this.list[e]}}]),e}();t.kmBase64=function(){var t=void 0;void 0!==e&&e.exports&&(t=n(287).Buffer);var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(r),o=String.fromCharCode,a=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?o(192|t>>>6)+o(128|63&t):o(224|t>>>12&15)+o(128|t>>>6&63)+o(128|63&t)}var n=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return o(240|n>>>18&7)+o(128|n>>>12&63)+o(128|n>>>6&63)+o(128|63&n)},s=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,l=function(e){return e.replace(s,a)},c=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[r.charAt(n>>>18),r.charAt(n>>>12&63),t>=2?"=":r.charAt(n>>>6&63),t>=1?"=":r.charAt(63&n)].join("")},u=function(e){return e.replace(/[\s\S]{1,3}/g,c)},d=t?function(e){return(e.constructor===t.constructor?e:new t(e)).toString("base64")}:function(e){return u(l(e))},f=function(e,t){return t?d(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):d(String(e))},p=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),h=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return o(55296+(n>>>10))+o(56320+(1023&n));case 3:return o((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return o((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},v=function(e){return e.replace(p,h)},g=function(e){var t=e.length,n=t%4,r=(t>0?i[e.charAt(0)]<<18:0)|(t>1?i[e.charAt(1)]<<12:0)|(t>2?i[e.charAt(2)]<<6:0)|(t>3?i[e.charAt(3)]:0),a=[o(r>>>16),o(r>>>8&255),o(255&r)];return a.length-=[0,0,2,1][n],a.join("")},m=function(e){return e.replace(/[\s\S]{1,4}/g,g)},b=t?function(e){return(e.constructor===t.constructor?e:new t(e,"base64")).toString()}:function(e){return v(m(e))};return{encode:f,decode:function(e){return b(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))}}}(),t.kmNoty=new f,t.kmRequestQueue=new p},function(e,t,n){e.exports={default:n(308),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(28),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(310),o=r(i),a=n(126),s=r(a),l=n(28),c=r(l);t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,c.default)(t)));e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(o.default?(0,o.default)(e,t):e.__proto__=t)}},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(5),o=r(i),a=n(26),s=r(a);t.default=function e(t,n,r){null===t&&(t=Function.prototype);var i=(0,s.default)(t,n);if(void 0===i){var a=(0,o.default)(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var l=i.get;if(void 0!==l)return l.call(r)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a,s,l,c,u=n(26),d=r(u),f=n(126),p=r(f),h=n(70),v=r(h),g=n(104),m=r(g),b=n(5),y=r(b),A=n(0),x=r(A),w=n(1),k=r(w),$=n(6),_=r($),I=n(7),C=r(I),S=n(3),E=r(S),D=n(27),P=r(D),T=n(4),M=n(2),R=n(127),B=r(R),j=(o=(0,P.default)(1e3),a=(0,P.default)(1e3),s=(0,P.default)(500),l=(0,P.default)(2e3),c=function(e){function t(e,n){(0,x.default)(this,t);var r=(0,_.default)(this,(t.__proto__||(0,y.default)(t)).call(this,n));r.listUrl="",r.totalItems=0,r.manageCity=[];var i=E.default.get("kmPaginationUtil").getPagination(E.default.get("$state").current.name);return r.isAdvSearchMode=i.isAdvSearchMode||!1,r.itemsPerPage=i.itemsPerPage||10,r.currentPage=i.currentPage||1,r.condition=i.condition||{},r.extCondition=i.extCondition||{},r.transform=i.transform||{},r.sorting=i.sorting||[],r.typeId=i.typeId||void 0,r.cityId=i.cityId||void 0,r.data=!1,r.allSelected=!1,r.someSelected=!1,r.hideCity=!1,e?(r.selectionWatcher=e.$watch(function(){if(!r.data)return 0;var e=2;return r.data.forEach(function(t){t.selected?e|=1:e&=1}),e},function(e){r.someSelected=1==(1&e),r.allSelected=2==(2&e)}),r):(0,_.default)(r)}return(0,C.default)(t,e),(0,k.default)(t,[{key:"$onDestroy",value:function(){this.selectionWatcher&&this.selectionWatcher()}},{key:"loadData",value:function(){var e=this;if(!this.listUrl)return 0;var t=this.condition;(0,m.default)(t).forEach(function(e){t[e]||delete t[e]});var n=(0,m.default)(this.transform);return n.length&&(t=(0,v.default)({},t,n.reduce(function(t,n){return void 0!==e.transform[n].value&&("$"==n.charAt(0)?t[e.transform[n].key]=e.transform[n].value:t[e.transform[n].key+n]=e.transform[n].value),t},{}))),(0,v.default)(t,this.extCondition),M.Request.post(this.listUrl,null,{condition:t,pageSize:this.itemsPerPage,pageNo:this.currentPage,sortingList:this.sorting,cityId:this.cityId,typeId:this.typeId},!0).then(function(t){return t&&t.content&&t.content.length?(t.total&&t.total>0&&(e.totalItems=t.total),e.data=t.content,setTimeout(function(){E.default.get("kmScroller").init(document.getElementById("scrolling-container"),{contentSelector:".scrolling-content",footer:{selector:".list-footer",fixTo:{bottom:18,right:18}}})},200),t.total):e.data=0},function(t){var n=(t.code,t.msg);return T.kmNoty.serverError(n),e.data="",0})}},{key:"search",value:function(){this.currentPage=0}},{key:"reset",value:function(){var e=this;this.condition={};var t={},n=this.isAdvSearchMode?(0,m.default)((0,y.default)(this.transform)):(0,m.default)(this.transform);n.length&&n.forEach(function(n){t[n]={key:e.transform[n].key}}),this.transform=t,this.currentPage=0}},{key:"setTransform",value:function(e,t){this.transform[e]||(this.transform[e]=t)}},{key:"sort",value:function(e,t){angular.element(e.target).hasClass("sortable")&&(this.sorting[t]?1===this.sorting[t]?delete this.sorting[t]:this.sorting[t]=1:(this.sorting={},this.sorting[t]=-1),this.currentPage=0)}},{key:"toggleAll",value:function(e){var t=this;if(!this.data)return void e.preventDefault();this.data.forEach(function(e){return e.selected=t.allSelected})}},{key:"toggleSearchMode",value:function(){this.isAdvSearchMode=!this.isAdvSearchMode;var e=(0,y.default)(this.condition),t=(0,y.default)(this.transform);this.condition=(0,p.default)(this.condition),this.transform=(0,p.default)(this.transform),e.hasOwnProperty("hasOwnProperty")||((0,v.default)(this.condition,e),(0,v.default)(this.transform,t))}},{key:"removeItems",value:function(e){(this.currentPage-1)*this.itemsPerPage+e==this.totalItems?this.currentPage-=1:this.currentPage=-1,this.allSelected=!1}},{key:"gotoState",value:function(e,t){console.assert(this.currentPage>0,"currentPage<=0");var n={isAdvSearchMode:this.isAdvSearchMode,itemsPerPage:this.itemsPerPage,currentPage:this.currentPage,condition:this.condition,extCondition:this.extCondition,transform:this.transform,sorting:this.sorting,cityId:this.cityId,typeId:this.typeId},r=E.default.get("$state"),i=r.current.name;r.go(e,t,{custom:n}).then(function(e){E.default.get("kmPaginationUtil").leaveState(i,n)})}}]),t}(B.default),i(c.prototype,"search",[o],(0,d.default)(c.prototype,"search"),c.prototype),i(c.prototype,"reset",[a],(0,d.default)(c.prototype,"reset"),c.prototype),i(c.prototype,"toggleSearchMode",[s],(0,d.default)(c.prototype,"toggleSearchMode"),c.prototype),i(c.prototype,"gotoState",[l],(0,d.default)(c.prototype,"gotoState"),c.prototype),c);t.default=j},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(3),c=r(l),u=n(326),d=r(u),f=n(327),p=r(f),h=function(){function e(){(0,o.default)(this,e)}return(0,s.default)(e,null,[{key:"chooseImage",value:function(e){return c.default.get("ngDialog").open({template:n(328),plain:!0,controller:d.default,resolve:{options:function(){return e}},controllerAs:"$ctrl"})}},{key:"openConfirm",value:function(e){return c.default.get("ngDialog").open({template:n(329),plain:!0,controller:p.default,resolve:{options:function(){return e}},controllerAs:"$ctrl"})}},{key:"openTemplate",value:function(e,t,n){var r={template:t,plain:!0,controller:n,resolve:{options:function(){return e}},controllerAs:"$ctrl"};return e&&(e.className&&(r.className=e.className),e.width&&(r.width=e.width)),c.default.get("ngDialog").open(r)}}]),e}();t.default=h},function(e,t,n){var r=n(64)("wks"),i=n(44),o=n(14).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ACTIVE_CITY_ID="activeCityId",t.CHANGE_CITY="changeCity"},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(14),i=n(8),o=n(29),a=n(22),s=function(e,t,n){var l,c,u,d=e&s.F,f=e&s.G,p=e&s.S,h=e&s.P,v=e&s.B,g=e&s.W,m=f?i:i[t]||(i[t]={}),b=m.prototype,y=f?r:p?r[t]:(r[t]||{}).prototype;f&&(n=t);for(l in n)(c=!d&&y&&void 0!==y[l])&&l in m||(u=c?y[l]:n[l],m[l]=f&&"function"!=typeof y[l]?n[l]:v&&c?o(u,r):g&&y[l]==u?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(u):h&&"function"==typeof u?o(Function.call,u):u,h&&((m.virtual||(m.virtual={}))[l]=u,e&s.R&&b&&!b[l]&&a(b,l,u)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t,n){var r=n(23);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(17),i=n(95),o=n(60),a=Object.defineProperty;t.f=n(19)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(30)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){},function(e,t){e.exports=dll_library},function(e,t,n){var r=n(18),i=n(35);e.exports=n(19)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(98),i=n(58);e.exports=function(e){return r(i(e))}},function(e,t,n){e.exports={default:n(216),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments[1];return function(n,r,i){if(!i)throw new Error("can not use Throttle decorator with a constructor!");var o=i.value||n[r],a=void 0;return i.value=function(){var n=Date.now();if(!a||n-a>e){for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];o.apply(t||this,i),a=n}},i}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(159),o=r(i),a=n(169),s=r(a),l="function"==typeof s.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};t.default="function"==typeof s.default&&"symbol"===l(o.default)?function(e){return void 0===e?"undefined":l(e)}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":void 0===e?"undefined":l(e)}},function(e,t,n){var r=n(43);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports={}},function(e,t,n){e.exports=n(21)(16)},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){"use strict";var r=n(161)(!0);n(94)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(97),i=n(65);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(58);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(228),i=n(231),o=i(r);e.exports=o},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5),o=r(i),a=n(0),s=r(a),l=n(1),c=r(l),u=n(6),d=r(u),f=n(9),p=r(f),h=n(7),v=r(h),g=n(3),m=r(g),b=n(4),y=n(2),A=n(127),x=r(A),w=function(e){function t(e,n){(0,s.default)(this,t);var r=(0,d.default)(this,(t.__proto__||(0,o.default)(t)).call(this,n));return r.listUrl="",r.condition={},r.data=!1,r.allSelected=!1,r.someSelected=!1,e?(r.selectionWatcher=e.$watch(function(){if(!r.data)return 0;var e=2;return r.data.forEach(function(t){t.selected?e|=1:e&=1}),e},function(e){r.someSelected=1==(1&e),r.allSelected=2==(2&e)}),r):(0,d.default)(r)}return(0,v.default)(t,e),(0,c.default)(t,[{key:"$onInit",value:function(){(0,p.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"$onInit",this).call(this),this.loadData()}},{key:"$onDestroy",value:function(){this.selectionWatcher&&this.selectionWatcher()}},{key:"loadData",value:function(){var e=this;if(!this.listUrl)return 0;var t=void 0;return t="/"===this.listUrl.charAt(0)?y.Request.post(this.listUrl,null,this.condition):m.default.get("$q").when(y.CommonDicts.getList(this.listUrl,null,"post")),t.then(function(t){if(!t||!t.length)return void(e.data=0);e.data=t,setTimeout(function(){m.default.get("kmScroller").init(document.getElementById("scrolling-container"),{contentSelector:".scrolling-content",footer:{selector:".list-footer",fixTo:{bottom:18,right:18}}})},200)},function(t){var n=(t.code,t.msg);b.kmNoty.serverError(n),e.data=""})}},{key:"toggleAll",value:function(e){var t=this;if(!this.data)return void e.preventDefault();this.data.forEach(function(e){return e.selected=t.allSelected})}}]),t}(x.default);t.default=w},function(e,t){e.exports=!0},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(18).f,i=n(24),o=n(12)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){n(166);for(var r=n(14),i=n(22),o=n(31),a=n(12)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c=s[l],u=r[c],d=u&&u.prototype;d&&!d[a]&&i(d,a,c),o[c]=o.Array}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=window.getComputedStyle(e)[t];return(parseInt(n,10)||0===parseInt(n,10))&&(n=parseInt(n,10)),n}function o(e,t,n){return"number"==typeof n&&(n=n.toString()+"px"),e.style[t]=n,e}function a(e,t){return(0,u.default)(t).forEach(function(n){var r=t[n];"number"==typeof r&&(r=r.toString()+"px"),e.style[n]=r}),e}var s=n(28),l=r(s),c=n(104),u=r(c),d={createElement:function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild},appendTo:function(e,t){t.appendChild(e)},addClass:function(e,t){var n=e.className.split(" ");return n.indexOf(t)<0&&n.push(t),e.className=n.join(" "),e},removeClass:function(e,t){var n=e.className.split(" "),r=n.indexOf(t);return r>-1&&n.splice(r,1),e.className=n.join(" "),e},css:function(e,t,n){return"object"===(void 0===t?"undefined":(0,l.default)(t))?a(e,t):void 0===n?i(e,t):o(e,t,n)}};e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(1),s=r(a),l=function(){function e(){(0,o.default)(this,e)}return(0,s.default)(e,[{key:"bind",value:function(e,t,n){e.addEventListener(t,n,!1)}},{key:"unbind",value:function(e,t,n){e.removeEventListener(t,n,!1)}},{key:"once",value:function(e,t,n){var r=this,i=function i(o){r.unbind(e,t,i),n(o)};this.bind(e,t,i)}}]),e}();e.exports=new l},function(e,t,n){function r(e,t){return i(e)?e:o(e,t)?[e]:a(s(e))}var i=n(15),o=n(74),a=n(221),s=n(223);e.exports=r},function(e,t,n){function r(e){return null!=e&&o(e.length)&&!i(e)}var i=n(232),o=n(107);e.exports=r},function(e,t,n){var r=n(234),i=n(235),o=n(112),a=n(114),s=n(75),l=o(function(e,t){var n=s(t);return a(n)&&(n=void 0),a(e)?r(e,i(t,1,a,!0),void 0,n):[]});e.exports=l},function(e,t){function n(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}e.exports=n},function(e,t,n){function r(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?s(e)?o(e[0],e[1]):i(e):l(e)}var i=n(253),o=n(268),a=n(113),s=n(15),l=n(272);e.exports=r},function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}var i=n(117);e.exports=r},function(e,t,n){e.exports={default:n(357),__esModule:!0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(23),i=n(14).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(23);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(17),i=n(163),o=n(65),a=n(63)("IE_PROTO"),s=function(){},l=function(){var e,t=n(59)("iframe"),r=o.length;for(t.style.display="none",n(99).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[o[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(57),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(64)("keys"),i=n(44);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(14),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){t.f=n(12)},function(e,t,n){var r=n(14),i=n(8),o=n(42),a=n(66),s=n(18).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(47),i=n(35),o=n(25),a=n(60),s=n(24),l=n(95),c=Object.getOwnPropertyDescriptor;t.f=n(19)?c:function(e,t){if(e=o(e),t=a(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){e.exports={default:n(197),__esModule:!0}},function(e,t,n){var r=n(16),i=n(8),o=n(30);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){"use strict";function r(e){e.html5Mode(!0)}Object.defineProperty(t,"__esModule",{value:!0}),r.$inject=["$locationProvider"],window.wangEditor=n(210),t.default={restful:!0,locationConfig:r}},function(e,t,n){e.exports={default:n(215),__esModule:!0}},function(e,t,n){function r(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(s.test(e)||!a.test(e)||null!=t&&e in Object(t))}var i=n(15),o=n(220),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=r},function(e,t){function n(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}e.exports=n},function(e,t,n){function r(e,t){t=i(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[o(t[n++])];return n&&n==r?e:void 0}var i=n(50),o=n(33);e.exports=r},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){function r(){if(!arguments.length)return[];var e=arguments[0];return i(e)?e:[e]}var i=n(15);e.exports=r},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t,n){function r(e,t){return!!(null==e?0:e.length)&&i(e,t,0)>-1}var i=n(53);e.exports=r},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t){function n(e,t){return null==e?"":i.call(e,t)}var r=Array.prototype,i=r.join;e.exports=n},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){var r=n(37),i=n(12)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var r=n(85),i=n(12)("iterator"),o=n(31);e.exports=n(8).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(2),c=n(4),u=n(32),d=r(u),f=function(){function e(t,n){(0,o.default)(this,e),n.keeper.length&&(n.keeper={realname:n.keeper.length+"位犬主"}),this.$scope=t,this.options=n,this.warningRule={days:"0"}}return(0,s.default)(e,[{key:"ok",value:function(){var e=this;if(!+this.warningRule.days)return void c.kmNoty.info("必须选定警告期限");if(!+this.warningRule.credit&&!+this.warningRule.fine)return void c.kmNoty.info("扣分或罚款至少有一个必须大于0");var t=(0,d.default)().startOf("day").add(this.warningRule.days-1,"days")._d;l.Request.post(this.options.warnApi,null,{list:this.options.list,deadline:t,credit:+this.warningRule.credit,fine:+this.warningRule.fine}).then(function(){c.kmNoty.info("警告成功"),e.$scope.closeThisDialog("ok")},function(e){var t=e.msg;return c.kmNoty.serverError(t||"警告失败，稍后请重试。")})}},{key:"close",value:function(){this.$scope.closeThisDialog("cancel")}}]),e}();t.default=f,f.$inject=["$scope","options"]},function(e,t){e.exports='<form class="warn-form km-form km-form-dialog">\r\n  <h2 class="form-title">{{$ctrl.options.type}}警告</h2>\r\n  <div class="h-flex-box justify-between">\r\n    <div class="form-group h-flex-box">\r\n      <label>警告对象：</label>\r\n      <span ng-bind="$ctrl.options.keeper.realname"></span>\r\n    </div>\r\n    <div ng-if="$ctrl.options.keeper.warningCountCurrent!=undefined" class="form-group h-flex-box">\r\n      <label>当前警告次数：</label>\r\n      <span ng-bind="$ctrl.options.keeper.warningCountCurrent"></span>\r\n    </div>\r\n  </div>\r\n  <div class="h-flex-box form-controls justify-between">\r\n    <div class="form-group h-flex-box">\r\n      <label>期限</label>\r\n      <select class="form-control" ng-model="$ctrl.warningRule.days">\r\n        <option value="0">请选择</option>\r\n        <option value="7">一周</option>\r\n        <option value="14">两周</option>\r\n        <option value="21">三周</option>\r\n        <option value="30">一个月</option>\r\n        <option value="60">两个月</option>\r\n      </select>\r\n    </div>\r\n    <div class="form-group h-flex-box">\r\n      <label>扣分</label>\r\n      <div km-number-input ng-model="$ctrl.warningRule.credit" min="0" max="12"></div>\r\n    </div>\r\n    <div class="form-group h-flex-box">\r\n      <label>罚款</label>\r\n      <div km-number-input ng-model="$ctrl.warningRule.fine" step="50" min="0" max="500"></div>\r\n    </div>\r\n  </div>\r\n  <div class="h-flex-box justify-between form-bottom-btns">\r\n    <a class="btn btn-default" ng-click="$ctrl.close()">取消</a>\r\n    <a class="btn btn-primary" ng-click="$ctrl.ok()">确定</a>\r\n  </div>\r\n</form>'},function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=i(t),this.reject=i(n)}var i=n(43);e.exports.f=function(e){return new r(e)}},function(e,t,n){function r(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=null==n?0:o(n);return s<0&&(s=a(r+s,0)),i(e,t,s)}var i=n(53),o=n(361),a=Math.max;e.exports=r},function(e,t,n){function r(e,t){return(s(e)?i:a)(e,o(t,3))}var i=n(40),o=n(54),a=n(362),s=n(15);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(3),c=r(l),u=n(2),d=n(13),f=n(129),p=function(){function e(t){(0,o.default)(this,e),this.scope=t}return(0,s.default)(e,[{key:"$onInit",value:function(){var e=this,t=u.CommonDicts.getCache(d.ACTIVE_CITY_ID).data;c.default.get("$q").when(u.CommonDicts.getList("organization.city",null,"post")).then(function(n){e.cityList=f.CommonFun.deepCopy(n);for(var r=0,i=e.cityList;r<i.length;r++)if(i[r].cityId==t)return void(e.cityList[r].active=!0);e.cityList[0].active=!0})}},{key:"getCity",value:function(){return this.cityList}},{key:"chooseCity",value:function(e){this.cityList.map(function(e){e.active=!1}),this.cityList[e].active=!0,this.cityId=this.cityList[e].cityId,u.CommonDicts.setCache(d.ACTIVE_CITY_ID,this.cityId),this.scope.$broadcast(d.CHANGE_CITY,this.cityId)}}]),e}();t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(2),c=n(4),u=function(){function e(t,n){(0,o.default)(this,e),this.$scope=t,this.options=n}return(0,s.default)(e,[{key:"reject",value:function(e){var t=this;if(!e||e.length<=0)c.kmNoty.serverError("请填写驳回原因");else{var n=this.options.list;l.Request.post("/client/console/pet_switch_card/reject",null,{list:n,reason:e}).then(function(){c.kmNoty.info("驳回成功"),t.$scope.closeThisDialog("ok")},function(e){var t=e.msg;return c.kmNoty.serverError(t||"驳回失败，稍后请重试。")})}}}]),e}();t.default=u,u.$inject=["$scope","options"]},function(e,t,n){"use strict";var r=n(42),i=n(16),o=n(96),a=n(22),s=n(24),l=n(31),c=n(162),u=n(45),d=n(100),f=n(12)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,v,g,m,b){c(n,t,v);var y,A,x,w=function(e){if(!p&&e in I)return I[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",$="values"==g,_=!1,I=e.prototype,C=I[f]||I["@@iterator"]||g&&I[g],S=C||w(g),E=g?$?w("entries"):S:void 0,D="Array"==t?I.entries||C:C;if(D&&(x=d(D.call(new e)))!==Object.prototype&&x.next&&(u(x,k,!0),r||s(x,f)||a(x,f,h)),$&&C&&"values"!==C.name&&(_=!0,S=function(){return C.call(this)}),r&&!b||!p&&!_&&I[f]||a(I,f,S),l[t]=S,l[k]=h,g)if(y={values:$?S:w("values"),keys:m?S:w("keys"),entries:E},b)for(A in y)A in I||o(I,A,y[A]);else i(i.P+i.F*(p||_),t,y);return y}},function(e,t,n){e.exports=!n(19)&&!n(30)(function(){return 7!=Object.defineProperty(n(59)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){e.exports=n(22)},function(e,t,n){var r=n(24),i=n(25),o=n(164)(!1),a=n(63)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(37);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(14).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(24),i=n(38),o=n(63)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(97),i=n(65).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t){},function(e,t){},function(e,t,n){e.exports={default:n(200),__esModule:!0}},function(e,t,n){var r=n(77),i=r(Object.keys,Object);e.exports=i},function(e,t){function n(e){return i.call(e)}var r=Object.prototype,i=r.toString;e.exports=n},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;e.exports=n},function(e,t,n){function r(e,t){return!!(null==e?0:e.length)&&i(e,t,0)>-1}var i=n(53);e.exports=r},function(e,t){function n(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}e.exports=n},function(e,t,n){e.exports=n(21)(62)},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){function r(e,t){return a(o(e,t,i),e+"")}var i=n(113),o=n(241),a=n(243);e.exports=r},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function r(e){return o(e)&&i(e)}var i=n(51),o=n(82);e.exports=r},function(e,t,n){function r(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}var i=n(76);e.exports=r},function(e,t,n){function r(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var i=n(251);e.exports=r},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t){function n(e,t){var n=typeof e;return!!(t=null==t?r:t)&&("number"==n||"symbol"!=n&&i.test(e))&&e>-1&&e%1==0&&e<t}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t,n){function r(e,t,n){var r=s(e)?i:a;return n&&l(e,t,n)&&(t=void 0),r(e,o(t,3))}var i=n(120),o=n(54),a=n(274),s=n(15),l=n(275);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(255),o=n(256),a=n(257),s=n(258),l=n(259);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=l,e.exports=r},function(e,t,n){function r(e,t,n,a,s){return e===t||(null==e||null==t||!o(e)&&!o(t)?e!==e&&t!==t:i(e,t,n,a,r,s))}var i=n(260),o=n(82);e.exports=r},function(e,t){function n(e){return i.call(e)}var r=Object.prototype,i=r.toString;e.exports=n},function(e,t,n){function r(e){return e===e&&!i(e)}var i=n(78);e.exports=r},function(e,t){function n(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=n},function(e,t,n){e.exports={default:n(314),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=function(){function e(t){(0,o.default)(this,e),this.watchFunc=t}return(0,s.default)(e,[{key:"$onInit",value:function(){this.watchFunc&&this.watchFunc()}}]),e}();t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(319),o=r(i),a=n(322),s=r(a);t.default=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=(0,s.default)(e);!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,o.default)(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CommonFun=void 0;var i=n(73),o=r(i),a=n(28),s=r(a),l=n(0),c=r(l),u=n(1),d=r(u),f=function(){function e(){(0,c.default)(this,e)}return(0,d.default)(e,[{key:"deepCopy",value:function(e){var t,n=e.constructor===Array?[]:{};if("object"===(void 0===e?"undefined":(0,s.default)(e))){if(window.JSON)t=(0,o.default)(e),n=JSON.parse(t);else for(var r in e)n[r]="object"===(0,s.default)(e[r])?cloneObj(e[r]):e[r];return n}}}]),e}();t.CommonFun=new f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(3),c=r(l),u=n(2),d=n(4),f=function(){function e(t,r){var i=this;(0,o.default)(this,e),this.$scope=t,this.register=r.register,this.status=r.status,this.localImg={wram:n(332)},console.log(),2===this.status?u.Request.post("/client/console/pet_register/register_info",null,{id:this.register.petId}).then(function(e){i.petCause=e.petRegisterResultDto.reason}):11===this.status&&u.Request.post("/client/console/pet_register_result/register_info",null,{id:this.register.petId}).then(function(e){i.petCause=e.petRegisterResultDto.reason}),c.default.get("$q").when(u.CommonDicts.getList("dog.breed",null,"post")).then(function(e){return i.breedDict=e}),c.default.get("$q").when(u.CommonDicts.getList("dog.color",null,"post")).then(function(e){return i.colorDict=e})}return(0,s.default)(e,[{key:"$onInit",value:function(){}},{key:"getKeeper",value:function(){var e=this;return u.Request.post("/client/console/pet_owner/auth_info",null,{petOwnerId:this.register.petOwnerId}).then(function(t){if(e.keeper=t,e.toReject=0,1==t.authStatus)for(var n in t.userIdAuthResultDto)t.userIdAuthResultDto[n]=!1})}},{key:"getDog",value:function(){var e=this;return u.Request.post("/client/console/pet/info",null,{petId:this.register.petId}).then(function(t){e.pet=t,e.pet.petValidate={aggressiveStatus:!1,birthdayStatus:!1,breedStatus:!1,colorStatus:!1,nicknameStatus:!1,photoFrontStatus:!1,photoLeftStatus:!1,photoRightStatus:!1,purposeStatus:!1,sexStatus:!1},e.toReject=0})}},{key:"toggle",value:function(e,t){e.target.checked}},{key:"immediateFocus",value:function(){this.toReject|=1}},{key:"delayBlur1",value:function(){var e=this;c.default.get("$timeout")(function(){e.toReject&=2},100)}},{key:"delayBlur2",value:function(){var e=this;c.default.get("$timeout")(function(){e.toReject&=1},100)}},{key:"rejectKeeper",value:function(e,t){if(this.toReject|=2,!t||t.length<4)return void d.kmNoty.info("驳回原因不能少于4个字！");e.userIdAuthResultDto.addressDetailStatus=e.userIdAuthResultDto.addressStatus;var n={item:e,id:e.userId,msg:t,key:"petOwnerId",vaildKey:"userIdAuthResultDto",url:"/client/console/pet_owner/auth_check"};this.rejectFunc(n)}},{key:"passKeeper",value:function(e){e.userIdAuthResultDto.addressDetailStatus=e.userIdAuthResultDto.addressStatus;var t={item:e,id:e.userId,key:"petOwnerId",vaildKey:"userIdAuthResultDto",url:"/client/console/pet_owner/auth_check"};this.passFunc(t)}},{key:"rejectPet",value:function(e,t){if(this.toReject|=2,!t||t.length<4)return void d.kmNoty.info("驳回原因不能少于4个字！");var n={item:e,id:e.petId,msg:t,key:"petId",vaildKey:"petValidate",url:"/client/console/pet_register/check"};this.rejectFunc(n)}},{key:"passPet",value:function(e){var t={item:e,id:e.petId,key:"petId",vaildKey:"petValidate",url:"/client/console/pet_register/check"};this.passFunc(t)}},{key:"passFunc",value:function(e){var t=this,n={},r=!0;for(var i in e.item[e.vaildKey])!0===e.item[e.vaildKey][i]&&(r=!1),n[i]=!e.item[e.vaildKey][i];n.pass=!0,n[e.key]=e.id,r?u.Request.post(e.url,null,n).then(function(){"petOwnerId"==e.key?(d.kmNoty.info("宠主信息已通过，请继续审核宠物信息"),t.keeper.authStatus=2):(t.$scope.closeThisDialog("ok"),d.kmNoty.info("通过审核"))},function(e){var t=e.msg;return d.kmNoty.serverError(t||"通过失败，稍后请重试。")}):d.kmNoty.info("请取消勾选您认为有问题的信息")}},{key:"rejectFunc",value:function(e){var t=this,n={},r=!1;for(var i in e.item[e.vaildKey])!0===e.item[e.vaildKey][i]&&(r=!0),n[i]=!e.item[e.vaildKey][i];n.pass=!1,n[e.key]=e.id,n.authMsg=e.msg,r?u.Request.post(e.url,null,n).then(function(){t.$scope.closeThisDialog("ok"),d.kmNoty.info("驳回成功")},function(e){var t=e.msg;return d.kmNoty.serverError(t||"驳回失败，稍后请重试。")}):d.kmNoty.info("请勾选您认为有问题的信息")}},{key:"bindDevice",value:function(){var e=this;if(!this.barcode)return void d.kmNoty.info("请确认设备编码是否正确。");u.Request.post("/client/console/pet/binding_card",null,{petId:this.register.petId,barcode:this.barcode}).then(function(){e.$scope.closeThisDialog("ok"),d.kmNoty.info("关联设备成功")},function(e){var t=e.msg;return d.kmNoty.serverError(t)})}}]),e}();t.default=f,f.$inject=["$scope","options"]},function(e,t){e.exports='<div class="km-slider" km-slide-mode="tab" km-tab-container-class="h-flex-box page-tabs" km-tab-class="tab">\r\n  <div class="km-slide" km-title="犬主信息" on-initiate="$ctrl.getKeeper()">\r\n    <div>\r\n      <div class="id-photos h-flex-box justify-between">\r\n        <p class="img-box h-flex-box justify-center center-items">\r\n          <img ng-src="{{$ctrl.keeper.cardFront|_img}}" />\r\n          <input type="checkbox" name="" ng-if="$ctrl.keeper.authStatus == 1" ng-model="$ctrl.keeper.userIdAuthResultDto.cardFrontStatus"\r\n            ng-click="$ctrl.toggle($event,$ctrl.keeper.userIdAuthResultDto.cardFrontStatus)">\r\n          <img class="wram" ng-src="{{$ctrl.localImg.wram}}" ng-if="$ctrl.keeper.authStatus == -1 && !$ctrl.keeper.userIdAuthResultDto.cardFrontStatus">\r\n        </p>\r\n        <p class="img-box h-flex-box justify-center center-items">\r\n          <img ng-src="{{$ctrl.keeper.cardReverse|_img}}" />\r\n          <input type="checkbox" name="" ng-if="$ctrl.keeper.authStatus == 1" ng-model="$ctrl.keeper.userIdAuthResultDto.cardReverseStatus"\r\n            ng-click="$ctrl.toggle($event,$ctrl.keeper.userIdAuthResultDto.cardReverseStatus)">\r\n          <img class="wram" ng-src="{{$ctrl.localImg.wram}}" ng-if="$ctrl.keeper.authStatus == -1 && !$ctrl.keeper.userIdAuthResultDto.cardReverseStatus ">\r\n        </p>\r\n      </div>\r\n      <div class="h-flex-box  keeper-register-info">\r\n        <div class="info-l">\r\n          <label for="{{$ctrl.keeper.realname}}">\r\n            <p>\r\n              <span>姓名：</span>{{$ctrl.keeper.realname}}\r\n            </p>\r\n            <input type="checkbox" name="" ng-if="$ctrl.keeper.authStatus == 1" id="{{$ctrl.keeper.realname}}" ng-model="$ctrl.keeper.userIdAuthResultDto.realnameStatus"\r\n              ng-click="$ctrl.toggle($event,$ctrl.keeper.userIdAuthResultDto.realnameStatus)">\r\n            <img class="wram" ng-src="{{$ctrl.localImg.wram}}" ng-if="$ctrl.keeper.authStatus == -1 && !$ctrl.keeper.userIdAuthResultDto.realnameStatus">\r\n          </label>\r\n          <label for="{{$ctrl.keeper.cardType}}">\r\n            <p>\r\n              <span>证件类型：</span>{{$ctrl.keeper.cardType|_cardType}}\r\n            </p>\r\n            <input type="checkbox" name="" ng-if="$ctrl.keeper.authStatus == 1" id="{{$ctrl.keeper.cardType}}" ng-model="$ctrl.keeper.userIdAuthResultDto.cardTypeStatus"\r\n              ng-click="$ctrl.toggle($event,$ctrl.keeper.userIdAuthResultDto.cardTypeStatus)">\r\n            <img class="wram" ng-src="{{$ctrl.localImg.wram}}" ng-if="$ctrl.keeper.authStatus == -1 && !$ctrl.keeper.userIdAuthResultDto.cardTypeStatus">\r\n          </label>\r\n          <label for="{{$ctrl.keeper.cardNo}}">\r\n            <p>\r\n              <span>证件号码：</span>{{$ctrl.keeper.cardNo}}\r\n            </p>\r\n            <input type="checkbox" name="" ng-if="$ctrl.keeper.authStatus == 1" id="{{$ctrl.keeper.cardNo}}" ng-model="$ctrl.keeper.userIdAuthResultDto.cardNoStatus"\r\n              ng-click="$ctrl.toggle($event,$ctrl.keeper.userIdAuthResultDto.cardNoStatus)">\r\n            <img class="wram" ng-src="{{$ctrl.localImg.wram}}" ng-if="$ctrl.keeper.authStatus == -1 && !$ctrl.keeper.userIdAuthResultDto.cardNoStatus">\r\n          </label>\r\n          <label class="ellipsis" for="{{$ctrl.keeper.addressDetail}}">\r\n            <p>\r\n              <span>居住地址：</span>{{$ctrl.keeper.addressFull}}\r\n            </p>\r\n            <input type="checkbox" name="" ng-if="$ctrl.keeper.authStatus == 1" id="{{$ctrl.keeper.addressDetail}}" ng-model="$ctrl.keeper.userIdAuthResultDto.addressStatus"\r\n              ng-click="$ctrl.toggle($event,$ctrl.keeper.userIdAuthResultDto.addressStatus)">\r\n            <img class="wram" ng-src="{{$ctrl.localImg.wram}}" ng-if="$ctrl.keeper.authStatus == -1 && !$ctrl.keeper.userIdAuthResultDto.addressStatus">\r\n            \r\n          </label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div ng-switch="$ctrl.keeper.authStatus">\r\n      <div ng-switch-when="-1" class="register-check rejected">宠主信息已被驳回({{$ctrl.keeper.userIdAuthResultDto.authMsg}})</div>\r\n      <div ng-switch-when="1" class="register-check form-inline h-flex-box" ng-class="{\'hidden\':$ctrl.toReject==undefined}">\r\n        <input type="text" class="form-control" ng-model="$ctrl.keeperCause" placeholder="驳回原因，不少于4个字" ng-focus="$ctrl.immediateFocus()"\r\n          ng-blur="$ctrl.delayBlur1()" />\r\n        <button type="button" class="btn btn-default" ng-click="$ctrl.rejectKeeper($ctrl.keeper,$ctrl.keeperCause)" ng-blur="$ctrl.delayBlur2()">驳回</button>\r\n        <button type="button" class="btn btn-primary" ng-class="{\'hidden\':$ctrl.toReject}" ng-click="$ctrl.passKeeper($ctrl.keeper)">通过</button>\r\n      </div>\r\n      <div ng-switch-when="2" class="register-check pedding">犬主信息正在审核中</div>\r\n      <div ng-switch-when="3" class="register-check passed">犬主信息认证已通过</div>\r\n    </div>\r\n  </div>\r\n  <div class="km-slide" km-title="犬只信息" on-initiate="$ctrl.getDog()">\r\n    <div class="">\r\n      <div class="pet-photos ">\r\n        <div class="h-flex-box justify-between pet-flank">\r\n          <p class="img-box h-flex-box justify-center center-items">\r\n            <img ng-src="{{$ctrl.pet.photoFront|_img}}" />\r\n            <input type="checkbox" name="" ng-if="$ctrl.status == 1" ng-model="$ctrl.pet.petValidate.photoFrontStatus" ng-click="$ctrl.toggle($event,$ctrl.pet.petValidate.photoFrontStatus)">\r\n          </p>\r\n          <p class="img-box h-flex-box justify-center center-items">\r\n            <img ng-src="{{$ctrl.pet.photoLeft|_img}}" />\r\n            <input type="checkbox" name="" ng-if="$ctrl.status == 1" ng-model="$ctrl.pet.petValidate.photoLeftStatus " ng-click="$ctrl.toggle($event,$ctrl.pet.petValidate.photoLeftStatus )">\r\n          </p>\r\n          <p class="img-box h-flex-box justify-center center-items">\r\n            <img ng-src="{{$ctrl.pet.photoRight|_img}}" />\r\n            <input type="checkbox" name="" ng-if="$ctrl.status == 1" ng-model="$ctrl.pet.petValidate.photoRightStatus " ng-click="$ctrl.toggle($event,$ctrl.pet.petValidate.photoRightStatus )">\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div class="h-flex-box justify-between pet-register-info">\r\n        <div class="info-l">\r\n          <label for="昵称">\r\n            <p>\r\n              <span>昵称：</span>{{$ctrl.pet.nickname}}\r\n            </p>\r\n            <input type="checkbox" id="昵称" ng-if="$ctrl.status == 1" ng-model="$ctrl.pet.petValidate.nicknameStatus" ng-click="$ctrl.toggle($event,$ctrl.pet.petValidate.nicknameStatus)">\r\n          </label>\r\n          <label for="性别">\r\n            <p>\r\n              <span>性别：</span>{{$ctrl.pet.sex|kmSex:1}}\r\n            </p>\r\n            <input type="checkbox" id="性别" ng-if="$ctrl.status == 1" ng-model="$ctrl.pet.petValidate.sexStatus" ng-click="$ctrl.toggle($event,$ctrl.pet.petValidate.sexStatus)">\r\n          </label>\r\n\r\n          <label for="生日">\r\n            <p>\r\n              <span>生日：</span>{{$ctrl.pet.birthday|kmDtFormated:\'yyyy年MM月dd日\'}}\r\n            </p>\r\n            <input type="checkbox" id="生日" ng-if="$ctrl.status == 1" ng-model="$ctrl.pet.petValidate.birthdayStatus" ng-click="$ctrl.toggle($event,$ctrl.pet.petValidate.birthdayStatus)">\r\n          </label>\r\n          <label for="犬龄">\r\n            <p>\r\n              <span>犬龄：</span>{{$ctrl.pet.birthday|kmAge:\'year\'}}\r\n            </p>\r\n            \x3c!-- <input type="checkbox" id="犬龄"> --\x3e\r\n          </label>\r\n          <label for="用途">\r\n            <p>\r\n              <span>用途：</span>{{$ctrl.pet.purpose|kmPurpose}}\r\n            </p>\r\n            <input type="checkbox" id="用途" ng-if="$ctrl.status == 1" ng-model="$ctrl.pet.petValidate.purposeStatus" ng-click="$ctrl.toggle($event,$ctrl.pet.petValidate.purposeStatus)">\r\n          </label>\r\n        </div>\r\n\r\n        <div class="info-c">\r\n          <label for="品种">\r\n            <p>\r\n              <span>品种：</span>{{$ctrl.pet.breed|_code2Value:$ctrl.breedDict}}\r\n            </p>\r\n            <input type="checkbox" id="品种" ng-if="$ctrl.status == 1" ng-model="$ctrl.pet.petValidate.breedStatus" ng-click="$ctrl.toggle($event,$ctrl.pet.petValidate.breedStatus)">\r\n          </label>\r\n          <label for="毛色">\r\n            <p>\r\n              <span>毛色：</span>{{$ctrl.pet.color|_code2Value:$ctrl.colorDict}}\r\n            </p>\r\n            <input type="checkbox" id="毛色" ng-if="$ctrl.status == 1" ng-model="$ctrl.pet.petValidate.colorStatus" ng-click="$ctrl.toggle($event,$ctrl.pet.petValidate.colorStatus )">\r\n          </label>\r\n          <label for="体重">\r\n            <p>\r\n              <span>体重：</span>{{$ctrl.pet.weight||10}}kg\r\n            </p>\r\n            \x3c!-- <input type="checkbox" id="体重" ng-model="$ctrl.pet.petValidate.breedStatus"\r\n            ng-click="$ctrl.toggle($event,$ctrl.pet.petValidate.breedStatus)"> --\x3e\r\n          </label>\r\n          <label for="体型">\r\n            <p>\r\n              <span>体型：</span>{{$ctrl.pet.bodyLength||80}}cm*{{$ctrl.pet.bodyHeight||60}}cm\r\n            </p>\r\n            \x3c!-- <input type="checkbox" id="体型" ng-model="$ctrl.pet.petValidate.breedStatus"\r\n            ng-click="$ctrl.toggle($event,$ctrl.pet.petValidate.breedStatus)"> --\x3e\r\n          </label>\r\n        </div>\r\n\r\n        <div class="info-r">\r\n          <label for="危险性">\r\n            <p>\r\n              <span>危险性：</span>{{$ctrl.pet.aggressive|_aggressive}}\r\n            </p>\r\n            <input type="checkbox" id="危险性" ng-if="$ctrl.status == 1" ng-model="$ctrl.pet.petValidate.aggressiveStatus" ng-click="$ctrl.toggle($event,$ctrl.pet.petValidate.aggressiveStatus)">\r\n          </label>\r\n\r\n          <label for="免疫证号">\r\n            <p>\r\n              <span>免疫证号：</span>{{$ctrl.pet.quarantineNo||\'无\'}}\r\n            </p>\r\n            \x3c!-- <input type="checkbox" id="免疫证号"> --\x3e\r\n          </label>\r\n          <label for="芯片号">\r\n            <p>\r\n              <span>芯片号：</span>{{$ctrl.pet.chipNo||\'无\'}}\r\n            </p>\r\n            \x3c!-- <input type="checkbox" id="芯片号"> --\x3e\r\n          </label>\r\n          <label for="绝育证号">\r\n            <p>\r\n              <span>绝育证号：</span>{{$ctrl.pet.sterilizationNo||\'无\'}}\r\n            </p>\r\n            \x3c!-- <input type="checkbox" id="绝育证号"> --\x3e\r\n          </label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div ng-switch="$ctrl.status">\r\n      <div ng-switch-when="1" class="register-check form-inline h-flex-box" ng-class="{\'hidden\':$ctrl.toReject==undefined}">\r\n        <input type="text" class="form-control" ng-model="$ctrl.petCause" placeholder="驳回原因，不少于4个字" ng-focus="$ctrl.immediateFocus()"\r\n          ng-blur="$ctrl.delayBlur1()" />\r\n        <button type="button" class="btn btn-default" ng-click="$ctrl.rejectPet($ctrl.pet,$ctrl.petCause)" ng-blur="$ctrl.delayBlur2()">驳回</button>\r\n        <button type="button" class="btn btn-primary" ng-class="{\'hidden\':$ctrl.toReject}" ng-click="$ctrl.passPet($ctrl.pet)">通过</button>\r\n      </div>\r\n      <div ng-switch-when="15" class="register-check form-inline h-flex-box" ng-class="{\'hidden\':$ctrl.toReject==undefined}">\r\n        <input type="text" class="form-control" ng-model="$ctrl.barcode" placeholder="请使用条码枪扫描设备条码" />\r\n        <button type="button" class="btn btn-primary" ng-click="$ctrl.bindDevice()">关联设备</button>\r\n      </div>\r\n      <div ng-switch-default class="register-check" ng-class="{\'rejected\': $ctrl.status==2||$ctrl.status==11, \'passed\': $ctrl.status==7}"\r\n        ng-switch="$ctrl.status">\r\n        <div ng-switch-when="7">登记初审已通过，请等待复审结果。</div>\r\n        <div ng-switch-default>登记申请（{{$ctrl.status==2?\'初\':\'复\'}}审）驳回原因：{{$ctrl.petCause}}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'},function(e,t){},function(e,t){e.exports='<div class="remind-detail-form km-form km-form-dialog">\r\n    <h2 class="form-title" ng-bind="$ctrl.title == \'asList\'?\'年检信息\':\'免疫信息\'"></h2>\r\n    <div class="form-content">\r\n        <div class="form-content-title h-flex-box center-items">\r\n            <span>免疫日期</span>\r\n            <span>状态</span>\r\n        </div>\r\n        <ul>\r\n            <li class="form-content-main h-flex-box center-items">\r\n                <span>2017-12-12</span>\r\n                <span>2017-12-合格</span>\r\n            </li>\r\n            <li class="form-content-main h-flex-box center-items">\r\n                <span>2017-12-12</span>\r\n                <span>2017-12-合格</span>\r\n            </li>\r\n            <li class="form-content-main h-flex-box center-items">\r\n                <span>2017-12-12</span>\r\n                <span>2017-12-合格</span>\r\n            </li>\r\n            <li class="form-content-main h-flex-box center-items">\r\n                <span>2017-12-12</span>\r\n                <span>2017-12-合格</span>\r\n            </li>\r\n            <li class="form-content-main h-flex-box center-items">\r\n                <span>2017-12-12</span>\r\n                <span>2017-12-合格</span>\r\n            </li>\r\n            <li class="form-content-main h-flex-box center-items">\r\n                <span>2017-12-12</span>\r\n                <span>2017-12-合格</span>\r\n            </li>\r\n            <li class="form-content-main h-flex-box center-items">\r\n                <span>2017-12-12</span>\r\n                <span>2017-12-合格</span>\r\n            </li>\r\n            <li class="form-content-main h-flex-box center-items">\r\n                <span>2017-12-12</span>\r\n                <span>2017-12-合格</span>\r\n            </li>\r\n        </ul>\r\n\r\n\r\n    </div>\r\n</div>'},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(3),c=r(l),u=n(41),d=(r(u),n(32)),f=r(d),p=n(11),h=r(p),v=n(2),g=n(4),m=function(){function e(t,n){(0,o.default)(this,e),console.log(n),this.data=n}return(0,s.default)(e,[{key:"$onInit",value:function(){var e=(0,f.default)(this.studyClass.startTime),t=(0,f.default)(this.studyClass.endTime);this.studyClass.duration=e.format("YYYY[-]MM[-]DD[至]")+t.format("YYYY[-]MM[-]DD[，为期]")+(t.diff(e,"days")+1)+"天";var n=(new Date).getTime();n<this.studyClass.startTime?(this.status=-1,this.className="class-unstarted fa-pause-circle-o"):n<this.studyClass.endTime?(this.status=0,this.className="class-started fa-play-circle-o"):(this.status=1,this.className="class-ended fa-stop-circle-o")}},{key:"pass",value:function(e,t){var n=void 0,r=void 0;if(void 0!==e){var i=t;n=[i.petOwnerId],r="确定学员【"+i.realname+"】本次学习成绩合格吗？"}else{if(!this.someSelected)return;if(this.data.detail.forEach(function(e){void 0!=e.clear&&(e.selected=!1)}),n=this.data.detail.filter(function(e){return e.selected}).map(function(e){return e.petOwnerId}),!n.length)return;r="确定所选的"+n.length+"位学员本次学习成绩全部合格吗？"}h.default.openConfirm({info:r}).closePromise.then(function(e){"ok"===e.value&&v.Request.post("/client/console/pet_owner_study_graduate/pass",null,{list:n}).then(function(){g.kmNoty.info("通过成功"),t.clear=!0},function(e){var t=e.msg;return g.kmNoty.serverError(t||"通过失败，稍后请重试。")})})}},{key:"reject",value:function(e,t){var n=void 0,r=void 0;if(void 0!==e){var i=t;n=[i.petOwnerId],r="确定学员【"+i.realname+"】本次学习成绩不合格吗？"}else{if(!this.someSelected)return;if(this.data.detail.forEach(function(e){void 0!=e.clear&&(e.selected=!1)}),n=this.data.detai.filter(function(e){return e.selected}).map(function(e){return e.petOwnerId}),!n.length)return;r="确定所选的"+n.length+"位学员本次学习成绩全部不合格吗？"}h.default.openConfirm({info:r}).closePromise.then(function(e){"ok"===e.value&&v.Request.post("/client/console/pet_owner_study_graduate/reject",null,{list:n}).then(function(){g.kmNoty.info("驳回成功")},function(e){var t=e.msg;return g.kmNoty.serverError(t||"驳回失败，稍后请重试。")})})}},{key:"back",value:function(){c.default.get("$window").history.back()}}]),e}();t.default=m,m.$inject=["$scope","options"]},function(e,t){e.exports='<div class="class-detail-form km-form km-form-dialog">\r\n    <h2 class="form-title">班级详情</h2>\r\n    <div class="form-content v-flex-box justify-around">\r\n        <div>\r\n            <p>\r\n                <span class="span-left">班级名称：</span>\r\n                <span ng-bind="$ctrl.data.classInfo.name"></span>\r\n            </p>\r\n            <p>\r\n                <span class="span-left">学习时间：</span>\r\n                <span ng-bind="$ctrl.data.classInfo.startTime|date:\'yyyy-MM-dd\'">2017243132</span>\r\n            </p>\r\n            <p>\r\n                <span class="span-left">学习名额：</span>\r\n                <span class="margin-right" ng-bind="$ctrl.data.classInfo.number"></span>\r\n                <spa class="span-left" n>报名人数：</span>\r\n                    <span ng-bind="$ctrl.data.classInfo.studentCount"></span>\r\n            </p>\r\n        </div>\r\n        <div class="list-form" ng-if=" $ctrl.data.detail.length > 0">\r\n            <ul class="list-from-title h-flex-box">\r\n                <li></li>\r\n                <li>姓名</li>\r\n                <li>联系方式</li>\r\n                <li>身份证号</li>\r\n                <li>宠物数量</li>\r\n                <li>违规次数</li>\r\n                <li>当前扣分</li>\r\n                <li>宠主状态</li>\r\n                <li>操作</li>\r\n            </ul>\r\n            <div class="list-from-main">\r\n                <ul class="h-flex-box " ng-repeat="info in $ctrl.data.detail track by $index">\r\n                    <li ng-bind="$index + 1"></li>\r\n                    <li ng-bind="info.realname"></li>\r\n                    <li ng-bind="info.phone"></li>\r\n                    <li ng-bind="info.cardNo"></li>\r\n                    <li ng-bind="info.petCount"></li>\r\n                    <li ng-bind="info.fineCount"></li>\r\n                    <li ng-bind="info.credit"></li>\r\n                    <li ng-class="{true:\'pass\',false:\'reject\'}[info.clear]" ng-bind="info.clear?\'已通过\':\'未通过\'"></li>\r\n                    <li ng-if="!info.clear">\r\n                        <a class="btn btn-link" ng-click="$ctrl.pass($index,info)">通过</a>\r\n                        <a class="btn btn-link" ng-click="$ctrl.reject($index,info)">驳回</a>\r\n                    </li>\r\n                    <li ng-if="info.clear">\r\n                        暂无操作\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t,n){var r=n(17);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(31),i=n(12)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(17),i=n(43),o=n(12)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r,i,o,a=n(29),s=n(349),l=n(99),c=n(59),u=n(14),d=u.process,f=u.setImmediate,p=u.clearImmediate,h=u.MessageChannel,v=u.Dispatch,g=0,m={},b=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},y=function(e){b.call(e.data)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},p=function(e){delete m[e]},"process"==n(37)(d)?r=function(e){d.nextTick(a(b,e,1))}:v&&v.now?r=function(e){v.now(a(b,e,1))}:h?(i=new h,o=i.port2,i.port1.onmessage=y,r=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",y,!1)):r="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:f,clear:p}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(17),i=n(23),o=n(89);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(12)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(52),c=r(l),u=n(90),d=r(u),f=n(119),p=r(f),h=n(363),v=r(h),g=n(91),m=r(g),b=n(367),y=r(b),A=n(4),x=n(2),w=function(){function e(t,n){var r=this;(0,o.default)(this,e),n.permissions.forEach(function(e){return e.selected=!1}),(this.editable=!!n.roleId)&&((0,y.default)(n.permissions,n.grantedPermissions,function(e,t){return e.id==t.id}).forEach(function(e){return e.selected=!0}),this.oldPermissions=n.grantedPermissions,this.permissions=n.permissions,this.roleId=n.roleId,this.roleName=n.roleName,this.$scope=t),this.groups=(0,m.default)((0,v.default)(n.permissions,"groupName"),function(e,t){var n={groupName:t,permissions:e,on:!0};return r.editable&&(n.allSelected=!(0,p.default)(e,function(e){return!e.selected})),n})}return(0,s.default)(e,[{key:"toggle",value:function(e){var t=this,n=e.target,r=void 0;if(n.classList.contains("fa"))n=n.parentElement.parentElement.parentElement,r=(0,d.default)(document.querySelector(".permissions-group-wrapper").children,n),this.groups[r].on=!this.groups[r].on;else if("checkbox"===n.type){var i=n.parentElement.parentElement;n=i.parentElement.parentElement,r=(0,d.default)(document.querySelector(".permissions-group-wrapper").children,n),i.classList.contains("list-row")?this.groups[r].allSelected=!(0,p.default)(this.groups[r].permissions,function(e){return!e.selected}):this.groups[r].permissions.forEach(function(e){return e.selected=t.groups[r].allSelected})}}},{key:"close",value:function(){this.$scope.closeThisDialog("cancel")}},{key:"ok",value:function(){var e=this,t=this.permissions.filter(function(e){return e.selected}),n=(0,c.default)(this.oldPermissions,this.permissions,function(e,t){return e.id===t.id}),r=(0,c.default)(this.oldPermissions,t,n,function(e,t){return e.id===t.id}),i=(0,c.default)(t,this.oldPermissions,function(e,t){return e.id===t.id});if(!r.length&&!i.length)return void this.$scope.closeThisDialog("ok");x.Request.post("/client/console/authority/permission/assign",null,{roleId:this.roleId,listToGrant:i.map(function(e){return e.id}),listToRevoke:r.map(function(e){return e.id})}).then(function(){A.kmNoty.success("分配权限成功"),e.$scope.closeThisDialog("ok")})}}]),e}();t.default=w,w.$inject=["$scope","options"]},function(e,t){},function(e,t){e.exports='<div class="km-form km-form-dialog user-permissions-form">\r\n  <h2 class="form-title">{{$ctrl.roleName?\'角色[\'+$ctrl.roleName+\']的\':\'用户\'}}权限清单</h2>\r\n  <div class="permissions-group-wrapper" ng-click="$ctrl.toggle($event)">\r\n    <div ng-repeat="group in $ctrl.groups track by $index">\r\n      <div class="list permission-list" ng-class="{\'collapsed\':!group.on}">\r\n        <div class="h-flex-box list-header">\r\n          <div ng-if="$ctrl.editable" class="h-flex-box center-items toggle-col"><input type="checkbox" ng-model="group.allSelected" /></div>\r\n          <div class="h-flex-box center-items">权限组：{{group.groupName}}</div>\r\n          <a class="fa align-right h-flex-box center-items" ng-class="{\'fa-toggle-on\':group.on,\'fa-toggle-off\':!group.on}"></a>\r\n        </div>\r\n        <div class="h-flex-box list-row" ng-repeat="permission in group.permissions">\r\n          <div ng-if="$ctrl.editable" class="h-flex-box center-items toggle-col"><input type="checkbox" ng-model="permission.selected" /></div>\r\n          <div class="h-flex-box center-items permission-name" ng-bind="permission.name"></div>\r\n          <div class="h-flex-box center-items permission-description" ng-bind="permission.description"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div ng-if="$ctrl.editable" class="h-flex-box justify-between form-bottom-btns">\r\n    <a class="btn btn-default" ng-click="$ctrl.close()">取消</a>\r\n    <a class="btn btn-primary" ng-click="$ctrl.ok()">确定</a>\r\n  </div>\r\n</div>'},function(e,t){e.exports='<form class="km-form km-form-dialog add-role-form">\r\n  <h2 class="form-title">{{$ctrl.originRole?\'修改角色\':\'添加角色\'}}</h2>\r\n  <div class="form-group h-flex-box">\r\n    <label>角色名</label>\r\n    <input type="text" class="form-control" ng-model="$ctrl.role.name" />\r\n  </div>\r\n  <div class="form-group h-flex-box">\r\n    <label>描述</label>\r\n    <input type="text" class="form-control" ng-model="$ctrl.role.description" />\r\n  </div>\r\n  <div class="h-flex-box justify-between form-bottom-btns">\r\n    <a class="btn btn-default" ng-click="$ctrl.close()">取消</a>\r\n    <a class="btn btn-primary" ng-click="$ctrl.ok()">确定</a>\r\n  </div>\r\n</form>'},function(e,t){e.exports='<div class="km-form km-form-dialog">\r\n    <h2 class="form-title"><span ng-bind="$ctrl.options.type"></span>(<span ng-bind="$ctrl.options.card?\'{{$ctrl.options.card.realname}}\':\'{{$ctrl.options.list.length}}位\'"></span>)</h2>\r\n    <div class="clearfix">\r\n        <textarea type="text" class="form-control fl mb" ng-model="$ctrl.condition.reason" placeholder="{{$ctrl.options.type}}..."></textarea>\r\n        <div class="search-form-actions fr">\r\n            <button class="btn btn-primary " ng-click="$ctrl.reject($ctrl.condition.reason)">驳回</button>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){e.onBefore({},function(e){if("login"===e.to().name){if(x.UserInfo.isLoggedIn()&&x.UserInfo.validate()){return x.UserInfo.current().superAdmin?e.router.stateService.target("layout.organization.staff"):e.router.stateService.target("layout.management.register.todo")}return!0}return x.UserInfo.isLoggedIn()?!!x.UserInfo.validate()||x.UserInfo.refresh().then(function(t){return!!t||(w.kmNoty.clientError("登录已过期！"),e.router.stateService.target("login"))},function(t){t.msg;return w.kmNoty.clientError("获取个人信息失败，请重新登陆。"),e.router.stateService.target("login")}):e.router.stateService.target("login")}),e.onBefore({to:"layout.**"},function(e){x.CommonDicts.setStuts("cityCtrl",!0)}),e.onBefore({to:function(e){return e.defaultSub}},function(e){return e.router.stateService.target(e.to().name+"."+e.to().defaultSub)}),e.onBefore({to:"layout.management.**.dogDetail"},function(e){x.CommonDicts.setStuts("cityCtrl",!1),e.addResolvable({token:"pet",resolveFn:function(){return k.Request.post("/client/console/pet/info",null,{petId:e.params().id})}})}),e.onBefore({to:"layout.management.**.keeperDetail"},function(e){x.CommonDicts.setStuts("cityCtrl",!1),e.addResolvable({token:"keeper",resolveFn:function(){return k.Request.post("/client/console/pet_owner/info",null,{petOwnerId:e.params().id})}})}),e.onBefore({to:"layout.enforcement.study.classDetail"},function(e){x.CommonDicts.setStuts("cityCtrl",!1),e.addResolvable({token:"studyClass",resolveFn:function(){return k.Request.post("/client/console/pet_owner_class/info",null,{classNo:e.params().classNo})}})}),e.onBefore({to:"enforcement.fines.dog."},function(e){x.CommonDicts.setStuts("cityCtrl",!1),e.addResolvable({token:"studyClass",resolveFn:function(){return k.Request.post("/client/console/pet_owner_class/info",null,{classNo:e.params().classNo})}})})}var o=n(150),a=r(o),s=n(151),l=r(s),c=n(152),u=r(c),d=n(153),f=r(d);n(155);var p=n(156),h=r(p),v=n(207),g=r(v),m=n(72),b=r(m),y=n(211),A=r(y),x=n(2),w=n(4),k=n(2),$=n(291),_=r($),I=n(302),C=r(I),S=n(305),E=r(S),D=n(307),P=r(D),T=n(316),M=r(T),R=n(317),B=r(R),j=n(318),N=r(j),O=n(325),F=r(O),U=n(331),L=r(U),Y=n(333),z=r(Y),Q=n(334),q=r(Q),H=n(337),V=r(H),G=n(338),J=r(G),K=n(339),W=r(K),X=n(134),Z=r(X),ee=n(342),te=r(ee),ne=n(343),re=r(ne),ie=n(355),oe=r(ie),ae=n(356),se=r(ae),le=n(375),ce=r(le),ue=n(379),de=r(ue),fe=n(380),pe=r(fe),he=n(381),ve=r(he),ge=n(382),me=r(ge),be=n(383),ye=r(be),Ae=n(384),xe=r(Ae),we=n(385),ke=r(we),$e=n(386),_e=r($e),Ie=n(387),Ce=r(Ie),Se=n(388),Ee=r(Se),De=n(393),Pe=r(De),Te=n(394),Me=r(Te),Re=n(395),Be=r(Re);angular.module("zcb-console",[a.default,l.default,u.default,h.default,g.default,"ui.dateTimeInput",f.default]).config(b.default.locationConfig).config(A.default).run(i).component("app",{template:n(396),controller:_.default}).component("login",{template:n(397),controller:C.default,require:{app:"^app"}}).component("home",{template:n(398),controller:E.default}).component("management",{template:n(399),controller:ve.default}).component("enforcement",{template:n(400),controller:me.default}).component("device",{template:n(401),controller:ye.default}).component("publish",{template:n(402),controller:ke.default}).component("dogs",{template:n(403),controller:P.default}).component("dogsList",{template:n(404),controller:P.default}).component("dogDetail",{template:n(405),controller:M.default,bindings:{pet:"<"}}).component("keepers",{template:n(406),controller:B.default}).component("keeperDetail",{template:n(407),controller:N.default,bindings:{keeper:"<"}}).component("fineRecords",{template:n(408),controller:F.default}).component("register",{template:n(409),controller:L.default}).component("regResult",{template:n(410),controller:z.default}).component("annualSurvey",{template:n(411),controller:q.default}).component("asList",{template:n(412),controller:V.default}).component("qList",{template:n(413),controller:J.default}).component("studyClasses",{template:n(414),controller:W.default}).component("classDetail",{template:n(135),controller:Z.default,bindings:{studyClass:"<"}}).component("study",{template:n(415),controller:te.default}).component("dogReg",{template:n(416),controller:re.default}).component("overview",{template:n(417),controller:oe.default}).component("orders",{template:n(418),controller:xe.default}).component("exchange",{template:n(419),controller:Ce.default}).component("return",{template:n(420),controller:Ee.default}).component("lose",{template:n(421),controller:_e.default}).component("advert",{template:n(422)}).component("topLine",{template:n(423),controller:Pe.default}).component("topEdit",{template:n(424),controller:Be.default}).component("petShow",{template:n(425),controller:Me.default}).component("users",{template:n(426),controller:se.default}).component("roles",{template:n(427),controller:ce.default}).component("cities",{template:n(428),controller:de.default}).component("nodes",{template:n(429),controller:pe.default}),i.$inject=["$transitions"]},function(e,t,n){e.exports=n(21)(61)},function(e,t,n){e.exports=n(21)(92)},function(e,t,n){e.exports=n(21)(93)},function(e,t,n){n(154),e.exports="ngFileUpload"},function(e,t){!function(){function e(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}function t(e,t,n){try{Object.defineProperty(e,t,{get:n})}catch(e){}}if(window.FileAPI||(window.FileAPI={}),!window.XMLHttpRequest)throw"AJAX is not supported. XMLHttpRequest is not defined.";if(FileAPI.shouldLoad=!window.FormData||FileAPI.forceLoad,FileAPI.shouldLoad){var n=function(e){if(!e.__listeners){e.upload||(e.upload={}),e.__listeners=[];var t=e.upload.addEventListener;e.upload.addEventListener=function(n,r){e.__listeners[n]=r,t&&t.apply(this,arguments)}}};e("open",function(e){return function(t,r,i){n(this),this.__url=r;try{e.apply(this,[t,r,i])}catch(n){n.message.indexOf("Access is denied")>-1&&(this.__origError=n,e.apply(this,[t,"_fix_for_ie_crossdomain__",i]))}}}),e("getResponseHeader",function(e){return function(t){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(t):null==e?null:e.apply(this,[t])}}),e("getAllResponseHeaders",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==e?null:e.apply(this)}}),e("abort",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==e?null:e.apply(this)}}),e("setRequestHeader",function(e){return function(t,r){if("__setXHR_"===t){n(this);var i=r(this);i instanceof Function&&i(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[t]=r,e.apply(this,arguments)}}),e("send",function(e){return function(){var n=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var r=arguments[0],i={url:n.__url,jsonp:!1,cache:!0,complete:function(e,r){e&&angular.isString(e)&&-1!==e.indexOf("#2174")&&(e=null),n.__completed=!0,!e&&n.__listeners.load&&n.__listeners.load({type:"load",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),!e&&n.__listeners.loadend&&n.__listeners.loadend({type:"loadend",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),"abort"===e&&n.__listeners.abort&&n.__listeners.abort({type:"abort",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),void 0!==r.status&&t(n,"status",function(){return 0===r.status&&e&&"abort"!==e?500:r.status}),void 0!==r.statusText&&t(n,"statusText",function(){return r.statusText}),t(n,"readyState",function(){return 4}),void 0!==r.response&&t(n,"response",function(){return r.response});var i=r.responseText||(e&&0===r.status&&"abort"!==e?e:void 0);t(n,"responseText",function(){return i}),t(n,"response",function(){return i}),e&&t(n,"err",function(){return e}),n.__fileApiXHR=r,n.onreadystatechange&&n.onreadystatechange(),n.onload&&n.onload()},progress:function(e){if(e.target=n,n.__listeners.progress&&n.__listeners.progress(e),n.__total=e.total,n.__loaded=e.loaded,e.total===e.loaded){var t=this;setTimeout(function(){n.__completed||(n.getAllResponseHeaders=function(){},t.complete(null,{status:204,statusText:"No Content"}))},FileAPI.noContentTimeout||1e4)}},headers:n.__requestHeaders};i.data={},i.files={};for(var o=0;o<r.data.length;o++){var a=r.data[o];null!=a.val&&null!=a.val.name&&null!=a.val.size&&null!=a.val.type?i.files[a.key]=a.val:i.data[a.key]=a.val}setTimeout(function(){if(!FileAPI.hasFlash)throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';n.__fileApiXHR=FileAPI.upload(i)},1)}else{if(this.__origError)throw this.__origError;e.apply(n,arguments)}}}),window.XMLHttpRequest.__isFileAPIShim=!0,window.FormData=FormData=function(){return{append:function(e,t,n){t.__isFileAPIBlobShim&&(t=t.data[0]),this.data.push({key:e,val:t,name:n})},data:[],__isFileAPIShim:!0}},window.Blob=Blob=function(e){return{data:e,__isFileAPIBlobShim:!0}}}}(),function(){function e(e){return"input"===e[0].tagName.toLowerCase()&&e.attr("type")&&"file"===e.attr("type").toLowerCase()}function t(){try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return!0}catch(e){if(void 0!==navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1}function n(e){var t=0,n=0;if(window.jQuery)return jQuery(e).offset();if(e.offsetParent)do{t+=e.offsetLeft-e.scrollLeft,n+=e.offsetTop-e.scrollTop,e=e.offsetParent}while(e);return{left:t,top:n}}if(FileAPI.shouldLoad){if(FileAPI.hasFlash=t(),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var r,i,o,a,s,l=document.createElement("script"),c=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)r=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)i=window.FileAPI.jsPath;else for(o=0;o<c.length;o++)if(s=c[o].src,(a=s.search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/))>-1){i=s.substring(0,a+1);break}null==FileAPI.staticPath&&(FileAPI.staticPath=i),l.setAttribute("src",r||i+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(l)}FileAPI.ngfFixIE=function(r,i,o){if(!t())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';var a=function(){var t=i.parent();r.attr("disabled")?t&&t.removeClass("js-fileapi-wrapper"):(i.attr("__ngf_flash_")||(i.unbind("change"),i.unbind("click"),i.bind("change",function(e){s.apply(this,[e]),o.apply(this,[e])}),i.attr("__ngf_flash_","true")),t.addClass("js-fileapi-wrapper"),e(r)||(t.css("position","absolute").css("top",n(r[0]).top+"px").css("left",n(r[0]).left+"px").css("width",r[0].offsetWidth+"px").css("height",r[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",r.css("display")).css("overflow","hidden").css("z-index","900000").css("visibility","visible"),i.css("width",r[0].offsetWidth+"px").css("height",r[0].offsetHeight+"px").css("position","absolute").css("top","0px").css("left","0px")))};r.bind("mouseenter",a);var s=function(e){for(var t=FileAPI.getFiles(e),n=0;n<t.length;n++)void 0===t[n].size&&(t[n].size=0),void 0===t[n].name&&(t[n].name="file"),void 0===t[n].type&&(t[n].type="undefined");e.target||(e.target={}),e.target.files=t,e.target.files!==t&&(e.__files_=t),(e.__files_||e.target.files).item=function(t){return(e.__files_||e.target.files)[t]||null}}},FileAPI.disableFileInput=function(e,t){t?e.removeClass("js-fileapi-wrapper"):e.addClass("js-fileapi-wrapper")}}}(),window.FileReader||(window.FileReader=function(){var e=this,t=!1;this.listeners={},this.addEventListener=function(t,n){e.listeners[t]=e.listeners[t]||[],e.listeners[t].push(n)},this.removeEventListener=function(t,n){e.listeners[t]&&e.listeners[t].splice(e.listeners[t].indexOf(n),1)},this.dispatchEvent=function(t){var n=e.listeners[t.type];if(n)for(var r=0;r<n.length;r++)n[r].call(e,t)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var n=function(t,n){var r={type:t,target:e,loaded:n.loaded,total:n.total,error:n.error};return null!=n.result&&(r.target.result=n.result),r},r=function(r){t||(t=!0,e.onloadstart&&e.onloadstart(n("loadstart",r)));var i;"load"===r.type?(e.onloadend&&e.onloadend(n("loadend",r)),i=n("load",r),e.onload&&e.onload(i),e.dispatchEvent(i)):"progress"===r.type?(i=n("progress",r),e.onprogress&&e.onprogress(i),e.dispatchEvent(i)):(i=n("error",r),e.onerror&&e.onerror(i),e.dispatchEvent(i))};this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,r)},this.readAsText=function(e){FileAPI.readAsText(e,r)}}),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(e){return function(t,n){if("__setXHR_"===t){var r=n(this);r instanceof Function&&r(this)}else e.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var n=angular.module("ngFileUpload",[]);n.version="12.2.13",n.service("UploadBase",["$http","$q","$timeout",function(e,t,r){function i(n){function i(e){c.notify&&c.notify(e),u.progressFunc&&r(function(){u.progressFunc(e)})}function o(e){return null!=n._start&&s?{loaded:e.loaded+n._start,total:n._file&&n._file.size||e.total,type:e.type,config:n,lengthComputable:!0,target:e.target}:e}function l(){e(n).then(function(e){if(s&&n._chunkSize&&!n._finished&&n._file){var t=n._file&&n._file.size||0;i({loaded:Math.min(n._end,t),total:t,config:n,type:"progress"}),a.upload(n,!0)}else n._finished&&delete n._finished,c.resolve(e)},function(e){c.reject(e)},function(e){c.notify(e)})}n.method=n.method||"POST",n.headers=n.headers||{};var c=n._deferred=n._deferred||t.defer(),u=c.promise;return n.disableProgress||(n.headers.__setXHR_=function(){return function(e){e&&e.upload&&e.upload.addEventListener&&(n.__XHR=e,n.xhrFn&&n.xhrFn(e),e.upload.addEventListener("progress",function(e){e.config=n,i(o(e))},!1),e.upload.addEventListener("load",function(e){e.lengthComputable&&(e.config=n,i(o(e)))},!1))}}),s?n._chunkSize&&n._end&&!n._finished?(n._start=n._end,n._end+=n._chunkSize,l()):n.resumeSizeUrl?e.get(n.resumeSizeUrl).then(function(e){n.resumeSizeResponseReader?n._start=n.resumeSizeResponseReader(e.data):n._start=parseInt((null==e.data.size?e.data:e.data.size).toString()),n._chunkSize&&(n._end=n._start+n._chunkSize),l()},function(e){throw e}):n.resumeSize?n.resumeSize().then(function(e){n._start=e,n._chunkSize&&(n._end=n._start+n._chunkSize),l()},function(e){throw e}):(n._chunkSize&&(n._start=0,n._end=n._start+n._chunkSize),l()):l(),u.success=function(e){return u.then(function(t){e(t.data,t.status,t.headers,n)}),u},u.error=function(e){return u.then(null,function(t){e(t.data,t.status,t.headers,n)}),u},u.progress=function(e){return u.progressFunc=e,u.then(null,null,function(t){e(t)}),u},u.abort=u.pause=function(){return n.__XHR&&r(function(){n.__XHR.abort()}),u},u.xhr=function(e){return n.xhrFn=function(t){return function(){t&&t.apply(u,arguments),e.apply(u,arguments)}}(n.xhrFn),u},a.promisesCount++,u.finally&&u.finally instanceof Function&&u.finally(function(){a.promisesCount--}),u}function o(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var a=this;a.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var s=this.isResumeSupported();this.isUploadInProgress=function(){return a.promisesCount>0},this.rename=function(e,t){return e.ngfName=t,e},this.jsonBlob=function(e){null==e||angular.isString(e)||(e=JSON.stringify(e));var t=new window.Blob([e],{type:"application/json"});return t._ngfBlob=!0,t},this.json=function(e){return angular.toJson(e)},this.isFile=function(e){return null!=e&&(e instanceof window.Blob||e.flashId&&e.name&&e.size)},this.upload=function(e,t){function n(t,n){if(t._ngfBlob)return t;if(e._file=e._file||t,null!=e._start&&s){e._end&&e._end>=t.size&&(e._finished=!0,e._end=t.size);var r=t.slice(e._start,e._end||t.size);return r.name=t.name,r.ngfName=t.ngfName,e._chunkSize&&(n.append("_chunkSize",e._chunkSize),n.append("_currentChunkSize",e._end-e._start),n.append("_chunkNumber",Math.floor(e._start/e._chunkSize)),n.append("_totalSize",e._file.size)),r}return t}function r(t,i,o){if(void 0!==i)if(angular.isDate(i)&&(i=i.toISOString()),angular.isString(i))t.append(o,i);else if(a.isFile(i)){var s=n(i,t),l=o.split(",");l[1]&&(s.ngfName=l[1].replace(/^\s+|\s+$/g,""),o=l[0]),e._fileKey=e._fileKey||o,t.append(o,s,s.ngfName||s.name)}else if(angular.isObject(i)){if(i.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+o;i.$$ngfCircularDetection=!0;try{for(var c in i)if(i.hasOwnProperty(c)&&"$$ngfCircularDetection"!==c){var u=null==e.objectKey?"[i]":e.objectKey;i.length&&parseInt(c)>-1&&(u=null==e.arrayKey?u:e.arrayKey),r(t,i[c],o+u.replace(/[ik]/g,c))}}finally{delete i.$$ngfCircularDetection}}else t.append(o,i)}return t||(e=o(e)),e._isDigested||(e._isDigested=!0,function(){e._chunkSize=a.translateScalars(e.resumeChunkSize),e._chunkSize=e._chunkSize?parseInt(e._chunkSize.toString()):null,e.headers=e.headers||{},e.headers["Content-Type"]=void 0,e.transformRequest=e.transformRequest?angular.isArray(e.transformRequest)?e.transformRequest:[e.transformRequest]:[],e.transformRequest.push(function(t){var n,i=new window.FormData;t=t||e.fields||{},e.file&&(t.file=e.file);for(n in t)if(t.hasOwnProperty(n)){var o=t[n];e.formDataAppender?e.formDataAppender(i,n,o):r(i,o,n)}return i})}()),i(e)},this.http=function(t){return t=o(t),t.transformRequest=t.transformRequest||function(t){return window.ArrayBuffer&&t instanceof window.ArrayBuffer||t instanceof window.Blob?t:e.defaults.transformRequest[0].apply(this,arguments)},t._chunkSize=a.translateScalars(t.resumeChunkSize),t._chunkSize=t._chunkSize?parseInt(t._chunkSize.toString()):null,i(t)},this.translateScalars=function(e){if(angular.isString(e)){if(e.search(/kb/i)===e.length-2)return parseFloat(1024*e.substring(0,e.length-2));if(e.search(/mb/i)===e.length-2)return parseFloat(1048576*e.substring(0,e.length-2));if(e.search(/gb/i)===e.length-2)return parseFloat(1073741824*e.substring(0,e.length-2));if(e.search(/b/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/s/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/m/i)===e.length-1)return parseFloat(60*e.substring(0,e.length-1));if(e.search(/h/i)===e.length-1)return parseFloat(3600*e.substring(0,e.length-1))}return e},this.urlToBlob=function(n){var r=t.defer();return e({url:n,method:"get",responseType:"arraybuffer"}).then(function(e){var t=new Uint8Array(e.data),i=e.headers("content-type")||"image/WebP",o=new window.Blob([t],{type:i}),a=n.match(/.*\/(.+?)(\?.*)?$/);a.length>1&&(o.name=a[1]),r.resolve(o)},function(e){r.reject(e)}),r.promise},this.setDefaults=function(e){this.defaults=e||{}},this.defaults={},this.version=n.version}]),n.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(e,t,n,r,i){function o(e,t,n){var i=[l.emptyPromise()];return angular.forEach(e,function(r,o){0===r.type.indexOf("image/jpeg")&&l.attrGetter("ngfFixOrientation",t,n,{$file:r})&&i.push(l.happyPromise(l.applyExifRotation(r),r).then(function(t){e.splice(o,1,t)}))}),r.all(i)}function a(e,t,n,i){var o=l.attrGetter("ngfResize",t,n);if(!o||!l.isResizeSupported()||!e.length)return l.emptyPromise();if(o instanceof Function){var a=r.defer();return o(e).then(function(r){s(r,e,t,n,i).then(function(e){a.resolve(e)},function(e){a.reject(e)})},function(e){a.reject(e)})}return s(o,e,t,n,i)}function s(e,t,n,i,o){for(var a=[l.emptyPromise()],s=0;s<t.length;s++)!function(r,s){if(0===r.type.indexOf("image")){if(e.pattern&&!l.validatePattern(r,e.pattern))return;e.resizeIf=function(e,t){return l.attrGetter("ngfResizeIf",n,i,{$width:e,$height:t,$file:r})};var c=l.resize(r,e);a.push(c),c.then(function(e){t.splice(s,1,e)},function(e){r.$error="resize",(r.$errorMessages=r.$errorMessages||{}).resize=!0,r.$errorParam=(e?(e.message?e.message:e)+": ":"")+(r&&r.name),o.$ngfValidations.push({name:"resize",valid:!1}),l.applyModelValidation(o,t)})}}(t[s],s);return r.all(a)}var l=i;return l.getAttrWithDefaults=function(e,t){if(null!=e[t])return e[t];var n=l.defaults[t];return null==n?n:angular.isString(n)?n:JSON.stringify(n)},l.attrGetter=function(t,n,r,i){var o=this.getAttrWithDefaults(n,t);if(!r)return o;try{return i?e(o)(r,i):e(o)(r)}catch(e){if(t.search(/min|max|pattern/i))return o;throw e}},l.shouldUpdateOn=function(e,t,n){var r=l.attrGetter("ngfModelOptions",t,n);return!r||!r.updateOn||r.updateOn.split(" ").indexOf(e)>-1},l.emptyPromise=function(){var e=r.defer(),n=arguments;return t(function(){e.resolve.apply(e,n)}),e.promise},l.rejectPromise=function(){var e=r.defer(),n=arguments;return t(function(){e.reject.apply(e,n)}),e.promise},l.happyPromise=function(e,n){var i=r.defer();return e.then(function(e){i.resolve(e)},function(e){t(function(){throw e}),i.resolve(n)}),i.promise},l.updateModel=function(n,r,i,s,c,u,d){function f(o,a,c,d,f){r.$$ngfPrevValidFiles=o,r.$$ngfPrevInvalidFiles=a;var p=o&&o.length?o[0]:null,h=a&&a.length?a[0]:null;n&&(l.applyModelValidation(n,o),n.$setViewValue(f?p:o)),s&&e(s)(i,{$files:o,$file:p,$newFiles:c,$duplicateFiles:d,$invalidFiles:a,$invalidFile:h,$event:u});var v=l.attrGetter("ngfModelInvalid",r);v&&t(function(){e(v).assign(i,f?h:a)}),t(function(){})}function p(){function e(){t(function(){f(A?v.concat(y):y,A?g.concat(b):b,c,m,x)},k&&k.debounce?k.debounce.change||k.debounce:0)}var o=w?h:y;a(o,r,i,n).then(function(){w?l.validate(h,A?v.length:0,n,r,i).then(function(t){y=t.validsFiles,b=t.invalidsFiles,e()}):e()},function(){for(var t=0;t<o.length;t++){var n=o[t];if("resize"===n.$error){var r=y.indexOf(n);r>-1&&(y.splice(r,1),b.push(n)),e()}}})}var h,v,g,m=[],b=[],y=[];v=r.$$ngfPrevValidFiles||[],g=r.$$ngfPrevInvalidFiles||[],n&&n.$modelValue&&(v=function(e){return angular.isArray(e)?e:[e]}(n.$modelValue));var A=l.attrGetter("ngfKeep",r,i);h=(c||[]).slice(0),"distinct"!==A&&!0!==l.attrGetter("ngfKeepDistinct",r,i)||function(){function e(e,t){return e.name===t.name&&(e.$ngfOrigSize||e.size)===(t.$ngfOrigSize||t.size)&&e.type===t.type}if(c){h=[],m=[];for(var t=0;t<c.length;t++)!function(t){var n;for(n=0;n<v.length;n++)if(e(t,v[n]))return!0;for(n=0;n<g.length;n++)if(e(t,g[n]))return!0;return!1}(c[t])?h.push(c[t]):m.push(c[t])}}();var x=!A&&!l.attrGetter("ngfMultiple",r,i)&&!l.attrGetter("multiple",r);if(!A||h.length){l.attrGetter("ngfBeforeModelChange",r,i,{$files:c,$file:c&&c.length?c[0]:null,$newFiles:h,$duplicateFiles:m,$event:u});var w=l.attrGetter("ngfValidateAfterResize",r,i),k=l.attrGetter("ngfModelOptions",r,i);l.validate(h,A?v.length:0,n,r,i).then(function(e){d?f(h,[],c,m,x):(k&&k.allowInvalid||w?y=h:(y=e.validFiles,b=e.invalidFiles),l.attrGetter("ngfFixOrientation",r,i)&&l.isExifSupported()?o(y,r,i).then(function(){p()}):p())})}},l}]),n.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(e,t,n,r){function i(e){var t=e.match(/Android[^\d]*(\d+)\.(\d+)/);if(t&&t.length>2){var n=r.defaults.androidFixMinorVersion||4;return parseInt(t[1])<4||parseInt(t[1])===n&&parseInt(t[2])<n}return-1===e.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(e)}function o(e,t,n,r,o,s,l,c){function u(){return"input"===t[0].tagName.toLowerCase()&&n.type&&"file"===n.type.toLowerCase()}function d(){return b("ngfChange")||b("ngfSelect")}function f(t){if(c.shouldUpdateOn("change",n,e)){var i=t.__files_||t.target&&t.target.files,o=[];if(!i)return;for(var a=0;a<i.length;a++)o.push(i[a]);c.updateModel(r,n,e,d(),o.length?o:null,t)}}function p(e,r){function i(t){e.attr("id","ngf-"+t),r.attr("id","ngf-label-"+t)}for(var o=0;o<t[0].attributes.length;o++){var a=t[0].attributes[o];"type"!==a.name&&"class"!==a.name&&"style"!==a.name&&("id"===a.name?(i(a.value),y.push(n.$observe("id",i))):e.attr(a.name,a.value||"required"!==a.name&&"multiple"!==a.name?a.value:a.name))}}function h(n){if(t.attr("disabled"))return!1;if(!b("ngfSelectDisabled",e)){var r=v(n);if(null!=r)return r;g(n);try{u()||document.body.contains(w[0])||(a.push({el:t,ref:w.parent()}),document.body.appendChild(w.parent()[0]),w.bind("change",f))}catch(e){}return i(navigator.userAgent)?setTimeout(function(){w[0].click()},0):w[0].click(),!1}}function v(e){var t=e.changedTouches||e.originalEvent&&e.originalEvent.changedTouches;if(t){if("touchstart"===e.type)return x=t[0].clientX,A=t[0].clientY,!0;if("touchend"===e.type){var n=t[0].clientX,r=t[0].clientY;if(Math.abs(n-x)>20||Math.abs(r-A)>20)return e.stopPropagation(),e.preventDefault(),!1}return!0}}function g(t){c.shouldUpdateOn("click",n,e)&&w.val()&&(w.val(null),c.updateModel(r,n,e,d(),null,t,!0))}function m(e){if(w&&!w.attr("__ngf_ie10_Fix_")){if(!w[0].parentNode)return void(w=null);e.preventDefault(),e.stopPropagation(),w.unbind("click");var t=w.clone();return w.replaceWith(t),w=t,w.attr("__ngf_ie10_Fix_","true"),w.bind("change",f),w.bind("click",m),w[0].click(),!1}w.removeAttr("__ngf_ie10_Fix_")}var b=function(e,t){return c.attrGetter(e,n,t)};c.registerModelChangeValidator(r,n,e);var y=[];b("ngfMultiple")&&y.push(e.$watch(b("ngfMultiple"),function(){w.attr("multiple",b("ngfMultiple",e))})),b("ngfCapture")&&y.push(e.$watch(b("ngfCapture"),function(){w.attr("capture",b("ngfCapture",e))})),b("ngfAccept")&&y.push(e.$watch(b("ngfAccept"),function(){w.attr("accept",b("ngfAccept",e))})),y.push(n.$observe("accept",function(){w.attr("accept",b("accept"))}));var A=0,x=0,w=t;u()||(w=function(){if(u())return t;var e=angular.element('<input type="file">'),n=angular.element("<label>upload</label>");return n.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),p(e,n),a.push({el:t,ref:n}),document.body.appendChild(n.append(e)[0]),e}()),w.bind("change",f),u()?t.bind("click",g):t.bind("click touchstart touchend",h),-1!==navigator.appVersion.indexOf("MSIE 10")&&w.bind("click",m),r&&r.$formatters.push(function(e){return null!=e&&0!==e.length||w.val()&&w.val(null),e}),e.$on("$destroy",function(){u()||w.parent().remove(),angular.forEach(y,function(e){e()})}),s(function(){for(var e=0;e<a.length;e++){var t=a[e];document.body.contains(t.el[0])||(a.splice(e,1),t.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(t,w,f)}var a=[];return{restrict:"AEC",require:"?ngModel",link:function(i,a,s,l){o(i,a,s,l,e,t,n,r)}}}]),function(){function e(e){return"img"===e.tagName.toLowerCase()?"image":"audio"===e.tagName.toLowerCase()?"audio":"video"===e.tagName.toLowerCase()?"video":/./}function t(t,n,r,i,o,a,s,l){function c(e){var a=t.attrGetter("ngfNoObjectUrl",o,r);t.dataUrl(e,a).finally(function(){n(function(){var t=(a?e.$ngfDataUrl:e.$ngfBlobUrl)||e.$ngfDataUrl;l?i.css("background-image","url('"+(t||"")+"')"):i.attr("src",t),t?i.removeClass("ng-hide"):i.addClass("ng-hide")})})}n(function(){var n=r.$watch(o[a],function(n){var u=s;if("ngfThumbnail"===a&&(u||(u={width:i[0].naturalWidth||i[0].clientWidth,height:i[0].naturalHeight||i[0].clientHeight}),0===u.width&&window.getComputedStyle)){var d=getComputedStyle(i[0]);d.width&&d.width.indexOf("px")>-1&&d.height&&d.height.indexOf("px")>-1&&(u={width:parseInt(d.width.slice(0,-2)),height:parseInt(d.height.slice(0,-2))})}if(angular.isString(n))return i.removeClass("ng-hide"),l?i.css("background-image","url('"+n+"')"):i.attr("src",n);!n||!n.type||0!==n.type.search(e(i[0]))||l&&0!==n.type.indexOf("image")?i.addClass("ng-hide"):u&&t.isResizeSupported()?(u.resizeIf=function(e,i){return t.attrGetter("ngfResizeIf",o,r,{$width:e,$height:i,$file:n})},t.resize(n,u).then(function(e){c(e)},function(e){throw e})):c(n)});r.$on("$destroy",function(){n()})})}n.service("UploadDataUrl",["UploadBase","$timeout","$q",function(e,t,n){var r=e;return r.base64DataUrl=function(e){if(angular.isArray(e)){var t=n.defer(),i=0;return angular.forEach(e,function(n){r.dataUrl(n,!0).finally(function(){if(++i===e.length){var n=[];angular.forEach(e,function(e){n.push(e.$ngfDataUrl)}),t.resolve(n,e)}})}),t.promise}return r.dataUrl(e,!0)},r.dataUrl=function(e,i){if(!e)return r.emptyPromise(e,e);if(i&&null!=e.$ngfDataUrl||!i&&null!=e.$ngfBlobUrl)return r.emptyPromise(i?e.$ngfDataUrl:e.$ngfBlobUrl,e);var o=i?e.$$ngfDataUrlPromise:e.$$ngfBlobUrlPromise;if(o)return o;var a=n.defer();return t(function(){if(window.FileReader&&e&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||e.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||e.size<4e6)){var n=window.URL||window.webkitURL;if(n&&n.createObjectURL&&!i){var o;try{o=n.createObjectURL(e)}catch(n){return void t(function(){e.$ngfBlobUrl="",a.reject()})}t(function(){if(e.$ngfBlobUrl=o,o){a.resolve(o,e),r.blobUrls=r.blobUrls||[],r.blobUrlsTotalSize=r.blobUrlsTotalSize||0,r.blobUrls.push({url:o,size:e.size}),r.blobUrlsTotalSize+=e.size||0;for(var t=r.defaults.blobUrlsMaxMemory||268435456,i=r.defaults.blobUrlsMaxQueueSize||200;(r.blobUrlsTotalSize>t||r.blobUrls.length>i)&&r.blobUrls.length>1;){var s=r.blobUrls.splice(0,1)[0];n.revokeObjectURL(s.url),r.blobUrlsTotalSize-=s.size}}})}else{var s=new FileReader;s.onload=function(n){t(function(){e.$ngfDataUrl=n.target.result,a.resolve(n.target.result,e),t(function(){delete e.$ngfDataUrl},1e3)})},s.onerror=function(){t(function(){e.$ngfDataUrl="",a.reject()})},s.readAsDataURL(e)}}else t(function(){e[i?"$ngfDataUrl":"$ngfBlobUrl"]="",a.reject()})}),o=i?e.$$ngfDataUrlPromise=a.promise:e.$$ngfBlobUrlPromise=a.promise,o.finally(function(){delete e[i?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),o},r}]),n.directive("ngfSrc",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(r,i,o){t(e,n,r,i,o,"ngfSrc",e.attrGetter("ngfResize",o,r),!1)}}}]),n.directive("ngfBackground",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(r,i,o){t(e,n,r,i,o,"ngfBackground",e.attrGetter("ngfResize",o,r),!0)}}}]),n.directive("ngfThumbnail",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(r,i,o){var a=e.attrGetter("ngfSize",o,r);t(e,n,r,i,o,"ngfThumbnail",a,e.attrGetter("ngfAsBackground",o,r))}}}]),n.config(["$compileProvider",function(e){e.imgSrcSanitizationWhitelist&&e.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),e.aHrefSanitizationWhitelist&&e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),n.filter("ngfDataUrl",["UploadDataUrl","$sce",function(e,t){return function(n,r,i){if(angular.isString(n))return t.trustAsResourceUrl(n);var o=n&&((r?n.$ngfDataUrl:n.$ngfBlobUrl)||n.$ngfDataUrl);return n&&!o?(!n.$ngfDataUrlFilterInProgress&&angular.isObject(n)&&(n.$ngfDataUrlFilterInProgress=!0,e.dataUrl(n,r)),""):(n&&delete n.$ngfDataUrlFilterInProgress,(n&&o?i?t.trustAsResourceUrl(o):o:n)||"")}}])}(),n.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(e,t,n){function r(e){var t="",n=[];if(e.length>2&&"/"===e[0]&&"/"===e[e.length-1])t=e.substring(1,e.length-1);else{var i=e.split(",");if(i.length>1)for(var o=0;o<i.length;o++){var a=r(i[o]);a.regexp?(t+="("+a.regexp+")",o<i.length-1&&(t+="|")):n=n.concat(a.excludes)}else 0===e.indexOf("!")?n.push("^((?!"+r(e.substring(1)).regexp+").)*$"):(0===e.indexOf(".")&&(e="*"+e),t="^"+e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",t=t.replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:t,excludes:n}}function i(e,t){null==t||e.$dirty||(e.$setDirty?e.$setDirty():e.$dirty=!0)}var o=e;return o.validatePattern=function(e,t){if(!t)return!0;var n=r(t),i=!0;if(n.regexp&&n.regexp.length){var o=new RegExp(n.regexp,"i");i=null!=e.type&&o.test(e.type)||null!=e.name&&o.test(e.name)}for(var a=n.excludes.length;a--;){var s=new RegExp(n.excludes[a],"i");i=i&&(null==e.type||s.test(e.type))&&(null==e.name||s.test(e.name))}return i},o.ratioToFloat=function(e){var t=e.toString(),n=t.search(/[x:]/i);return t=n>-1?parseFloat(t.substring(0,n))/parseFloat(t.substring(n+1)):parseFloat(t)},o.registerModelChangeValidator=function(e,t,n){e&&e.$formatters.push(function(r){if(e.$dirty){var i=r;r&&!angular.isArray(r)&&(i=[r]),o.validate(i,0,e,t,n).then(function(){o.applyModelValidation(e,i)})}return r})},o.applyModelValidation=function(e,t){i(e,t),angular.forEach(e.$ngfValidations,function(t){e.$setValidity(t.name,t.valid)})},o.getValidationAttr=function(e,t,n,r,i){var a="ngf"+n[0].toUpperCase()+n.substr(1),s=o.attrGetter(a,e,t,{$file:i});if(null==s&&(s=o.attrGetter("ngfValidate",e,t,{$file:i}))){var l=(r||n).split(".");s=s[l[0]],l.length>1&&(s=s&&s[l[1]])}return s},o.validate=function(e,n,r,i,a){function s(t,n,s){if(e){for(var l=e.length,c=null;l--;){var p=e[l];if(p){var h=o.getValidationAttr(i,a,t,n,p);null!=h&&(s(p,h,l)||(-1===u.indexOf(t)?(p.$error=t,(p.$errorMessages=p.$errorMessages||{})[t]=!0,p.$errorParam=h,-1===f.indexOf(p)&&f.push(p),d||e.splice(l,1),c=!1):e.splice(l,1)))}}null!==c&&r.$ngfValidations.push({name:t,valid:c})}}function l(n,s,l,p,h){function v(t,r,i){function o(o){if(o())if(-1===u.indexOf(n)){if(r.$error=n,(r.$errorMessages=r.$errorMessages||{})[n]=!0,r.$errorParam=i,-1===f.indexOf(r)&&f.push(r),!d){var a=e.indexOf(r);a>-1&&e.splice(a,1)}t.resolve(!1)}else{var s=e.indexOf(r);s>-1&&e.splice(s,1),t.resolve(!0)}else t.resolve(!0)}null!=i?p(r,i).then(function(e){o(function(){return!h(e,i)})},function(){o(function(){return c("ngfValidateForce",{$file:r})})}):t.resolve(!0)}var g=[o.emptyPromise(!0)];e&&(e=void 0===e.length?[e]:e,angular.forEach(e,function(e){var r=t.defer();if(g.push(r.promise),l&&(null==e.type||0!==e.type.search(l)))return void r.resolve(!0);"dimensions"===n&&null!=o.attrGetter("ngfDimensions",i)?o.imageDimensions(e).then(function(t){v(r,e,c("ngfDimensions",{$file:e,$width:t.width,$height:t.height}))},function(){r.resolve(!1)}):"duration"===n&&null!=o.attrGetter("ngfDuration",i)?o.mediaDuration(e).then(function(t){v(r,e,c("ngfDuration",{$file:e,$duration:t}))},function(){r.resolve(!1)}):v(r,e,o.getValidationAttr(i,a,n,s,e))}));var m=t.defer();return t.all(g).then(function(e){for(var t=!0,i=0;i<e.length;i++)if(!e[i]){t=!1;break}r.$ngfValidations.push({name:n,valid:t}),m.resolve(t)}),m.promise}r=r||{},r.$ngfValidations=r.$ngfValidations||[],angular.forEach(r.$ngfValidations,function(e){e.valid=!0});var c=function(e,t){return o.attrGetter(e,i,a,t)},u=(o.attrGetter("ngfIgnoreInvalid",i,a)||"").split(" "),d=o.attrGetter("ngfRunAllValidations",i,a);if(null==e||0===e.length)return o.emptyPromise({validFiles:e,invalidFiles:[]});e=void 0===e.length?[e]:e.slice(0);var f=[];s("pattern",null,o.validatePattern),s("minSize","size.min",function(e,t){return e.size+.1>=o.translateScalars(t)}),s("maxSize","size.max",function(e,t){return e.size-.1<=o.translateScalars(t)});var p=0;if(s("maxTotalSize",null,function(t,n){return!((p+=t.size)>o.translateScalars(n))||(e.splice(0,e.length),!1)}),s("validateFn",null,function(e,t){return!0===t||null===t||""===t}),!e.length)return o.emptyPromise({validFiles:[],invalidFiles:f});var h=t.defer(),v=[];return v.push(l("maxHeight","height.max",/image/,this.imageDimensions,function(e,t){return e.height<=t})),v.push(l("minHeight","height.min",/image/,this.imageDimensions,function(e,t){return e.height>=t})),v.push(l("maxWidth","width.max",/image/,this.imageDimensions,function(e,t){return e.width<=t})),v.push(l("minWidth","width.min",/image/,this.imageDimensions,function(e,t){return e.width>=t})),v.push(l("dimensions",null,/image/,function(e,t){return o.emptyPromise(t)},function(e){return e})),v.push(l("ratio",null,/image/,this.imageDimensions,function(e,t){for(var n=t.toString().split(","),r=!1,i=0;i<n.length;i++)Math.abs(e.width/e.height-o.ratioToFloat(n[i]))<.01&&(r=!0);return r})),v.push(l("maxRatio","ratio.max",/image/,this.imageDimensions,function(e,t){return e.width/e.height-o.ratioToFloat(t)<1e-4})),v.push(l("minRatio","ratio.min",/image/,this.imageDimensions,function(e,t){return e.width/e.height-o.ratioToFloat(t)>-1e-4})),v.push(l("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(e,t){return e<=o.translateScalars(t)})),v.push(l("minDuration","duration.min",/audio|video/,this.mediaDuration,function(e,t){return e>=o.translateScalars(t)})),v.push(l("duration",null,/audio|video/,function(e,t){return o.emptyPromise(t)},function(e){return e})),v.push(l("validateAsyncFn",null,null,function(e,t){return t},function(e){return!0===e||null===e||""===e})),t.all(v).then(function(){if(d)for(var t=0;t<e.length;t++){var r=e[t];r.$error&&e.splice(t--,1)}d=!1,s("maxFiles",null,function(e,t,r){return n+r<t}),h.resolve({validFiles:e,invalidFiles:f})}),h.promise},o.imageDimensions=function(e){if(e.$ngfWidth&&e.$ngfHeight){var r=t.defer();return n(function(){r.resolve({width:e.$ngfWidth,height:e.$ngfHeight})}),r.promise}if(e.$ngfDimensionPromise)return e.$ngfDimensionPromise;var i=t.defer();return n(function(){if(0!==e.type.indexOf("image"))return void i.reject("not image");o.dataUrl(e).then(function(t){function r(){var t=s[0].naturalWidth||s[0].clientWidth,n=s[0].naturalHeight||s[0].clientHeight;s.remove(),e.$ngfWidth=t,e.$ngfHeight=n,i.resolve({width:t,height:n})}function o(){s.remove(),i.reject("load error")}function a(){n(function(){s[0].parentNode&&(s[0].clientWidth?r():l++>10?o():a())},1e3)}var s=angular.element("<img>").attr("src",t).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");s.on("load",r),s.on("error",o);var l=0;a(),angular.element(document.getElementsByTagName("body")[0]).append(s)},function(){i.reject("load error")})}),e.$ngfDimensionPromise=i.promise,e.$ngfDimensionPromise.finally(function(){delete e.$ngfDimensionPromise}),e.$ngfDimensionPromise},o.mediaDuration=function(e){if(e.$ngfDuration){var r=t.defer();return n(function(){r.resolve(e.$ngfDuration)}),r.promise}if(e.$ngfDurationPromise)return e.$ngfDurationPromise;var i=t.defer();return n(function(){if(0!==e.type.indexOf("audio")&&0!==e.type.indexOf("video"))return void i.reject("not media");o.dataUrl(e).then(function(t){function r(){var t=s[0].duration;e.$ngfDuration=t,s.remove(),i.resolve(t)}function o(){s.remove(),i.reject("load error")}function a(){n(function(){s[0].parentNode&&(s[0].duration?r():l>10?o():a())},1e3)}var s=angular.element(0===e.type.indexOf("audio")?"<audio>":"<video>").attr("src",t).css("visibility","none").css("position","fixed");s.on("loadedmetadata",r),s.on("error",o);var l=0;a(),angular.element(document.body).append(s)},function(){i.reject("load error")})}),e.$ngfDurationPromise=i.promise,e.$ngfDurationPromise.finally(function(){delete e.$ngfDurationPromise}),e.$ngfDurationPromise},o}]),n.service("UploadResize",["UploadValidate","$q",function(e,t){var n=e,r=function(e,t,n,r,i){var o=i?Math.max(n/e,r/t):Math.min(n/e,r/t);return{width:e*o,height:t*o,marginX:e*o-n,marginY:t*o-r}},i=function(e,i,o,a,s,l,c,u){var d=t.defer(),f=document.createElement("canvas"),p=document.createElement("img");return p.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(p),p.onload=function(){var e=p.width,t=p.height;if(p.parentNode.removeChild(p),null!=u&&!1===u(e,t))return void d.reject("resizeIf");try{if(l){var h=n.ratioToFloat(l);e/t<h?(i=e,o=i/h):(o=t,i=o*h)}i||(i=e),o||(o=t);var v=r(e,t,i,o,c);f.width=Math.min(v.width,i),f.height=Math.min(v.height,o);f.getContext("2d").drawImage(p,Math.min(0,-v.marginX/2),Math.min(0,-v.marginY/2),v.width,v.height),d.resolve(f.toDataURL(s||"image/WebP",a||.934))}catch(e){d.reject(e)}},p.onerror=function(){p.parentNode.removeChild(p),d.reject()},p.src=e,d.promise};return n.dataUrltoBlob=function(e,t,n){for(var r=e.split(","),i=r[0].match(/:(.*?);/)[1],o=atob(r[1]),a=o.length,s=new Uint8Array(a);a--;)s[a]=o.charCodeAt(a);var l=new window.Blob([s],{type:i});return l.name=t,l.$ngfOrigSize=n,l},n.isResizeSupported=function(){var e=document.createElement("canvas");return window.atob&&e.getContext&&e.getContext("2d")&&window.Blob},n.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(e){this.$ngfName=e},configurable:!0}),n.resize=function(e,r){if(0!==e.type.indexOf("image"))return n.emptyPromise(e);var o=t.defer();return n.dataUrl(e,!0).then(function(t){i(t,r.width,r.height,r.quality,r.type||e.type,r.ratio,r.centerCrop,r.resizeIf).then(function(i){if("image/jpeg"===e.type&&!1!==r.restoreExif)try{i=n.restoreExif(t,i)}catch(e){setTimeout(function(){throw e},1)}try{var a=n.dataUrltoBlob(i,e.name,e.size);o.resolve(a)}catch(e){o.reject(e)}},function(t){"resizeIf"===t&&o.resolve(e),o.reject(t)})},function(e){o.reject(e)}),o.promise},n}]),function(){function e(e,n,r,i,o,a,s,l,c,u){function d(){return n.attr("disabled")||b("ngfDropDisabled",e)}function f(t,n,r){if(t){var i;try{i=t&&t.getData&&t.getData("text/html")}catch(e){}g(t.items,t.files,!1!==b("ngfAllowDir",e),b("multiple")||b("ngfMultiple",e)).then(function(e){e.length?p(e,n):h(r,i).then(function(e){p(e,n)})})}}function p(t,n){l.updateModel(i,r,e,b("ngfChange")||b("ngfDrop"),t,n)}function h(t,n){if(!l.shouldUpdateOn(t,r,e)||"string"!=typeof n)return l.rejectPromise([]);var i=[];n.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(e,t,n){i.push(n)});var o=[],a=[];if(i.length){angular.forEach(i,function(e){o.push(l.urlToBlob(e).then(function(e){a.push(e)}))});var s=u.defer();return u.all(o).then(function(){s.resolve(a)},function(e){s.reject(e)}),s.promise}return l.emptyPromise()}function v(e,t,n,r){var i=b("ngfDragOverClass",e,{$event:n}),o="dragover";if(angular.isString(i))o=i;else if(i&&(i.delay&&(w=i.delay),i.accept||i.reject)){var a=n.dataTransfer.items;if(null!=a&&a.length)for(var s=i.pattern||b("ngfPattern",e,{$event:n}),c=a.length;c--;){if(!l.validatePattern(a[c],s)){o=i.reject;break}o=i.accept}else o=i.accept}r(o)}function g(t,n,i,o){function a(e,t){var n=u.defer();if(null!=e)if(e.isDirectory){var r=[l.emptyPromise()];if(f){var i={type:"directory"};i.name=i.path=(t||"")+e.name,p.push(i)}var o=e.createReader(),s=[],v=function(){o.readEntries(function(i){try{i.length?(s=s.concat(Array.prototype.slice.call(i||[],0)),v()):(angular.forEach(s.slice(0),function(n){p.length<=c&&h<=d&&r.push(a(n,(t||"")+e.name+"/"))}),u.all(r).then(function(){n.resolve()},function(e){n.reject(e)}))}catch(e){n.reject(e)}},function(e){n.reject(e)})};v()}else e.file(function(e){try{e.path=(t||"")+e.name,f&&(e=l.rename(e,e.path)),p.push(e),h+=e.size,n.resolve()}catch(e){n.reject(e)}},function(e){n.reject(e)});return n.promise}var c=l.getValidationAttr(r,e,"maxFiles");null==c&&(c=Number.MAX_VALUE);var d=l.getValidationAttr(r,e,"maxTotalSize");null==d&&(d=Number.MAX_VALUE);var f=b("ngfIncludeDir",e),p=[],h=0,v=[l.emptyPromise()];if(t&&t.length>0&&"file:"!==s.location.protocol)for(var g=0;g<t.length;g++){if(t[g].webkitGetAsEntry&&t[g].webkitGetAsEntry()&&t[g].webkitGetAsEntry().isDirectory){var m=t[g].webkitGetAsEntry();if(m.isDirectory&&!i)continue;null!=m&&v.push(a(m))}else{var y=t[g].getAsFile();null!=y&&(p.push(y),h+=y.size)}if(p.length>c||h>d||!o&&p.length>0)break}else if(null!=n)for(var A=0;A<n.length;A++){var x=n.item(A);if((x.type||x.size>0)&&(p.push(x),h+=x.size),p.length>c||h>d||!o&&p.length>0)break}var w=u.defer();return u.all(v).then(function(){if(o||f||!p.length)w.resolve(p);else{for(var e=0;p[e]&&"directory"===p[e].type;)e++;w.resolve([p[e]])}},function(e){w.reject(e)}),w.promise}var m=t(),b=function(e,t,n){return l.attrGetter(e,r,t,n)};if(b("dropAvailable")&&a(function(){e[b("dropAvailable")]?e[b("dropAvailable")].value=m:e[b("dropAvailable")]=m}),!m)return void(!0===b("ngfHideOnDropNotAvailable",e)&&n.css("display","none"));null==b("ngfSelect")&&l.registerModelChangeValidator(i,r,e);var y,A=null,x=o(b("ngfStopPropagation")),w=1;n[0].addEventListener("dragover",function(t){if(!d()&&l.shouldUpdateOn("drop",r,e)){if(t.preventDefault(),x(e)&&t.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var i=t.dataTransfer.effectAllowed;t.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy"}a.cancel(A),y||(y="C",v(e,r,t,function(r){y=r,n.addClass(y),b("ngfDrag",e,{$isDragging:!0,$class:y,$event:t})}))}},!1),n[0].addEventListener("dragenter",function(t){!d()&&l.shouldUpdateOn("drop",r,e)&&(t.preventDefault(),x(e)&&t.stopPropagation())},!1),n[0].addEventListener("dragleave",function(t){!d()&&l.shouldUpdateOn("drop",r,e)&&(t.preventDefault(),x(e)&&t.stopPropagation(),A=a(function(){y&&n.removeClass(y),y=null,b("ngfDrag",e,{$isDragging:!1,$event:t})},w||100))},!1),n[0].addEventListener("drop",function(t){!d()&&l.shouldUpdateOn("drop",r,e)&&(t.preventDefault(),x(e)&&t.stopPropagation(),y&&n.removeClass(y),y=null,f(t.dataTransfer,t,"dropUrl"))},!1),n[0].addEventListener("paste",function(t){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&b("ngfEnableFirefoxPaste",e)&&t.preventDefault(),!d()&&l.shouldUpdateOn("paste",r,e)&&f(t.clipboardData||t.originalEvent.clipboardData,t,"pasteUrl")},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&b("ngfEnableFirefoxPaste",e)&&(n.attr("contenteditable",!0),n.on("keypress",function(e){e.metaKey||e.ctrlKey||e.preventDefault()}))}function t(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e&&!/Edge\/12./i.test(navigator.userAgent)}n.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(t,n,r,i,o,a){return{restrict:"AEC",require:"?ngModel",link:function(s,l,c,u){e(s,l,c,u,t,n,r,i,o,a)}}}]),n.directive("ngfNoFileDrop",function(){return function(e,n){t()&&n.css("display","none")}}),n.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(e,n,r){return function(i,o,a){if(t()){var s=e(r.attrGetter("ngfDropAvailable",a));n(function(){s(i),s.assign&&s.assign(i,!0)})}}}])}(),n.service("UploadExif",["UploadResize","$q",function(e,t){function n(e,t,n,r){switch(t){case 2:return e.transform(-1,0,0,1,n,0);case 3:return e.transform(-1,0,0,-1,n,r);case 4:return e.transform(1,0,0,-1,0,r);case 5:return e.transform(0,1,1,0,0,0);case 6:return e.transform(0,1,-1,0,r,0);case 7:return e.transform(0,-1,-1,0,r,n);case 8:return e.transform(0,-1,1,0,0,n)}}function r(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return window.btoa(t)}var i=e;return i.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&i.isResizeSupported()},i.readOrientation=function(e){var n=t.defer(),r=new FileReader,i=e.slice?e.slice(0,65536):e;return r.readAsArrayBuffer(i),r.onerror=function(e){return n.reject(e)},r.onload=function(e){var t={orientation:1},r=new DataView(this.result);if(65496!==r.getUint16(0,!1))return n.resolve(t);for(var i=r.byteLength,o=2;o<i;){var a=r.getUint16(o,!1);if(o+=2,65505===a){if(1165519206!==r.getUint32(o+=2,!1))return n.resolve(t);var s=18761===r.getUint16(o+=6,!1);o+=r.getUint32(o+4,s);var l=r.getUint16(o,s);o+=2;for(var c=0;c<l;c++)if(274===r.getUint16(o+12*c,s)){var u=r.getUint16(o+12*c+8,s);return u>=2&&u<=8&&(r.setUint16(o+12*c+8,1,s),t.fixedArrayBuffer=e.target.result),t.orientation=u,n.resolve(t)}}else{if(65280!=(65280&a))break;o+=r.getUint16(o,!1)}}return n.resolve(t)},n.promise},i.applyExifRotation=function(e){if(0!==e.type.indexOf("image/jpeg"))return i.emptyPromise(e);var o=t.defer();return i.readOrientation(e).then(function(t){if(t.orientation<2||t.orientation>8)return o.resolve(e);i.dataUrl(e,!0).then(function(a){var s=document.createElement("canvas"),l=document.createElement("img");l.onload=function(){try{s.width=t.orientation>4?l.height:l.width,s.height=t.orientation>4?l.width:l.height;var a=s.getContext("2d");n(a,t.orientation,l.width,l.height),a.drawImage(l,0,0);var c=s.toDataURL(e.type||"image/WebP",.934);c=i.restoreExif(r(t.fixedArrayBuffer),c);var u=i.dataUrltoBlob(c,e.name);o.resolve(u)}catch(e){return o.reject(e)}},l.onerror=function(){o.reject()},l.src=a},function(e){o.reject(e)})},function(e){o.reject(e)}),o.promise},i.restoreExif=function(e,t){var n={};return n.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n.encode64=function(e){var t,n,r,i,o,a="",s="",l="",c=0;do{t=e[c++],n=e[c++],s=e[c++],r=t>>2,i=(3&t)<<4|n>>4,o=(15&n)<<2|s>>6,l=63&s,isNaN(n)?o=l=64:isNaN(s)&&(l=64),a=a+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(l),t=n=s="",r=i=o=l=""}while(c<e.length);return a},n.restore=function(e,t){e.match("data:image/jpeg;base64,")&&(e=e.replace("data:image/jpeg;base64,",""));var n=this.decode64(e),r=this.slice2Segments(n),i=this.exifManipulation(t,r);return"data:image/jpeg;base64,"+this.encode64(i)},n.exifManipulation=function(e,t){var n=this.getExifArray(t),r=this.insertExif(e,n);return new Uint8Array(r)},n.getExifArray=function(e){for(var t,n=0;n<e.length;n++)if(t=e[n],255===t[0]&225===t[1])return t;return[]},n.insertExif=function(e,t){var n=e.replace("data:image/jpeg;base64,",""),r=this.decode64(n),i=r.indexOf(255,3),o=r.slice(0,i),a=r.slice(i),s=o;return s=s.concat(t),s=s.concat(a)},n.slice2Segments=function(e){for(var t=0,n=[];;){if(255===e[t]&218===e[t+1])break;if(255===e[t]&216===e[t+1])t+=2;else{var r=256*e[t+2]+e[t+3],i=t+r+2,o=e.slice(t,i);n.push(o),t=i}if(t>e.length)break}return n},n.decode64=function(e){var t,n,r,i,o,a="",s="",l=0,c=[];/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{r=this.KEY_STR.indexOf(e.charAt(l++)),i=this.KEY_STR.indexOf(e.charAt(l++)),o=this.KEY_STR.indexOf(e.charAt(l++)),s=this.KEY_STR.indexOf(e.charAt(l++)),t=r<<2|i>>4,n=(15&i)<<4|o>>2,a=(3&o)<<6|s,c.push(t),64!==o&&c.push(n),64!==s&&c.push(a),t=n=a="",r=i=o=s=""}while(l<e.length);return c},n.restore(e,t)},i}])},function(e,t,n){e.exports=n(21)(98)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(157),o=r(i),a=n(192),s=r(a),l=n(193),c=r(l);t.default=angular.module("km",[c.default,o.default,s.default]).name},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(158),o=n(183),a=r(o),s=n(184),l=n(185),c=r(l),u=n(186),d=r(u),f=n(187),p=r(f),h=angular.module("km.directives",[]);h.directive("kmSlider",function(){return{restrict:"C",replace:!0,transclude:!0,bindToController:{interval:"<",kmSlideMode:"@",kmSliderNav:"@",kmTabContainerClass:"@",kmTabClass:"@",kmIndicatorClass:"<",kmNextStep:"<",disableAuto:"@",animate:"@",tabAtBottom:"@",onTabChanged:"&"},scope:{},template:i.getSliderTemplate,controller:i.SliderController,controllerAs:"$ctrl"}}).directive("kmSlide",function(){return{restrict:"C",require:{sliderCtrl:"^^kmSlider"},transclude:!0,replace:!0,bindToController:{description:"@",resolveData:"&",refresh:"@",kmTitle:"@",kmHref:"<",onInitiate:"&"},scope:{},template:function(e,t){return t.resolveData?'<li ng-show="$ctrl.active"/>':'<li ng-show="$ctrl.active" ng-transclude/>'},controller:i.SlideController,controllerAs:"$ctrl"}}),h.directive("kmPagination",function(){return{restrict:"C",replace:!0,bindToController:{itemsPerPage:"<",maxIndicators:"<",currentPage:"=",prevLabel:"@",nextLabel:"@",onPageChange:"&",redirect:"@"},scope:{},template:n(188),controller:a.default,controllerAs:"$ctrl"}}),h.directive("kmFile",function(){return{restrict:"A",bindToController:{maxSize:"<",kmFile:"=",kmGetFile:"&"},scope:{},link:s.linkFnFile,controller:s.SelectFileController,controllerAs:"$ctrl"}}),h.directive("kmDtRangePicker",function(){return{restrict:"A",replace:!0,bindToController:{kmDtRangePicker:"@",label:"@",betweenLabel:"@",startPlaceholder:"@",endPlaceholder:"@",minView:"@",inputFormat:"@",startTime:"=",endTime:"=",minTime:"<",onSetStart:"&",onSetEnd:"&"},scope:{},template:n(189),controller:c.default,controllerAs:"$ctrl"}}).directive("kmDatePicker",function(){return{restrict:"A",replace:!0,bindToController:{kmDatePicker:"@",datePlaceholder:"@",minView:"@",inputFormat:"@",dateTime:"=",minTime:"<",onSet:"&"},scope:{},template:n(190),controller:p.default,controllerAs:"$ctrl"}}),h.directive("kmNumberInput",function(){return{restrict:"A",replace:!0,bindToController:{kmNumberInput:"@",initValue:"@",step:"@",min:"@",max:"@",ngModel:"="},scope:{},template:n(191),controller:d.default,controllerAs:"$ctrl"}}),h.directive("contenteditable",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){function i(){var e=t.html();n.stripBr&&"<br>"===e&&(e=""),r.$setViewValue(e)}r&&(r.$render=function(){t.html(r.$viewValue||"")},t.on("blur keyup change",function(){e.$apply(i)}))}}}),h.directive("errSrc",function(){return{link:function(e,t,n){t.bind("error",function(){n.src!=n.errSrc&&n.$set("src",n.errSrc)})}}}),t.default=h.name},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SlideController=t.SliderController=t.getSliderTemplate=void 0;var i=n(28),o=r(i),a=n(0),s=r(a),l=n(1),c=r(l),u=n(3),d=r(u);t.getSliderTemplate=function(e,t){function n(e,t){return'<li class="'+(e||"")+'" ng-repeat="slide in $ctrl.slides" ng-class="{\'active\':slide.active}" '+t+'="$ctrl.setActive($index)"><a class="km-slide-title" ng-bind="slide.kmTitle"/></li>'}var r=t.kmSlideMode,i=void 0;if(r&&"hover"!==r)if("tab"===r||"slide"===r||"step"===r)i="ng-click";else{if("accordion"!==r)throw Error("unsupported kmSlideMode!");i="ng-click"}else i="ng-mouseover";var o=void 0;if("slide"===r){var a="",s="";"true"===t.kmSliderNav&&(a='<a class="km-btn-slide km-prev-slide" ng-click="$ctrl.prevSlide()"/><a class="km-btn-slide km-next-slide" ng-click="$ctrl.nextSlide()"/>'),t.kmIndicatorClass&&(s='<ul class="km-slider-indicators list-inline">'+function(e,t){return'<li class="'+(e||"")+'" ng-repeat="slide in $ctrl.slides" ng-class="{\'active\':slide.indicatorActive}" '+t+'="$ctrl.setActive($index)"/>'}(t.kmIndicatorClass,i)+"</ul>"),o='<div><div class="km-slides-wrapper"><ul class="km-slides" ng-transclude/></div>'+s+a+"</div>"}else o="accordion"===r?'<div><ul class="km-slider-tabs '+(t.kmTabContainerClass||"")+'">'+function(e,t){return'<li class="'+(e||"")+'" ng-repeat="slide in $ctrl.slides" ng-class="{\'active\':slide.active}" '+t+'="$ctrl.setActive($index, $event)"><a class="km-slide-title" ng-bind="slide.kmTitle" href="{{slide.kmHref}}"/><p class="km-slide-description" ng-bind="slide.description"/></li>'}(t.kmTabClass,i)+'</ul><ul class="km-slides" ng-transclude/></div>':"true"===t.tabAtBottom?'<div><ul class="km-slides" ng-transclude/><ul class="km-slider-tabs '+(t.kmTabContainerClass||"")+'">'+n(t.kmTabClass,i)+"</ul></div>":'<div><ul class="km-slider-tabs '+(t.kmTabContainerClass||"")+'">'+n(t.kmTabClass,i)+'</ul><ul class="km-slides" ng-transclude/></div>';return o};(t.SliderController=function(){function e(t,n,r){var i=this;(0,s.default)(this,e),this.$element=n,this.nextStep=!0,"step"===this.kmSlideMode&&(!0!==this.kmNextStep&&(this.nextStep=this.kmNextStep=0),this.nextStepWatcher=t.$watch(function(){return i.kmNextStep},function(e){!0===e?i.nextStep=!0:(i.nextStep=+e,i.setActive(+e))}))}return(0,c.default)(e,[{key:"$onInit",value:function(){this.slides=[],this.activeIndex=0,this.direction=1,this.timer=!1,this.interval=this.interval?+this.interval:5e3,this.animate&&(this.duration=+this.animate,this.duration&&this.duration<300&&(this.duration=300)),"tab"===this.kmSlideMode||"accordion"===this.kmSlideMode||"step"===this.kmSlideMode?this.disableAuto=!0:"slide"===this.kmSlideMode&&this.kmIndicatorClass&&(this.duration=this.duration||500)}},{key:"$onDestroy",value:function(){this.nextStepWatcher&&this.nextStepWatcher(),this.timer&&d.default.get("$timeout").cancel(this.timer)}},{key:"addSlide",value:function(e){var t=this;this.slides.push(e),1===this.slides.length&&(this.setActive(0,!0),"slide"===this.kmSlideMode&&this.kmIndicatorClass&&(e.indicatorActive=!0));var n=this.slides.length-1;"accordion"===this.kmSlideMode&&d.default.get("$timeout")(function(){e.transcludeInto(t.$element.children(".km-slider-tabs").children().eq(n))},30)}},{key:"setActive",value:function(e,t){var n=this;if((!0===this.nextStep||e===this.nextStep)&&("object"!==(void 0===t?"undefined":(0,o.default)(t))||this.slides[e].active||t.preventDefault(),!this.slides[e].active)){var r=this.slides[e];t||(this.timer&&d.default.get("$timeout").cancel(this.timer),this.direction=this.activeIndex>e?-1:1),!r.lazyLoading||r.data&&"true"!==r.refresh||d.default.get("$q").when(r.resolveData(),function(e){return r.data=e}),r.initiated&&"true"!==r.refresh||d.default.get("$q").when(r.onInitiate(),function(){return r.initiated=!0}),this.activeIndex!=e&&this.duration?(this.slides[this.activeIndex].slideOut(this.direction,this.duration),r.slideIn(this.direction,this.duration)):(this.slides[this.activeIndex].active=!1,r.active=!0),this.activeIndex=e,this.onTabChanged({$tab:e}),"step"===this.kmSlideMode&&(0===this.nextStep||!0!==this.nextStep?this.nextStep=e:e+1===this.slides.length&&(this.nextStep=!0),this.nextStep=e),this.disableAuto||(this.timer=d.default.get("$timeout")(function(){return n.setSiblingActive()},this.interval))}}},{key:"prevSlide",value:function(){this.timer&&d.default.get("$timeout").cancel(this.timer),this.direction=-1,this.setSiblingActive()}},{key:"nextSlide",value:function(){this.timer&&d.default.get("$timeout").cancel(this.timer),this.direction=1,this.setSiblingActive()}},{key:"setSiblingActive",value:function(){var e=this.activeIndex+this.direction;e>=this.slides.length&&(e=0),e<0&&(e=this.slides.length-1),this.setActive(e,!0)}}]),e}()).$inject=["$scope","$element","$attrs"],(t.SlideController=function(){function e(t,n,r,i){var o=this;(0,s.default)(this,e),this.$element=n,this.lazyLoading=!1,r.resolveData&&(i(t,function(e,t){n.append(e),o.transcludedContent=e,o.transclusionScope=t}),this.lazyLoading=!0),this.initiated=void 0===r.onInitiate||!r.onInitiate}return(0,c.default)(e,[{key:"$onInit",value:function(){this.sliderCtrl.addSlide(this)}},{key:"$onDestroy",value:function(){this.transcludedContent&&(this.transcludedContent.remove(),this.transclusionScope.$destroy())}},{key:"slideIn",value:function(e,t){var n=this.$element.parent().width();e>0&&(n=-n),this.sliderCtrl.kmIndicatorClass&&(this.indicatorActive=!0),this.active=!0,this.$element.css("left",n).animate({left:0,opacity:1},t)}},{key:"slideOut",value:function(e,t){var n=this,r=this.$element.parent().width();e<0&&(r=-r),this.sliderCtrl.kmIndicatorClass&&(this.indicatorActive=!1),this.$element.animate({left:r,opacity:0},t,function(){return n.active=!1})}},{key:"transcludeInto",value:function(e){var t=this.$element.find("[km-transcluded]");t.length&&e.prepend(t)}}]),e}()).$inject=["$scope","$element","$attrs","$transclude"]},function(e,t,n){e.exports={default:n(160),__esModule:!0}},function(e,t,n){n(34),n(46),e.exports=n(66).f("iterator")},function(e,t,n){var r=n(57),i=n(58);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),l=r(n),c=s.length;return l<0||l>=c?e?"":void 0:(o=s.charCodeAt(l),o<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536)}}},function(e,t,n){"use strict";var r=n(61),i=n(35),o=n(45),a={};n(22)(a,n(12)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(18),i=n(17),o=n(36);e.exports=n(19)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,l=0;s>l;)r.f(e,n=a[l++],t[n]);return e}},function(e,t,n){var r=n(25),i=n(62),o=n(165);e.exports=function(e){return function(t,n,a){var s,l=r(t),c=i(l.length),u=o(a,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(57),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){"use strict";var r=n(167),i=n(168),o=n(31),a=n(25);e.exports=n(94)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(170),__esModule:!0}},function(e,t,n){n(171),n(102),n(176),n(177),e.exports=n(8).Symbol},function(e,t,n){"use strict";var r=n(14),i=n(24),o=n(19),a=n(16),s=n(96),l=n(172).KEY,c=n(30),u=n(64),d=n(45),f=n(44),p=n(12),h=n(66),v=n(67),g=n(173),m=n(174),b=n(17),y=n(25),A=n(60),x=n(35),w=n(61),k=n(175),$=n(69),_=n(18),I=n(36),C=$.f,S=_.f,E=k.f,D=r.Symbol,P=r.JSON,T=P&&P.stringify,M=p("_hidden"),R=p("toPrimitive"),B={}.propertyIsEnumerable,j=u("symbol-registry"),N=u("symbols"),O=u("op-symbols"),F=Object.prototype,U="function"==typeof D,L=r.QObject,Y=!L||!L.prototype||!L.prototype.findChild,z=o&&c(function(){return 7!=w(S({},"a",{get:function(){return S(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=C(F,t);r&&delete F[t],S(e,t,n),r&&e!==F&&S(F,t,r)}:S,Q=function(e){var t=N[e]=w(D.prototype);return t._k=e,t},q=U&&"symbol"==typeof D.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof D},H=function(e,t,n){return e===F&&H(O,t,n),b(e),t=A(t,!0),b(n),i(N,t)?(n.enumerable?(i(e,M)&&e[M][t]&&(e[M][t]=!1),n=w(n,{enumerable:x(0,!1)})):(i(e,M)||S(e,M,x(1,{})),e[M][t]=!0),z(e,t,n)):S(e,t,n)},V=function(e,t){b(e);for(var n,r=g(t=y(t)),i=0,o=r.length;o>i;)H(e,n=r[i++],t[n]);return e},G=function(e,t){return void 0===t?w(e):V(w(e),t)},J=function(e){var t=B.call(this,e=A(e,!0));return!(this===F&&i(N,e)&&!i(O,e))&&(!(t||!i(this,e)||!i(N,e)||i(this,M)&&this[M][e])||t)},K=function(e,t){if(e=y(e),t=A(t,!0),e!==F||!i(N,t)||i(O,t)){var n=C(e,t);return!n||!i(N,t)||i(e,M)&&e[M][t]||(n.enumerable=!0),n}},W=function(e){for(var t,n=E(y(e)),r=[],o=0;n.length>o;)i(N,t=n[o++])||t==M||t==l||r.push(t);return r},X=function(e){for(var t,n=e===F,r=E(n?O:y(e)),o=[],a=0;r.length>a;)!i(N,t=r[a++])||n&&!i(F,t)||o.push(N[t]);return o};U||(D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===F&&t.call(O,n),i(this,M)&&i(this[M],e)&&(this[M][e]=!1),z(this,e,x(1,n))};return o&&Y&&z(F,e,{configurable:!0,set:t}),Q(e)},s(D.prototype,"toString",function(){return this._k}),$.f=K,_.f=H,n(101).f=k.f=W,n(47).f=J,n(68).f=X,o&&!n(42)&&s(F,"propertyIsEnumerable",J,!0),h.f=function(e){return Q(p(e))}),a(a.G+a.W+a.F*!U,{Symbol:D});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)p(Z[ee++]);for(var te=I(p.store),ne=0;te.length>ne;)v(te[ne++]);a(a.S+a.F*!U,"Symbol",{for:function(e){return i(j,e+="")?j[e]:j[e]=D(e)},keyFor:function(e){if(!q(e))throw TypeError(e+" is not a symbol!");for(var t in j)if(j[t]===e)return t},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),a(a.S+a.F*!U,"Object",{create:G,defineProperty:H,defineProperties:V,getOwnPropertyDescriptor:K,getOwnPropertyNames:W,getOwnPropertySymbols:X}),P&&a(a.S+a.F*(!U||c(function(){var e=D();return"[null]"!=T([e])||"{}"!=T({a:e})||"{}"!=T(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!q(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return t=r[1],"function"==typeof t&&(n=t),!n&&m(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!q(t))return t}),r[1]=t,T.apply(P,r)}}}),D.prototype[R]||n(22)(D.prototype,R,D.prototype.valueOf),d(D,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(44)("meta"),i=n(23),o=n(24),a=n(18).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(30)(function(){return l(Object.preventExtensions({}))}),u=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[r].i},f=function(e,t){if(!o(e,r)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[r].w},p=function(e){return c&&h.NEED&&l(e)&&!o(e,r)&&u(e),e},h=e.exports={KEY:r,NEED:!1,fastKey:d,getWeak:f,onFreeze:p}},function(e,t,n){var r=n(36),i=n(68),o=n(47);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),l=o.f,c=0;s.length>c;)l.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,n){var r=n(37);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(25),i=n(101).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},function(e,t,n){n(67)("asyncIterator")},function(e,t,n){n(67)("observable")},function(e,t,n){e.exports={default:n(179),__esModule:!0}},function(e,t,n){n(180);var r=n(8).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(16);r(r.S+r.F*!n(19),"Object",{defineProperty:n(18).f})},function(e,t){e.exports=angular},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){Object.defineProperty(e,t,{get:function(){return n.apply(this)}})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=function(){function e(t,n){var r=this;(0,o.default)(this,e);var i=!!n.onPageChange;this.currentPageWatcher=t.$watch(function(){return r.currentPage},function(e,t){if(!e)return void(r.currentPage=1);if(-1===e)return void(r.currentPage=t);if(i){var n=r.onPageChange();if(angular.isNumber(n))r.totalItems=n,r.numPages=Math.ceil(r.totalItems/r.itemsPerPage),r.createGroupedPageIndicators();else{if(!angular.isFunction(n.then))throw Error("onPageChange{Function}返回所有数据的总数量，或一个resolve总数量的promise");n.then(function(e){r.totalItems=e,r.numPages=Math.ceil(r.totalItems/r.itemsPerPage),r.createGroupedPageIndicators(),"true"===r.redirect&&(r.canRedirect=!0)})}}})}return(0,s.default)(e,[{key:"$onInit",value:function(){this.prevLabel=this.prevLabel||"<",this.nextLabel=this.nextLabel||">",this.canRedirect=!1,this.itemsPerPage=+this.itemsPerPage||10,this.maxIndicators=+this.maxIndicators||5,this.currentPage=+this.currentPage||1}},{key:"$onDestroy",value:function(){this.currentPageWatcher()}},{key:"setPage",value:function(e){if(0===e){e=(Math.ceil(this.currentPage/this.maxIndicators)-1)*this.maxIndicators}else if(!1===e){var t=Math.ceil(this.currentPage/this.maxIndicators);e=t*this.maxIndicators+1}this.currentPage!=e&&(this.currentPage=e)}},{key:"prevPage",value:function(){1!=this.currentPage&&this.setPage(this.currentPage-1)}},{key:"nextPage",value:function(){this.currentPage!=this.numPages&&this.setPage(this.currentPage+1)}},{key:"goto",value:function(e){var t=angular.element(e.target).parent().parent().find("input"),n=+t.val();t.val(""),n&&n>0&&n<=this.numPages&&this.setPage(n)}},{key:"createGroupedPageIndicators",value:function(){var e=Math.ceil(this.currentPage/this.maxIndicators),t=[],n=(e-1)*this.maxIndicators+1,r=Math.min(n+this.maxIndicators-1,this.numPages);n>this.maxIndicators&&t.push(0);for(var i=n;i<=r;i++)t.push(i);r+1<this.numPages&&t.push(!1),n>1&&t.unshift(1),r<this.numPages&&t.push(this.numPages),this.pages=t}}]),e}();t.default=l,l.$inject=["$scope","$attrs"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SelectFileController=t.linkFnFile=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(3),c=r(l),u=function(e,t,n){var r=+e.$ctrl.maxSize,i=e.$ctrl.kmFile;t.on("change",function(t){i.loaded=!1;var o=t.target.files[0];if(o){if(r&&o.size>1024*r)return i.error="文件大小不能超过"+r+"KB",void e.$apply();i.error="",i.type=o.type,i.size=o.size;var a=new FileReader;a.onload=function(t){n.kmGetFile?c.default.get("$q").when(e.$ctrl.kmGetFile({dataURL:t.target.result})).then(function(){i.dataURL=t.target.result,i.loaded=!0}):(i.dataURL=t.target.result,i.loaded=!0,e.$apply())},a.readAsDataURL(o)}else e.$apply()})};t.linkFnFile=u;(t.SelectFileController=function(){function e(t){(0,o.default)(this,e),this.$element=t}return(0,s.default)(e,[{key:"$onInit",value:function(){this.kmFile=this.kmFile||{}}},{key:"$onDestroy",value:function(){this.$element.off()}}]),e}()).$inject=["$element"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(32),c=r(l);n(103);var u=function(){function e(t){(0,o.default)(this,e),this.$scope=t,this.minView=this.minView||"minute"}return(0,s.default)(e,[{key:"$onInit",value:function(){var e=this;c.default.locale("zh-cn"),this.clickHandler=function(t){(e.toSetStart||e.toSetEnd)&&(e.toSetStart=e.toSetEnd=!1,e.$scope.$apply())},this.keydownHandler=function(t){(e.toSetStart||e.toSetEnd)&&27==t.which&&(e.toSetStart=e.toSetEnd=!1,e.$scope.$apply())},angular.element(document).on("click",this.clickHandler).on("keydown",this.keydownHandler)}},{key:"$onDestroy",value:function(){angular.element(document).off("click",this.clickHandler).off("keydown",this.keydownHandler)}},{key:"openStart",value:function(e){e.stopPropagation(),this.toSetStart=!this.toSetStart,this.toSetEnd=!1}},{key:"openEnd",value:function(e){e.stopPropagation(),this.toSetEnd=!this.toSetEnd,this.toSetStart=!1}},{key:"startDateOnSetTime",value:function(){this.toSetStart=!1,this.$scope.$broadcast("start-date-changed"),this.onSetStart({$date:this.startTime})}},{key:"endDateOnSetTime",value:function(){this.toSetEnd=!1,this.$scope.$broadcast("end-date-changed"),this.onSetEnd({$date:this.endTime})}},{key:"startDateBeforeRender",value:function(e){var t=this;if(this.minTime&&this.endTime){var n=(0,c.default)(this.endTime).valueOf();e.filter(function(e){var r=e.localDateValue();return r>n||r<t.minTime}).forEach(function(e){e.selectable=!1})}else if(this.endTime){var r=(0,c.default)(this.endTime).valueOf();e.filter(function(e){return e.localDateValue()>r}).forEach(function(e){e.selectable=!1})}else e.filter(function(e){return e.localDateValue()<t.minTime}).forEach(function(e){e.selectable=!1})}},{key:"endDateBeforeRender",value:function(e){if(this.minTime||this.startTime){var t=void 0;this.startTime?(t=(0,c.default)(this.startTime).valueOf())<this.minTime&&(t=this.minTime):t=this.minTime,e.filter(function(e){return e.localDateValue()<t}).forEach(function(e){e.selectable=!1})}}}]),e}();t.default=u,u.$inject=["$scope"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=function(){function e(){(0,o.default)(this,e)}return(0,s.default)(e,[{key:"$onInit",value:function(){this.ngModel=this.value=+this.initValue||0,this.realStep=+this.step||1,+this.min||0==+this.min?this.realMin=+this.min:this.realMin=NaN,+this.max||0==+this.max?this.realMax=+this.max:this.realMax=NaN}},{key:"decrease",value:function(){var e=(+this.value?+this.value:0)-this.realStep;!isNaN(this.realMin)&&e<this.realMin&&(e=this.realMin),this.ngModel=this.value=e}},{key:"increase",value:function(){var e=(+this.value?+this.value:0)+this.realStep;!isNaN(this.realMax)&&e>this.realMax&&(e=this.realMax),this.ngModel=this.value=e}}]),e}();t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(32),c=r(l);n(103);var u=function(){function e(t){(0,o.default)(this,e),this.$scope=t,this.minView=this.minView||"minute"}return(0,s.default)(e,[{key:"$onInit",value:function(){var e=this;c.default.locale("zh-cn"),this.keydownHandler=function(t){e.toSet&&27==t.which&&(e.toSet=!1,e.$scope.$apply())},this.clickHandler=function(t){e.toSet&&(e.toSet=!1,e.$scope.$apply())},angular.element(document).on("click",this.clickHandler).on("keydown",this.keydownHandler)}},{key:"$onDestroy",value:function(){angular.element(document).off("click",this.clickHandler).off("keydown",this.keydownHandler)}},{key:"open",value:function(e){e.stopPropagation(),this.toSet=!this.toSet}},{key:"onSetDate",value:function(){this.toSet=!1,this.onSet({$date:this.dateTime})}}]),e}();t.default=u,u.$inject=["$scope"]},function(e,t){e.exports='<ul>\r\n  <li ng-bind="\'共有\'+$ctrl.totalItems+\'条、\'+$ctrl.numPages+\'页，每页显示\'+($ctrl.itemsPerPage||10)+\'条\'"></li>\r\n  <li class="prev" ng-class="{disabled:$ctrl.currentPage==1}"><a href="" ng-bind="$ctrl.prevLabel" ng-click="$ctrl.prevPage()"/></li>\r\n  <li ng-class="{\'current\':$ctrl.currentPage==pageNo,\'more\':!pageNo}" ng-repeat="pageNo in $ctrl.pages"><a href="" ng-bind="pageNo?pageNo:\'...\'" ng-click="$ctrl.setPage(pageNo)"/></li>\r\n  <li class="next" ng-class="{disabled:$ctrl.currentPage==$ctrl.numPages}"><a href="" ng-bind="$ctrl.nextLabel" ng-click="$ctrl.nextPage()"/></li>\r\n  <li ng-if="$ctrl.canRedirect"><input type="text" class="form-control"/></li>\r\n  <li ng-if="$ctrl.canRedirect" class="redirect"><a href="" ng-click="$ctrl.goto($event)">GO</a></li>\r\n</ul>'},function(e,t){e.exports='<div class="form-group h-flex-box datetime-form-group" ng-class="[$ctrl.kmDtRangePicker]">\r\n  <label ng-bind="$ctrl.label"></label>\r\n  <div class="dropdown" ng-class="{\'open\':$ctrl.toSetStart}">\r\n    <div class="input-group datetime-input-group" ng-click="$ctrl.openStart($event)">\r\n      <input type="text" class="form-control" ng-model="$ctrl.startTime" date-time-input="{{$ctrl.inputFormat}}" placeholder="{{$ctrl.startPlaceholder}}"\r\n        autocomplete="off" />\r\n      <span class="input-group-addon"><i class="fa fa-calendar"></i></span>\r\n    </div>\r\n    <div class="dropdown-menu" role="menu">\r\n      <datetimepicker ng-model="$ctrl.startTime" datetimepicker-config="{renderOn:\'end-date-changed\',minView:$ctrl.minView}"\r\n        on-set-time="$ctrl.startDateOnSetTime()" before-render="$ctrl.startDateBeforeRender($dates)"></datetimepicker>\r\n    </div>\r\n  </div>\r\n  <label ng-bind="$ctrl.betweenLabel"></label>\r\n  <div class="dropdown" ng-class="{\'open\':$ctrl.toSetEnd}">\r\n    <div class="input-group datetime-input-group" ng-click="$ctrl.openEnd($event)">\r\n      <input type="text" class="form-control" ng-model="$ctrl.endTime" date-time-input="{{$ctrl.inputFormat}}" placeholder="{{$ctrl.endPlaceholder}}"\r\n        autocomplete="off" />\r\n      <span class="input-group-addon"><i class="fa fa-calendar"></i></span>\r\n    </div>\r\n    <div class="dropdown-menu" role="menu">\r\n      <datetimepicker ng-model="$ctrl.endTime" datetimepicker-config="{renderOn:\'start-date-changed\',minView:$ctrl.minView}"\r\n        on-set-time="$ctrl.endDateOnSetTime()" before-render="$ctrl.endDateBeforeRender($dates)"></datetimepicker>\r\n    </div>\r\n  </div>\r\n</div>'},function(e,t){e.exports='<div class="dropdown" ng-class="{\'open\':$ctrl.toSet}">\r\n  <div class="input-group datetime-input-group" ng-click="$ctrl.open($event)">\r\n    <input type="text" class="form-control" ng-model="$ctrl.dateTime" date-time-input="{{$ctrl.inputFormat}}" placeholder="{{$ctrl.datePlaceholder}}"\r\n      autocomplete="off" />\r\n    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>\r\n  </div>\r\n  <div class="dropdown-menu" role="menu">\r\n    <datetimepicker ng-model="$ctrl.dateTime" datetimepicker-config="{minView:$ctrl.minView}" on-set-time="$ctrl.onSetDate()"></datetimepicker>\r\n  </div>\r\n</div>'},function(e,t){e.exports='<div class="input-group" ng-class="[$ctrl.kmNumberInput]">\r\n  <span class="input-group-btn">\r\n    <button class="btn btn-default" type="button" ng-click="$ctrl.decrease()">-</button>\r\n  </span>\r\n  <input type="text" class="form-control" ng-model="$ctrl.value" />\r\n  <span class="input-group-btn">\r\n    <button class="btn btn-default" type="button" ng-click="$ctrl.increase()">+</button>\r\n  </span>\r\n</div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(32),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=angular.module("km.filters",[]);o.filter("kmDate",["dateFilter",function(e){return function(t,n){if(!t)return"";"str"===n?t=new Date(t):(t=+t,t="ms"===n?new Date(1e3*t):new Date(t));var r=(new Date).getFullYear()==t.getFullYear()?"MM-dd":"yyyy-MM-dd";return e(t,r)}}]),o.filter("kmTime",["dateFilter",function(e){return function(t,n){if(!t)return"";if("str"===n){if("0"===t.charAt(0))return"";t=new Date(t)}else t=+t,t="ms"===n?new Date(1e3*t):new Date(t);return e(t,"yyyy-MM-dd HH:mm:ss")}}]),o.filter("formatMsgTime",function(){return function(e){if(e){var t=new Date(e).getTime(),n=""+new Date(t).getFullYear()+new Date(t).getMonth()-0+1+""+new Date(t).getDate(),r=(new Date).getTime(),i=""+new Date(r).getFullYear()+new Date(r).getMonth()-0+1+""+new Date(r).getDate(),o=(new Date).getTime()-864e5,a=""+new Date(o).getFullYear()+new Date(o).getMonth()-0+1+""+new Date(o).getDate(),s="",l=Math.abs(r-t)/6e4;if(l>0&&l<1)return"刚刚";if(l>=1&&l<60)return s=parseInt(l)+"分钟前";if(l>=60&&l<1440)return l/=60,s=n==i?parseInt(l)+"小时前":n==a?"昨天 "+e.substring(11,16):"时间错误";var c="";return s=new Date(t).getMonth()+1+"月"+new Date(t).getDate()+"日",s+=" "+n.substring(11,16),i.substring(0,4)!=n.substring(0,4)&&(c=n.substring(0,4)+"年"),s=c+s}return""}}),o.filter("kmDtFormated",["dateFilter",function(e){return function(t,n){return t?(n=n||"yyyy-MM-dd HH:mm:ss",e(new Date(+t),n)):""}}]),o.filter("kmSex",[function(){return function(e,t){return e?t?1==e?"雄":"雌":1==e?"男":"女":"未知"}}]),o.filter("kmAge",[function(){return function(e,t){if(!e)return"不详";t=t||"month",e=(0,i.default)(e).startOf("day");var n=(0,i.default)().startOf("day"),r=n.diff(e,"years"),o="";if(r>0&&(o=r+"岁","year"===t))return o;var a=n.diff(e,"months");if(a>0){var s=a-12*r;return s>0?o+s+"月":o}return n.diff(e,"days")+1+"天"}}]),o.filter("kmDaysDiff",[function(){return function(e){return(0,i.default)().startOf("day").diff(e,"days")}}]),o.filter("kmBool",[function(){return function(e,t){return e?"是":"否"}}]),o.filter("kmPurpose",[function(){return function(e){return["观赏","导盲","扶助"][e-1]}}]),t.default=o.name},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(194),o=r(i),a=n(206),s=r(a),l=angular.module("km.services",[]);t.default=l.factory("kmScroller",o.default).service("kmPaginationUtil",s.default).name},function(e,t,n){"use strict";e.exports=function(){return{init:function(e,t){return t?t.theme=t.theme||"light":t={theme:"light"},n(195)(e,t)}}}},function(e,t,n){"use strict";var r=n(196);e.exports=function(e,t){var i=r.getContentElement(e,t.contentSelector);return i?r.container&&r.container.element===e?void(r.content.element!=i&&r.initContent()):(r.container&&(delete r.footer,delete r.content.element,delete r.container.element),r.init(e,t),n(202)(r),n(203)(r),n(204)(r),void n(205)(r)):void r.destroyContent()}},function(e,t,n){"use strict";function r(e,t){d.addClass(e,"theme-"+t.theme),d.addClass(e,"km-bar")}function i(){return d.createElement('<div class="km-bar-slider-y"></div>')}function o(){return d.createElement('<div class="km-bar-rail-y"></div>')}function a(e,t,n,r,i){if(r)return"fixed"===d.css(r,"position")?e>t?(d.css(r.previousElementSibling,"marginBottom",r.clientHeight),void d.css(r,"left",n)):(d.css(r.previousElementSibling,"marginBottom",0),void d.css(r,"position","static")):void(e>t&&(d.css(r.previousElementSibling,"marginBottom",r.clientHeight),d.css(r,(0,u.default)({left:n},i))))}function s(){f.container.width=f.container.element.clientWidth,f.container.height=f.container.element.clientHeight,f.railY.height=f.container.height,f.content.width=f.content.element.clientWidth,f.content.height=f.content.element.scrollHeight,f.ratioY=f.container.height/f.content.height,f.ratioY>1&&(f.ratioY=1),f.sliderY.height=f.container.height*f.ratioY,d.css(f.railY.element,"height",f.railY.height+"px"),d.css(f.sliderY.element,"height",f.sliderY.height+"px"),a(f.content.height,f.container.height,f.container.element.getBoundingClientRect().left,f.footer,f.footerOpts.fixTo),f.content.height-f.container.height<f.sumDeltaY&&(f.sumDeltaY=Math.max(f.content.height-f.container.height,0)),d.css(f.sliderY.element,"top",f.sumDeltaY*f.ratioY),d.css(f.content.element,"height",f.container.height-f.content.height<-1?f.container.height:"auto"),f.container.height-f.content.height<-1?(d.css(f.content.element,"height",f.container.height),f.showSliderY()):(d.css(f.content.element,"height","auto"),f.hideSliderY())}function l(){setTimeout(l,100),f.content.element&&(Math.abs(f.content.height-f.content.element.scrollHeight)>=2||Math.abs(f.container.width-f.container.element.clientWidth)>=2||Math.abs(f.container.height-f.container.element.clientHeight)>=2)&&s()}var c=n(70),u=function(e){return e&&e.__esModule?e:{default:e}}(c),d=n(48),f={init:function(e,t){var n=o(),a=i();r(e,t),d.appendTo(n,e),d.appendTo(a,e),this.container={element:e,height:e.clientHeight},this.railY={element:n,height:this.container.height},d.css(this.railY.element,"height",this.railY.height+"px"),this.sliderY={deltaY:0,element:a,top:0},d.css(this.container.element,{overflow:"hidden",position:"relative"}),this.contentSelector=t.contentSelector,t.footer&&(this.footerOpts={selector:t.footer.selector,fixTo:t.footer.fixTo},this.footerOpts.fixTo.position="fixed"),this.initContent(),setTimeout(l,100)},showSliderY:function(){d.addClass(this.sliderY.element,"fade-in"),d.removeClass(this.sliderY.element,"fade-out")},hideSliderY:function(){d.addClass(this.sliderY.element,"fade-out"),d.removeClass(this.sliderY.element,"fade-in")},initContent:function(){var e=this.getContentElement(this.container.element,this.contentSelector);if(!e)return void this.destroyContent();this.content={deltaY:0,element:e,height:e.scrollHeight},this.footer=e.querySelector(this.footerOpts.selector),this.ratioY=this.container.height/this.content.height,this.ratioY>1&&(this.ratioY=1),this.sliderY.height=this.container.height*this.ratioY,d.css(this.sliderY.element,"height",this.sliderY.height+"px"),a(this.content.height,this.container.height,this.container.element.getBoundingClientRect().left,this.footer,this.footerOpts.fixTo),this.sumDeltaY=0,d.css(this.sliderY.element,"top",this.sumDeltaY),this.container.height-this.content.height<-1?(d.css(this.content.element,"height",this.container.height),this.showSliderY()):(d.css(this.content.element,"height","auto"),this.hideSliderY()),d.css(this.content.element,"overflow","hidden")},destroyContent:function(){this.content&&delete this.content.element,delete this.footer},getContentElement:function(e,t){return e.querySelector(t)}};e.exports=f},function(e,t,n){n(198),e.exports=n(8).Object.assign},function(e,t,n){var r=n(16);r(r.S+r.F,"Object",{assign:n(199)})},function(e,t,n){"use strict";var r=n(36),i=n(68),o=n(47),a=n(38),s=n(98),l=Object.assign;e.exports=!l||n(30)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r})?function(e,t){for(var n=a(e),l=arguments.length,c=1,u=i.f,d=o.f;l>c;)for(var f,p=s(arguments[c++]),h=u?r(p).concat(u(p)):r(p),v=h.length,g=0;v>g;)d.call(p,f=h[g++])&&(n[f]=p[f]);return n}:l},function(e,t,n){n(201),e.exports=n(8).Object.keys},function(e,t,n){var r=n(38),i=n(36);n(71)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){"use strict";var r=n(48);e.exports=function(e){function t(t){return t<e.sliderY.height/2?0:t>e.railY.height-e.sliderY.height/2?e.railY.height-e.sliderY.height:t-e.sliderY.height/2}function i(t,n){var r=t-n,i=r/e.ratioY;e.content.element.scrollTop+=i,e.sumDeltaY=e.content.element.scrollTop}function o(t){r.css(e.sliderY.element,"top",t),e.sliderY.deltaY=0,e.sliderY.top=t}function a(n){var a=r.css(e.sliderY.element,"top"),s=t(n.offsetY);o(s),i(s,a),n.preventDefault()}n(49).bind(e.railY.element,"click",a)}},function(e,t,n){"use strict";var r=n(48);e.exports=function(e){function t(t){return t<e.sliderY.height/2?0:t>e.railY.height-e.sliderY.height/2?e.railY.height-e.sliderY.height:t-e.sliderY.height/2}function i(t,n){var r=t-n,i=r/e.ratioY;e.content.element.scrollTop+=i,e.sumDeltaY=e.content.element.scrollTop}function o(t){r.css(e.sliderY.element,"top",t),e.sliderY.deltaY=0,e.sliderY.top=t}function a(n){var a=r.css(e.sliderY.element,"top"),s=t(n.offsetY);o(s),i(s,a),n.preventDefault()}n(49).bind(e.railY.element,"click",a)}},function(e,t,n){"use strict";e.exports=function(e){function t(t){e.sumDeltaY+=t.deltaY;var r=0;e.sumDeltaY*e.ratioY<0?(r=0,e.sliderY.deltaY=0,e.sumDeltaY=0):e.sumDeltaY*e.ratioY>e.railY.height-e.sliderY.height?(r=e.railY.height-e.sliderY.height,e.sumDeltaY=e.content.element.scrollHeight-e.content.element.clientHeight):r=e.sumDeltaY*e.ratioY,n(48).css(e.sliderY.element,"top",r);var i=0;i+=e.sumDeltaY,e.content.element.scrollTop=i,t.preventDefault(),t.stopPropagation()}n(49).bind(e.container.element,"wheel",t)}},function(e,t,n){"use strict";var r=n(49);e.exports=function(e){r.bind(e.container.element,"mouseenter",function(t){e.container.height-e.content.height<-1&&e.showSliderY()}),r.bind(e.container.element,"mouseleave",function(t){e.container.height-e.content.height<-1&&e.hideSliderY()})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(1),s=r(a);e.exports=function(){function e(){(0,o.default)(this,e),this.capacity=3,this.statesQueue=[],this.dict={}}return(0,s.default)(e,[{key:"leaveState",value:function(e,t){if(console.assert(this.statesQueue.length<=this.capacity,"cache.length>"+this.capacity),this.statesQueue.length==this.capacity){var n=this.statesQueue.indexOf(e);if(n>-1)return this.dict[e]=t,void(n<this.capacity-1&&(this.statesQueue.splice(n,1),this.statesQueue.push(e)));delete this.dict[this.statesQueue.shift()]}this.dict[e]=t,this.statesQueue.push(e)}},{key:"getPagination",value:function(e){var t=this.dict[e];return t||{}}}]),e}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(208),o=r(i),a=n(209),s=r(a);t.default=angular.module("core",[o.default,s.default]).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=angular.module("directives",[]);t.default=r.name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=angular.module("zcb.filters",[]),i={1:"观赏",2:"导盲",3:"扶助"},o={1:"弱",2:"中等",3:"强"},a={1:"无法识别",2:"外壳损坏",3:"续航",4:"丢失"};r.filter("_orderStatus",[function(){return function(e){if(e)return orderStatusDict[e]}}]),r.filter("_userType",[function(){return function(e){if(e)return userTypeDict[e]}}]),r.filter("_cardType",[function(){return function(e){if(e)return 1==e?"身份证":"护照"}}]),r.filter("_asStatus",[function(){return function(e){if(void 0!==e)return 1==e?"已年检":"未年检"}}]),r.filter("_roleStatus",[function(){return function(e){if(void 0!==e)return 1==e?"正常":"禁用"}}]),r.filter("_purpose",[function(){return function(e){if(e)return i[e]}}]),r.filter("_aggressive",[function(){return function(e){if(e)return o[e]}}]),r.filter("_exchangeCard",[function(){return function(e){if(e)return a[e]}}]),r.filter("_code2Value",[function(){return function(e,t){if(e&&t){var n=t.find(function(t){return t.code==e});return n?n.value:"未知"}}}]),r.filter("_id2Name",[function(){return function(e,t){if(e&&t){var n=t.find(function(t){return t.id==e});return n?n.name:"未知"}}}]),r.filter("_cityId2Name",[function(){return function(e,t){if(e&&t){var n=t.find(function(t){return t.cityId==e});return n?n.cityName:"未知"}}}]),r.filter("_img",[function(){return function(e){return e?"/images/"+e:""}}]),r.filter("_imgPsb",[function(){return function(e){return e?"/images/police/"+e:""}}]),r.filter("_dtStatus",[function(){return function(e){if(!e)return"";var t=(new Date).getTime();return t<e.startTime?"未开始":t<e.endTime?"已开始":"已结束"}}]),t.default=r.name},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){var t=void 0;return t=document.createElement("div"),t.innerHTML=e,t.children}function t(e){return!!e&&(e instanceof HTMLCollection||e instanceof NodeList)}function n(e){var n=document.querySelectorAll(e);return t(n)?n:[n]}function r(i){if(i){if(i instanceof r)return i;this.selector=i;var o=i.nodeType,a=[];9===o?a=[i]:1===o?a=[i]:t(i)||i instanceof Array?a=i:"string"==typeof i&&(i=i.replace("/\n/mg","").trim(),a=0===i.indexOf("<")?e(i):n(i));var s=a.length;if(!s)return this;var l=void 0;for(l=0;l<s;l++)this[l]=a[l];this.length=s}}function i(e){return new r(e)}function o(e,t){var n=void 0;for(n in e)if(e.hasOwnProperty(n)&&!1===t.call(e,n,e[n]))break}function a(e,t){var n=void 0,r=void 0,i=e.length||0;for(n=0;n<i&&(r=e[n],!1!==t.call(e,r,n));n++);}function s(e){return e+Math.random().toString().slice(2)}function l(e){return null==e?"":e.replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;")}function c(e){return"function"==typeof e}function u(e){this.editor=e,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-bold"><i/>\n        </div>'),this.type="click",this._active=!1}function d(e,t){var n=this,r=e.editor;this.menu=e,this.opt=t;var o=i('<div class="w-e-droplist"></div>'),a=t.$title,s=void 0;a&&(s=a.html(),s=H(r,s),a.html(s),a.addClass("w-e-dp-title"),o.append(a));var l=t.list||[],c=t.type||"list",u=t.onClick||V,d=i('<ul class="'+("list"===c?"w-e-list":"w-e-block")+'"></ul>');o.append(d),l.forEach(function(e){var t=e.$elem,o=t.html();o=H(r,o),t.html(o);var a=e.value,s=i('<li class="w-e-item"></li>');t&&(s.append(t),d.append(s),s.on("click",function(e){u(a),n.hideTimeoutId=setTimeout(function(){n.hide()},0)}))}),o.on("mouseleave",function(e){n.hideTimeoutId=setTimeout(function(){n.hide()},0)}),this.$container=o,this._rendered=!1,this._show=!1}function f(e){var t=this;this.editor=e,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-header"><i/></div>'),this.type="droplist",this._active=!1,this.droplist=new d(this,{width:100,$title:i("<p>设置标题</p>"),type:"list",list:[{$elem:i("<h1>H1</h1>"),value:"<h1>"},{$elem:i("<h2>H2</h2>"),value:"<h2>"},{$elem:i("<h3>H3</h3>"),value:"<h3>"},{$elem:i("<h4>H4</h4>"),value:"<h4>"},{$elem:i("<h5>H5</h5>"),value:"<h5>"},{$elem:i("<p>正文</p>"),value:"<p>"}],onClick:function(e){t._command(e)}})}function p(e){var t=this;this.editor=e,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-text-heigh"><i/></div>'),this.type="droplist",this._active=!1,this.droplist=new d(this,{width:160,$title:i("<p>字号</p>"),type:"list",list:[{$elem:i('<span style="font-size: x-small;">x-small</span>'),value:"1"},{$elem:i('<span style="font-size: small;">small</span>'),value:"2"},{$elem:i("<span>normal</span>"),value:"3"},{$elem:i('<span style="font-size: large;">large</span>'),value:"4"},{$elem:i('<span style="font-size: x-large;">x-large</span>'),value:"5"},{$elem:i('<span style="font-size: xx-large;">xx-large</span>'),value:"6"}],onClick:function(e){t._command(e)}})}function h(e){var t=this;this.editor=e,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-font"><i/></div>'),this.type="droplist",this._active=!1;var n=e.config,r=n.fontNames||[];this.droplist=new d(this,{width:100,$title:i("<p>字体</p>"),type:"list",list:r.map(function(e){return{$elem:i('<span style="font-family: '+e+';">'+e+"</span>"),value:e}}),onClick:function(e){t._command(e)}})}function v(e,t){this.menu=e,this.opt=t}function g(e){this.editor=e,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-link"><i/></div>'),this.type="panel",this._active=!1}function m(e){this.editor=e,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-italic"><i/>\n        </div>'),this.type="click",this._active=!1}function b(e){this.editor=e,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-redo"><i/>\n        </div>'),this.type="click",this._active=!1}function y(e){this.editor=e,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-strikethrough"><i/>\n        </div>'),this.type="click",this._active=!1}function A(e){this.editor=e,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-underline"><i/>\n        </div>'),this.type="click",this._active=!1}function x(e){this.editor=e,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-undo"><i/>\n        </div>'),this.type="click",this._active=!1}function w(e){var t=this;this.editor=e,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-list2"><i/></div>'),this.type="droplist",this._active=!1,this.droplist=new d(this,{width:120,$title:i("<p>设置列表</p>"),type:"list",list:[{$elem:i('<span><i class="w-e-icon-list-numbered"></i> 有序列表</span>'),value:"insertOrderedList"},{$elem:i('<span><i class="w-e-icon-list2"></i> 无序列表</span>'),value:"insertUnorderedList"}],onClick:function(e){t._command(e)}})}function k(e){var t=this;this.editor=e,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-paragraph-left"><i/></div>'),this.type="droplist",this._active=!1,this.droplist=new d(this,{width:100,$title:i("<p>对齐方式</p>"),type:"list",list:[{$elem:i('<span><i class="w-e-icon-paragraph-left"></i> 靠左</span>'),value:"justifyLeft"},{$elem:i('<span><i class="w-e-icon-paragraph-center"></i> 居中</span>'),value:"justifyCenter"},{$elem:i('<span><i class="w-e-icon-paragraph-right"></i> 靠右</span>'),value:"justifyRight"}],onClick:function(e){t._command(e)}})}function $(e){var t=this;this.editor=e,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-pencil2"><i/></div>'),this.type="droplist";var n=e.config,r=n.colors||[];this._active=!1,this.droplist=new d(this,{width:120,$title:i("<p>文字颜色</p>"),type:"inline-block",list:r.map(function(e){return{$elem:i('<i style="color:'+e+';" class="w-e-icon-pencil2"></i>'),value:e}}),onClick:function(e){t._command(e)}})}function _(e){var t=this;this.editor=e,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-paint-brush"><i/></div>'),this.type="droplist";var n=e.config,r=n.colors||[];this._active=!1,this.droplist=new d(this,{width:120,$title:i("<p>背景色</p>"),type:"inline-block",list:r.map(function(e){return{$elem:i('<i style="color:'+e+';" class="w-e-icon-paint-brush"></i>'),value:e}}),onClick:function(e){t._command(e)}})}function I(e){this.editor=e,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-quotes-left"><i/>\n        </div>'),this.type="click",this._active=!1}function C(e){this.editor=e,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-terminal"><i/>\n        </div>'),this.type="panel",this._active=!1}function S(e){this.editor=e,this.$elem=i('<div class="w-e-menu">\n            <i class="w-e-icon-happy"><i/>\n        </div>'),this.type="panel",this._active=!1}function E(e){this.editor=e,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-table2"><i/></div>'),this.type="panel",this._active=!1}function D(e){this.editor=e,this.$elem=i('<div class="w-e-menu"><i class="w-e-icon-play"><i/></div>'),this.type="panel",this._active=!1}function P(e){this.editor=e;var t=s("w-e-img");this.$elem=i('<div class="w-e-menu" id="'+t+'"><i class="w-e-icon-image"><i/></div>'),e.imgMenuId=t,this.type="panel",this._active=!1}function T(e){this.editor=e,this.menus={}}function M(e){var t=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData,n=void 0;return n=null==t?window.clipboardData&&window.clipboardData.getData("text"):t.getData("text/plain"),l(n)}function R(e,t,n){var r=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData,i=void 0,o=void 0;if(null==r?i=window.clipboardData&&window.clipboardData.getData("text"):(i=r.getData("text/plain"),o=r.getData("text/html")),!o&&i&&(o="<p>"+l(i)+"</p>"),o){var a=o.split("</html>");return 2===a.length&&(o=a[0]),o=o.replace(/<(meta|script|link).+?>/gim,""),o=o.replace(/<!--.*?-->/gm,""),o=o.replace(/\s?data-.+?=('|").+?('|")/gim,""),n&&(o=o.replace(/<img.+?>/gim,"")),o=t?o.replace(/\s?(class|style)=('|").+?('|")/gim,""):o.replace(/\s?class=('|").+?('|")/gim,"")}}function B(e){var t=[];if(M(e))return t;var n=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData||{},r=n.items;return r?(o(r,function(e,n){/image/i.test(n.type)&&t.push(n.getAsFile())}),t):t}function j(e){var t=[];return(e.childNodes()||[]).forEach(function(e){var n=void 0,r=e.nodeType;if(3===r&&(n=e.textContent),1===r){n={},n.tag=e.nodeName.toLowerCase();for(var o=[],a=e.attributes||{},s=a.length||0,l=0;l<s;l++){var c=a[l];o.push({name:c.name,value:c.value})}n.attrs=o,n.children=j(i(e))}t.push(n)}),t}function N(e){this.editor=e}function O(e){this.editor=e}function F(e){this.editor=e,this._currentRange=null}function U(e){this.editor=e,this._time=0,this._isShow=!1,this._isRender=!1,this._timeoutId=0,this.$textContainer=e.$textContainerElem,this.$bar=i('<div class="w-e-progress"></div>')}function L(e){this.editor=e}function Y(e,t){if(null==e)throw new Error("错误：初始化编辑器时候未传入任何参数，请查阅文档");this.id="wangEditor-"+X++,this.toolbarSelector=e,this.textSelector=t,this.customConfig={}}var z=[];r.prototype={constructor:r,forEach:function(e){var t=void 0;for(t=0;t<this.length;t++){var n=this[t];if(!1===e.call(n,n,t))break}return this},clone:function(e){var t=[];return this.forEach(function(n){t.push(n.cloneNode(!!e))}),i(t)},get:function(e){var t=this.length;return e>=t&&(e%=t),i(this[e])},first:function(){return this.get(0)},last:function(){var e=this.length;return this.get(e-1)},on:function(e,t,n){n||(n=t,t=null);var r=[];return r=e.split(/\s+/),this.forEach(function(e){r.forEach(function(r){if(r){if(z.push({elem:e,type:r,fn:n}),!t)return void e.addEventListener(r,n);e.addEventListener(r,function(e){var r=e.target;r.matches(t)&&n.call(r,e)})}})})},off:function(e,t){return this.forEach(function(n){n.removeEventListener(e,t)})},attr:function(e,t){return null==t?this[0].getAttribute(e):this.forEach(function(n){n.setAttribute(e,t)})},addClass:function(e){return e?this.forEach(function(t){var n=void 0;t.className?(n=t.className.split(/\s/),n=n.filter(function(e){return!!e.trim()}),n.indexOf(e)<0&&n.push(e),t.className=n.join(" ")):t.className=e}):this},removeClass:function(e){return e?this.forEach(function(t){var n=void 0;t.className&&(n=t.className.split(/\s/),n=n.filter(function(t){return!(!(t=t.trim())||t===e)}),t.className=n.join(" "))}):this},css:function(e,t){var n=e+":"+t+";";return this.forEach(function(t){var r=(t.getAttribute("style")||"").trim(),i=void 0,o=[];r?(i=r.split(";"),i.forEach(function(e){var t=e.split(":").map(function(e){return e.trim()});2===t.length&&o.push(t[0]+":"+t[1])}),o=o.map(function(t){return 0===t.indexOf(e)?n:t}),o.indexOf(n)<0&&o.push(n),t.setAttribute("style",o.join("; "))):t.setAttribute("style",n)})},show:function(){return this.css("display","block")},hide:function(){return this.css("display","none")},children:function(){var e=this[0];return e?i(e.children):null},childNodes:function(){var e=this[0];return e?i(e.childNodes):null},append:function(e){return this.forEach(function(t){e.forEach(function(e){t.appendChild(e)})})},remove:function(){return this.forEach(function(e){if(e.remove)e.remove();else{var t=e.parentElement;t&&t.removeChild(e)}})},isContain:function(e){var t=this[0],n=e[0];return t.contains(n)},getSizeData:function(){return this[0].getBoundingClientRect()},getNodeName:function(){return this[0].nodeName},find:function(e){return i(this[0].querySelectorAll(e))},text:function(e){return e?this.forEach(function(t){t.innerHTML=e}):this[0].innerHTML.replace(/<.*?>/g,function(){return""})},html:function(e){var t=this[0];return null==e?t.innerHTML:(t.innerHTML=e,this)},val:function(){return this[0].value.trim()},focus:function(){return this.forEach(function(e){e.focus()})},parent:function(){return i(this[0].parentElement)},parentUntil:function(e,t){var n=document.querySelectorAll(e),r=n.length;if(!r)return null;var o=t||this[0];if("BODY"===o.nodeName)return null;var a=o.parentElement,s=void 0;for(s=0;s<r;s++)if(a===n[s])return i(a);return this.parentUntil(e,a)},equal:function(e){return 1===e.nodeType?this[0]===e:this[0]===e[0]},insertBefore:function(e){var t=i(e),n=t[0];return n?this.forEach(function(e){n.parentNode.insertBefore(e,n)}):this},insertAfter:function(e){var t=i(e),n=t[0];return n?this.forEach(function(e){var t=n.parentNode;t.lastChild===n?t.appendChild(e):t.insertBefore(e,n.nextSibling)}):this}},i.offAll=function(){z.forEach(function(e){var t=e.elem,n=e.type,r=e.fn;t.removeEventListener(n,r)})};var Q={menus:["head","bold","fontSize","fontName","italic","underline","strikeThrough","foreColor","backColor","link","list","justify","quote","emoticon","image","table","video","code","undo","redo"],fontNames:["宋体","微软雅黑","Arial","Tahoma","Verdana"],colors:["#000000","#eeece0","#1c487f","#4d80bf","#c24f4a","#8baa4a","#7b5ba1","#46acc8","#f9963b","#ffffff"],emotions:[{title:"默认",type:"image",content:[{alt:"[坏笑]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/50/pcmoren_huaixiao_org.png"},{alt:"[舔屏]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/40/pcmoren_tian_org.png"},{alt:"[污]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/3c/pcmoren_wu_org.png"}]},{title:"新浪",type:"image",content:[{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/7a/shenshou_thumb.gif",alt:"[草泥马]"},{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/60/horse2_thumb.gif",alt:"[神马]"},{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/bc/fuyun_thumb.gif",alt:"[浮云]"}]},{title:"emoji",type:"emoji",content:"😀 😃 😄 😁 😆 😅 😂 😊 😇 🙂 🙃 😉 😓 😪 😴 🙄 🤔 😬 🤐".split(/\s/)}],zIndex:1e4,debug:!1,linkCheck:function(e,t){return!0},linkImgCheck:function(e){return!0},pasteFilterStyle:!0,pasteIgnoreImg:!1,pasteTextHandle:function(e){return e},showLinkImg:!0,linkImgCallback:function(e){},uploadImgMaxSize:5242880,uploadImgShowBase64:!1,uploadFileName:"",uploadImgParams:{},uploadImgHeaders:{},withCredentials:!1,uploadImgTimeout:1e4,uploadImgHooks:{before:function(e,t,n){},success:function(e,t,n){},fail:function(e,t,n){},error:function(e,t){},timeout:function(e,t){}},qiniu:!1},q={_ua:navigator.userAgent,isWebkit:function(){return/webkit/i.test(this._ua)},isIE:function(){return"ActiveXObject"in window}};u.prototype={constructor:u,onClick:function(e){var t=this.editor,n=t.selection.isSelectionEmpty();n&&t.selection.createEmptyRange(),t.cmd.do("bold"),n&&(t.selection.collapseRange(),t.selection.restoreSelection())},tryChangeActive:function(e){var t=this.editor,n=this.$elem;t.cmd.queryCommandState("bold")?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}};var H=function(e,t){var n=e.config.langArgs||[],r=t;return n.forEach(function(e){var t=e.reg,n=e.val;t.test(r)&&(r=r.replace(t,function(){return n}))}),r},V=function(){};d.prototype={constructor:d,show:function(){this.hideTimeoutId&&clearTimeout(this.hideTimeoutId);var e=this.menu,t=e.$elem,n=this.$container;if(!this._show){if(this._rendered)n.show();else{var r=t.getSizeData().height||0,i=this.opt.width||100;n.css("margin-top",r+"px").css("width",i+"px"),t.append(n),this._rendered=!0}this._show=!0}},hide:function(){this.showTimeoutId&&clearTimeout(this.showTimeoutId);var e=this.$container;this._show&&(e.hide(),this._show=!1)}},f.prototype={constructor:f,_command:function(e){var t=this.editor,n=t.selection.getSelectionContainerElem();t.$textElem.equal(n)||t.cmd.do("formatBlock",e)},tryChangeActive:function(e){var t=this.editor,n=this.$elem,r=/^h/i,i=t.cmd.queryCommandValue("formatBlock");r.test(i)?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}},p.prototype={constructor:p,_command:function(e){this.editor.cmd.do("fontSize",e)}},h.prototype={constructor:h,_command:function(e){this.editor.cmd.do("fontName",e)}};var G=function(){},J=[];v.prototype={constructor:v,show:function(){var e=this,t=this.menu;if(!(J.indexOf(t)>=0)){var n=t.editor,r=i("body"),o=n.$textContainerElem,a=this.opt,s=i('<div class="w-e-panel-container"></div>'),l=a.width||300;s.css("width",l+"px").css("margin-left",(0-l)/2+"px");var c=i('<i class="w-e-icon-close w-e-panel-close"></i>');s.append(c),c.on("click",function(){e.hide()});var u=i('<ul class="w-e-panel-tab-title"></ul>'),d=i('<div class="w-e-panel-tab-content"></div>');s.append(u).append(d);var f=a.height;f&&d.css("height",f+"px").css("overflow-y","auto");var p=a.tabs||[],h=[],v=[];p.forEach(function(e,t){if(e){var r=e.title||"",o=e.tpl||"";r=H(n,r),o=H(n,o);var a=i('<li class="w-e-item">'+r+"</li>");u.append(a);var s=i(o);d.append(s),a._index=t,h.push(a),v.push(s),0===t?(a._active=!0,a.addClass("w-e-active")):s.hide(),a.on("click",function(e){a._active||(h.forEach(function(e){e._active=!1,e.removeClass("w-e-active")}),v.forEach(function(e){e.hide()}),a._active=!0,a.addClass("w-e-active"),s.show())})}}),s.on("click",function(e){e.stopPropagation()}),r.on("click",function(t){e.hide()}),o.append(s),p.forEach(function(t,n){if(t){(t.events||[]).forEach(function(t){var r=t.selector,i=t.type,o=t.fn||G;v[n].find(r).on(i,function(t){t.stopPropagation(),o(t)&&e.hide()})})}});var g=s.find("input[type=text],textarea");g.length&&g.get(0).focus(),this.$container=s,this._hideOtherPanels(),J.push(t)}},hide:function(){var e=this.menu,t=this.$container;t&&t.remove(),J=J.filter(function(t){return t!==e})},_hideOtherPanels:function(){J.length&&J.forEach(function(e){var t=e.panel||{};t.hide&&t.hide()})}},g.prototype={constructor:g,onClick:function(e){var t=this.editor,n=void 0;if(this._active){if(!(n=t.selection.getSelectionContainerElem()))return;t.selection.createRangeByElem(n),t.selection.restoreSelection(),this._createPanel(n.text(),n.attr("href"))}else t.selection.isSelectionEmpty()?this._createPanel("",""):this._createPanel(t.selection.getSelectionText(),"")},_createPanel:function(e,t){var n=this,r=s("input-link"),o=s("input-text"),a=s("btn-ok"),l=s("btn-del"),c=this._active?"inline-block":"none",u=new v(this,{width:300,tabs:[{title:"链接",tpl:'<div>\n                            <input id="'+o+'" type="text" class="block" value="'+e+'" placeholder="链接文字"/></td>\n                            <input id="'+r+'" type="text" class="block" value="'+t+'" placeholder="http://..."/></td>\n                            <div class="w-e-button-container">\n                                <button id="'+a+'" class="right">插入</button>\n                                <button id="'+l+'" class="gray right" style="display:'+c+'">删除链接</button>\n                            </div>\n                        </div>',events:[{selector:"#"+a,type:"click",fn:function(){var e=i("#"+r),t=i("#"+o),a=e.val(),s=t.val();return n._insertLink(s,a),!0}},{selector:"#"+l,type:"click",fn:function(){return n._delLink(),!0}}]}]});u.show(),this.panel=u},_delLink:function(){if(this._active){var e=this.editor;if(e.selection.getSelectionContainerElem()){var t=e.selection.getSelectionText();e.cmd.do("insertHTML","<span>"+t+"</span>")}}},_insertLink:function(e,t){var n=this.editor,r=n.config,i=r.linkCheck,o=!0;i&&"function"==typeof i&&(o=i(e,t)),!0===o?n.cmd.do("insertHTML",'<a href="'+t+'" target="_blank">'+e+"</a>"):alert(o)},tryChangeActive:function(e){var t=this.editor,n=this.$elem,r=t.selection.getSelectionContainerElem();r&&("A"===r.getNodeName()?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active")))}},m.prototype={constructor:m,onClick:function(e){var t=this.editor,n=t.selection.isSelectionEmpty();n&&t.selection.createEmptyRange(),t.cmd.do("italic"),n&&(t.selection.collapseRange(),t.selection.restoreSelection())},tryChangeActive:function(e){var t=this.editor,n=this.$elem;t.cmd.queryCommandState("italic")?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}},b.prototype={constructor:b,onClick:function(e){this.editor.cmd.do("redo")}},y.prototype={constructor:y,onClick:function(e){var t=this.editor,n=t.selection.isSelectionEmpty();n&&t.selection.createEmptyRange(),t.cmd.do("strikeThrough"),n&&(t.selection.collapseRange(),t.selection.restoreSelection())},tryChangeActive:function(e){var t=this.editor,n=this.$elem;t.cmd.queryCommandState("strikeThrough")?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}},A.prototype={constructor:A,onClick:function(e){var t=this.editor,n=t.selection.isSelectionEmpty();n&&t.selection.createEmptyRange(),t.cmd.do("underline"),n&&(t.selection.collapseRange(),t.selection.restoreSelection())},tryChangeActive:function(e){var t=this.editor,n=this.$elem;t.cmd.queryCommandState("underline")?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}},x.prototype={constructor:x,onClick:function(e){this.editor.cmd.do("undo")}},w.prototype={constructor:w,_command:function(e){var t=this.editor,n=t.$textElem;if(t.selection.restoreSelection(),!t.cmd.queryCommandState(e)){t.cmd.do(e);var r=t.selection.getSelectionContainerElem();if("LI"===r.getNodeName()&&(r=r.parent()),!1!==/^ol|ul$/i.test(r.getNodeName())&&!r.equal(n)){var i=r.parent();i.equal(n)||(r.insertAfter(i),i.remove())}}},tryChangeActive:function(e){var t=this.editor,n=this.$elem;t.cmd.queryCommandState("insertUnOrderedList")||t.cmd.queryCommandState("insertOrderedList")?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}},k.prototype={constructor:k,_command:function(e){this.editor.cmd.do(e)}},$.prototype={constructor:$,_command:function(e){this.editor.cmd.do("foreColor",e)}},_.prototype={constructor:_,_command:function(e){this.editor.cmd.do("backColor",e)}},I.prototype={constructor:I,onClick:function(e){var t=this.editor,n=t.selection.getSelectionContainerElem(),r=n.getNodeName();if(!q.isIE())return void("BLOCKQUOTE"===r?t.cmd.do("formatBlock","<P>"):t.cmd.do("formatBlock","<BLOCKQUOTE>"));var o=void 0,a=void 0;if("P"===r)return o=n.text(),a=i("<blockquote>"+o+"</blockquote>"),a.insertAfter(n),void n.remove();"BLOCKQUOTE"===r&&(o=n.text(),a=i("<p>"+o+"</p>"),a.insertAfter(n),n.remove())},tryChangeActive:function(e){var t=this.editor,n=this.$elem,r=/^BLOCKQUOTE$/i,i=t.cmd.queryCommandValue("formatBlock");r.test(i)?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}},C.prototype={constructor:C,onClick:function(e){var t=this.editor,n=t.selection.getSelectionStartElem(),r=t.selection.getSelectionEndElem(),o=t.selection.isSelectionEmpty(),a=t.selection.getSelectionText(),s=void 0;return n.equal(r)?o?void(this._active?this._createPanel(n.html()):this._createPanel()):(s=i("<code>"+a+"</code>"),t.cmd.do("insertElem",s),t.selection.createRangeByElem(s,!1),void t.selection.restoreSelection()):void t.selection.restoreSelection()},_createPanel:function(e){var t=this;e=e||"";var n=e?"edit":"new",r=s("texxt"),o=s("btn"),a=new v(this,{width:500,tabs:[{title:"插入代码",tpl:'<div>\n                        <textarea id="'+r+'" style="height:145px;;">'+e+'</textarea>\n                        <div class="w-e-button-container">\n                            <button id="'+o+'" class="right">插入</button>\n                        </div>\n                    <div>',events:[{selector:"#"+o,type:"click",fn:function(){var e=i("#"+r),o=e.val()||e.html();return o=l(o),"new"===n?t._insertCode(o):t._updateCode(o),!0}}]}]});a.show(),this.panel=a},_insertCode:function(e){this.editor.cmd.do("insertHTML","<pre><code>"+e+"</code></pre><p><br></p>")},_updateCode:function(e){var t=this.editor,n=t.selection.getSelectionContainerElem();n&&(n.html(e),t.selection.restoreSelection())},tryChangeActive:function(e){var t=this.editor,n=this.$elem,r=t.selection.getSelectionContainerElem();if(r){var i=r.parent();"CODE"===r.getNodeName()&&"PRE"===i.getNodeName()?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}}},S.prototype={constructor:S,onClick:function(){this._createPanel()},_createPanel:function(){var e=this,t=this.editor,n=t.config,r=n.emotions||[],o=[];r.forEach(function(t){var n=t.type,r=t.content||[],a="";"emoji"===n&&r.forEach(function(e){e&&(a+='<span class="w-e-item">'+e+"</span>")}),"image"===n&&r.forEach(function(e){var t=e.src,n=e.alt;t&&(a+='<span class="w-e-item"><img src="'+t+'" alt="'+n+'" data-w-e="1"/></span>')}),o.push({title:t.title,tpl:'<div class="w-e-emoticon-container">'+a+"</div>",events:[{selector:"span.w-e-item",type:"click",fn:function(t){var n=t.target,r=i(n),o=r.getNodeName(),a=void 0;return a="IMG"===o?r.parent().html():"<span>"+r.html()+"</span>",e._insert(a),!0}}]})});var a=new v(this,{width:300,height:200,tabs:o});a.show(),this.panel=a},_insert:function(e){this.editor.cmd.do("insertHTML",e)}},E.prototype={constructor:E,onClick:function(){this._active?this._createEditPanel():this._createInsertPanel()},_createInsertPanel:function(){var e=this,t=s("btn"),n=s("row"),r=s("col"),o=new v(this,{width:250,tabs:[{title:"插入表格",tpl:'<div>\n                        <p style="text-align:left; padding:5px 0;">\n                            创建\n                            <input id="'+n+'" type="text" value="5" style="width:40px;text-align:center;"/>\n                            行\n                            <input id="'+r+'" type="text" value="5" style="width:40px;text-align:center;"/>\n                            列的表格\n                        </p>\n                        <div class="w-e-button-container">\n                            <button id="'+t+'" class="right">插入</button>\n                        </div>\n                    </div>',events:[{selector:"#"+t,type:"click",fn:function(){var t=parseInt(i("#"+n).val()),o=parseInt(i("#"+r).val());return t&&o&&t>0&&o>0&&e._insert(t,o),!0}}]}]});o.show(),this.panel=o},_insert:function(e,t){var n=void 0,r=void 0,i='<table border="0" width="100%" cellpadding="0" cellspacing="0">';for(n=0;n<e;n++){if(i+="<tr>",0===n)for(r=0;r<t;r++)i+="<th>&nbsp;</th>";else for(r=0;r<t;r++)i+="<td>&nbsp;</td>";i+="</tr>"}i+="</table><p><br></p>";var o=this.editor;o.cmd.do("insertHTML",i),o.cmd.do("enableObjectResizing",!1),o.cmd.do("enableInlineTableEditing",!1)},_createEditPanel:function(){var e=this,t=s("add-row"),n=s("add-col"),r=s("del-row"),i=s("del-col"),o=s("del-table");new v(this,{width:320,tabs:[{title:"编辑表格",tpl:'<div>\n                        <div class="w-e-button-container" style="border-bottom:1px solid #f1f1f1;padding-bottom:5px;margin-bottom:5px;">\n                            <button id="'+t+'" class="left">增加行</button>\n                            <button id="'+r+'" class="red left">删除行</button>\n                            <button id="'+n+'" class="left">增加列</button>\n                            <button id="'+i+'" class="red left">删除列</button>\n                        </div>\n                        <div class="w-e-button-container">\n                            <button id="'+o+'" class="gray left">删除表格</button>\n                        </dv>\n                    </div>',events:[{selector:"#"+t,type:"click",fn:function(){return e._addRow(),!0}},{selector:"#"+n,type:"click",fn:function(){return e._addCol(),!0}},{selector:"#"+r,type:"click",fn:function(){return e._delRow(),!0}},{selector:"#"+i,type:"click",fn:function(){return e._delCol(),!0}},{selector:"#"+o,type:"click",fn:function(){return e._delTable(),!0}}]}]}).show()},_getLocationData:function(){var e={},t=this.editor,n=t.selection.getSelectionContainerElem();if(n){var r=n.getNodeName();if("TD"===r||"TH"===r){var i=n.parent(),o=i.children(),a=o.length;o.forEach(function(t,r){if(t===n[0])return e.td={index:r,elem:t,length:a},!1});var s=i.parent(),l=s.children(),c=l.length;return l.forEach(function(t,n){if(t===i[0])return e.tr={index:n,elem:t,length:c},!1}),e}}},_addRow:function(){var e=this._getLocationData();if(e){var t=e.tr,n=i(t.elem),r=e.td,o=r.length,a=document.createElement("tr"),s="",l=void 0;for(l=0;l<o;l++)s+="<td>&nbsp;</td>";a.innerHTML=s,i(a).insertAfter(n)}},_addCol:function(){var e=this._getLocationData();if(e){var t=e.tr,n=e.td,r=n.index;i(t.elem).parent().children().forEach(function(e){var t=i(e),n=t.children(),o=n.get(r),a=o.getNodeName().toLowerCase();i(document.createElement(a)).insertAfter(o)})}},_delRow:function(){var e=this._getLocationData();if(e){i(e.tr.elem).remove()}},_delCol:function(){var e=this._getLocationData();if(e){var t=e.tr,n=e.td,r=n.index;i(t.elem).parent().children().forEach(function(e){i(e).children().get(r).remove()})}},_delTable:function(){var e=this.editor,t=e.selection.getSelectionContainerElem();if(t){var n=t.parentUntil("table");n&&n.remove()}},tryChangeActive:function(e){var t=this.editor,n=this.$elem,r=t.selection.getSelectionContainerElem();if(r){var i=r.getNodeName();"TD"===i||"TH"===i?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}}},D.prototype={constructor:D,onClick:function(){this._createPanel()},_createPanel:function(){var e=this,t=s("text-val"),n=s("btn"),r=new v(this,{width:350,tabs:[{title:"插入视频",tpl:'<div>\n                        <input id="'+t+'" type="text" class="block" placeholder="格式如：<iframe src=... ></iframe>"/>\n                        <div class="w-e-button-container">\n                            <button id="'+n+'" class="right">插入</button>\n                        </div>\n                    </div>',events:[{selector:"#"+n,type:"click",fn:function(){var n=i("#"+t),r=n.val().trim();return r&&e._insert(r),!0}}]}]});r.show(),this.panel=r},_insert:function(e){this.editor.cmd.do("insertHTML",e+"<p><br></p>")}},P.prototype={constructor:P,onClick:function(){this.editor.config.qiniu||(this._active?this._createEditPanel():this._createInsertPanel())},_createEditPanel:function(){var e=this.editor,t=s("width-30"),n=s("width-50"),r=s("width-100"),i=s("del-btn"),o=[{title:"编辑图片",tpl:'<div>\n                    <div class="w-e-button-container" style="border-bottom:1px solid #f1f1f1;padding-bottom:5px;margin-bottom:5px;">\n                        <span style="float:left;font-size:14px;margin:4px 5px 0 5px;color:#333;">最大宽度：</span>\n                        <button id="'+t+'" class="left">30%</button>\n                        <button id="'+n+'" class="left">50%</button>\n                        <button id="'+r+'" class="left">100%</button>\n                    </div>\n                    <div class="w-e-button-container">\n                        <button id="'+i+'" class="gray left">删除图片</button>\n                    </dv>\n                </div>',events:[{selector:"#"+t,type:"click",fn:function(){var t=e._selectedImg;return t&&t.css("max-width","30%"),!0}},{selector:"#"+n,type:"click",fn:function(){var t=e._selectedImg;return t&&t.css("max-width","50%"),!0}},{selector:"#"+r,type:"click",fn:function(){var t=e._selectedImg;return t&&t.css("max-width","100%"),!0}},{selector:"#"+i,type:"click",fn:function(){var t=e._selectedImg;return t&&t.remove(),!0}}]}],a=new v(this,{width:300,tabs:o});a.show(),this.panel=a},_createInsertPanel:function(){var e=this.editor,t=e.uploadImg,n=e.config,r=s("up-trigger"),o=s("up-file"),a=s("link-url"),l=s("link-btn"),c=[{title:"上传图片",tpl:'<div class="w-e-up-img-container">\n                    <div id="'+r+'" class="w-e-up-btn">\n                        <i class="w-e-icon-upload2"></i>\n                    </div>\n                    <div style="display:none;">\n                        <input id="'+o+'" type="file" multiple="multiple" accept="image/jpg,image/jpeg,image/png,image/gif,image/bmp"/>\n                    </div>\n                </div>',events:[{selector:"#"+r,type:"click",fn:function(){var e=i("#"+o),t=e[0];if(!t)return!0;t.click()}},{selector:"#"+o,type:"change",fn:function(){var e=i("#"+o),n=e[0];if(!n)return!0;var r=n.files;return r.length&&t.uploadImg(r),!0}}]},{title:"网络图片",tpl:'<div>\n                    <input id="'+a+'" type="text" class="block" placeholder="图片链接"/></td>\n                    <div class="w-e-button-container">\n                        <button id="'+l+'" class="right">插入</button>\n                    </div>\n                </div>',events:[{selector:"#"+l,type:"click",fn:function(){var e=i("#"+a),n=e.val().trim();return n&&t.insertLinkImg(n),!0}}]}],u=[];(n.uploadImgShowBase64||n.uploadImgServer||n.customUploadImg)&&window.FileReader&&u.push(c[0]),n.showLinkImg&&u.push(c[1]);var d=new v(this,{width:300,tabs:u});d.show(),this.panel=d},tryChangeActive:function(e){var t=this.editor,n=this.$elem;t._selectedImg?(this._active=!0,n.addClass("w-e-active")):(this._active=!1,n.removeClass("w-e-active"))}};var K={};K.bold=u,K.head=f,K.fontSize=p,K.fontName=h,K.link=g,K.italic=m,K.redo=b,K.strikeThrough=y,K.underline=A,K.undo=x,K.list=w,K.justify=k,K.foreColor=$,K.backColor=_,K.quote=I,K.code=C,K.emoticon=S,K.table=E,K.video=D,K.image=P,T.prototype={constructor:T,init:function(){var e=this,t=this.editor;((t.config||{}).menus||[]).forEach(function(n){var r=K[n];r&&"function"==typeof r&&(e.menus[n]=new r(t))}),this._addToToolbar(),this._bindEvent()},_addToToolbar:function(){var e=this.editor,t=e.$toolbarElem,n=this.menus,r=e.config,i=r.zIndex+1;o(n,function(e,n){var r=n.$elem;r&&(r.css("z-index",i),t.append(r))})},_bindEvent:function(){var e=this.menus,t=this.editor;o(e,function(e,n){var r=n.type;if(r){var i=n.$elem,o=n.droplist;n.panel;"click"===r&&n.onClick&&i.on("click",function(e){null!=t.selection.getRange()&&n.onClick(e)}),"droplist"===r&&o&&i.on("mouseenter",function(e){null!=t.selection.getRange()&&(o.showTimeoutId=setTimeout(function(){o.show()},200))}).on("mouseleave",function(e){o.hideTimeoutId=setTimeout(function(){o.hide()},0)}),"panel"===r&&n.onClick&&i.on("click",function(e){e.stopPropagation(),null!=t.selection.getRange()&&n.onClick(e)})}})},changeActive:function(){o(this.menus,function(e,t){t.tryChangeActive&&setTimeout(function(){t.tryChangeActive()},100)})}},N.prototype={constructor:N,init:function(){this._bindEvent()},clear:function(){this.html("<p><br></p>")},html:function(e){var t=this.editor,n=t.$textElem,r=void 0;if(null==e)return r=n.html(),r=r.replace(/\u200b/gm,""),r;n.html(e),t.initSelection()},getJSON:function(){return j(this.editor.$textElem)},text:function(e){var t=this.editor,n=t.$textElem,r=void 0;if(null==e)return r=n.text(),r=r.replace(/\u200b/gm,""),r;n.text("<p>"+e+"</p>"),t.initSelection()},append:function(e){var t=this.editor;t.$textElem.append(i(e)),t.initSelection()},_bindEvent:function(){this._saveRangeRealTime(),this._enterKeyHandle(),this._clearHandle(),this._pasteHandle(),this._tabHandle(),this._imgHandle(),this._dragHandle()},_saveRangeRealTime:function(){function e(e){t.selection.saveRange(),t.menus.changeActive()}var t=this.editor,n=t.$textElem;n.on("keyup",e),n.on("mousedown",function(t){n.on("mouseleave",e)}),n.on("mouseup",function(t){e(),n.off("mouseleave",e)})},_enterKeyHandle:function(){function e(e){var t=i("<p><br></p>");t.insertBefore(e),r.selection.createRangeByElem(t,!0),r.selection.restoreSelection(),e.remove()}function t(t){var n=r.selection.getSelectionContainerElem(),i=n.parent();if("<code><br></code>"===i.html())return void e(n);if(i.equal(o)){"P"!==n.getNodeName()&&(n.text()||e(n))}}function n(e){var t=r.selection.getSelectionContainerElem();if(t){var n=t.parent(),o=t.getNodeName(),a=n.getNodeName();if("CODE"===o&&"PRE"===a&&r.cmd.queryCommandSupported("insertHTML")){if(!0===r._willBreakCode){var s=i("<p><br></p>");return s.insertAfter(n),r.selection.createRangeByElem(s,!0),r.selection.restoreSelection(),r._willBreakCode=!1,void e.preventDefault()}var l=r.selection.getRange().startOffset;r.cmd.do("insertHTML","\n"),r.selection.saveRange(),r.selection.getRange().startOffset===l&&r.cmd.do("insertHTML","\n");var c=t.html().length;r.selection.getRange().startOffset+1===c&&(r._willBreakCode=!0),e.preventDefault()}}}var r=this.editor,o=r.$textElem;o.on("keyup",function(e){13===e.keyCode&&t(e)}),o.on("keydown",function(e){if(13!==e.keyCode)return void(r._willBreakCode=!1);n(e)})},_clearHandle:function(){var e=this.editor,t=e.$textElem;t.on("keydown",function(e){if(8===e.keyCode){return"<p><br></p>"===t.html().toLowerCase().trim()?void e.preventDefault():void 0}}),t.on("keyup",function(n){if(8===n.keyCode){var r=void 0,o=t.html().toLowerCase().trim();o&&"<br>"!==o||(r=i("<p><br/></p>"),t.html(""),t.append(r),e.selection.createRangeByElem(r,!1,!0),e.selection.restoreSelection())}})},_pasteHandle:function(){function e(){var e=Date.now(),t=!1;return e-l>=500&&(t=!0),l=e,t}function t(){l=0}var n=this.editor,r=n.config,i=r.pasteFilterStyle,o=r.pasteTextHandle,a=r.pasteIgnoreImg,s=n.$textElem,l=0;s.on("paste",function(r){if(!q.isIE()&&(r.preventDefault(),e())){var s=R(r,i,a),l=M(r);l=l.replace(/\n/gm,"<br>");var u=n.selection.getSelectionContainerElem();if(u){var d=u.getNodeName();if("CODE"===d||"PRE"===d)return o&&c(o)&&(l=""+(o(l)||"")),void n.cmd.do("insertHTML","<p>"+l+"</p>");if(!s)return void t();try{o&&c(o)&&(s=""+(o(s)||"")),n.cmd.do("insertHTML",s)}catch(e){o&&c(o)&&(l=""+(o(l)||"")),n.cmd.do("insertHTML","<p>"+l+"</p>")}}}}),s.on("paste",function(t){if(!q.isIE()&&(t.preventDefault(),e())){var r=B(t);if(r&&r.length){var i=n.selection.getSelectionContainerElem();if(i){var o=i.getNodeName();if("CODE"!==o&&"PRE"!==o){n.uploadImg.uploadImg(r)}}}}})},_tabHandle:function(){var e=this.editor;e.$textElem.on("keydown",function(t){if(9===t.keyCode&&e.cmd.queryCommandSupported("insertHTML")){var n=e.selection.getSelectionContainerElem();if(n){var r=n.parent(),i=n.getNodeName(),o=r.getNodeName();"CODE"===i&&"PRE"===o?e.cmd.do("insertHTML","    "):e.cmd.do("insertHTML","&nbsp;&nbsp;&nbsp;&nbsp;"),t.preventDefault()}}})},_imgHandle:function(){var e=this.editor,t=e.$textElem;t.on("click","img",function(t){var n=this,r=i(n);"1"!==r.attr("data-w-e")&&(e._selectedImg=r,e.selection.createRangeByElem(r),e.selection.restoreSelection())}),t.on("click  keyup",function(t){t.target.matches("img")||(e._selectedImg=null)})},_dragHandle:function(){var e=this.editor;i(document).on("dragleave drop dragenter dragover",function(e){e.preventDefault()}),e.$textElem.on("drop",function(t){t.preventDefault();var n=t.dataTransfer&&t.dataTransfer.files;n&&n.length&&e.uploadImg.uploadImg(n)})}},O.prototype={constructor:O,do:function(e,t){var n=this.editor;if(n._useStyleWithCSS||(document.execCommand("styleWithCSS",null,!0),n._useStyleWithCSS=!0),n.selection.getRange()){n.selection.restoreSelection();var r="_"+e;this[r]?this[r](t):this._execCommand(e,t),n.menus.changeActive(),n.selection.saveRange(),n.selection.restoreSelection(),n.change&&n.change()}},_insertHTML:function(e){var t=this.editor,n=t.selection.getRange();this.queryCommandSupported("insertHTML")?this._execCommand("insertHTML",e):n.insertNode?(n.deleteContents(),n.insertNode(i(e)[0])):n.pasteHTML&&n.pasteHTML(e)},_insertElem:function(e){var t=this.editor,n=t.selection.getRange();n.insertNode&&(n.deleteContents(),n.insertNode(e[0]))},_execCommand:function(e,t){document.execCommand(e,!1,t)},queryCommandValue:function(e){return document.queryCommandValue(e)},queryCommandState:function(e){return document.queryCommandState(e)},queryCommandSupported:function(e){return document.queryCommandSupported(e)}},F.prototype={constructor:F,getRange:function(){return this._currentRange},saveRange:function(e){if(e)return void(this._currentRange=e);var t=window.getSelection();if(0!==t.rangeCount){var n=t.getRangeAt(0),r=this.getSelectionContainerElem(n);if(r&&"false"!==r.attr("contenteditable")&&!r.parentUntil("[contenteditable=false]")){this.editor.$textElem.isContain(r)&&(this._currentRange=n)}}},collapseRange:function(e){null==e&&(e=!1);var t=this._currentRange;t&&t.collapse(e)},getSelectionText:function(){return this._currentRange?this._currentRange.toString():""},getSelectionContainerElem:function(e){e=e||this._currentRange;var t=void 0;if(e)return t=e.commonAncestorContainer,i(1===t.nodeType?t:t.parentNode)},getSelectionStartElem:function(e){e=e||this._currentRange;var t=void 0;if(e)return t=e.startContainer,i(1===t.nodeType?t:t.parentNode)},getSelectionEndElem:function(e){e=e||this._currentRange;var t=void 0;if(e)return t=e.endContainer,i(1===t.nodeType?t:t.parentNode)},isSelectionEmpty:function(){var e=this._currentRange;return!(!e||!e.startContainer||e.startContainer!==e.endContainer||e.startOffset!==e.endOffset)},restoreSelection:function(){var e=window.getSelection();e.removeAllRanges(),e.addRange(this._currentRange)},createEmptyRange:function(){var e=this.editor,t=this.getRange(),n=void 0;if(t&&this.isSelectionEmpty())try{q.isWebkit()?(e.cmd.do("insertHTML","&#8203;"),t.setEnd(t.endContainer,t.endOffset+1),this.saveRange(t)):(n=i("<strong>&#8203;</strong>"),e.cmd.do("insertElem",n),this.createRangeByElem(n,!0))}catch(e){}},createRangeByElem:function(e,t,n){if(e.length){var r=e[0],i=document.createRange();n?i.selectNodeContents(r):i.selectNode(r),"boolean"==typeof t&&i.collapse(t),this.saveRange(i)}}},U.prototype={constructor:U,show:function(e){var t=this;if(!this._isShow){this._isShow=!0;var n=this.$bar;if(this._isRender)this._isRender=!0;else{this.$textContainer.append(n)}Date.now()-this._time>100&&e<=1&&(n.css("width",100*e+"%"),this._time=Date.now());var r=this._timeoutId;r&&clearTimeout(r),r=setTimeout(function(){t._hide()},500)}},_hide:function(){this.$bar.remove(),this._time=0,this._isShow=!1,this._isRender=!1}};var W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};L.prototype={constructor:L,_alert:function(e,t){var n=this.editor,r=n.config.debug,i=n.config.customAlert;if(r)throw new Error("wangEditor: "+(t||e));i&&"function"==typeof i?i(e):alert(e)},insertLinkImg:function(e){var t=this;if(e){var n=this.editor,r=n.config,i=r.linkImgCheck,o=void 0;if(i&&"function"==typeof i&&"string"==typeof(o=i(e)))return void alert(o);n.cmd.do("insertHTML",'<img src="'+e+'" style="max-width:100%;"/>');var a=document.createElement("img");a.onload=function(){var t=r.linkImgCallback;t&&"function"==typeof t&&t(e),a=null},a.onerror=function(){a=null,t._alert("插入图片错误",'wangEditor: 插入图片出错，图片链接是 "'+e+'"，下载该链接失败')},a.onabort=function(){a=null},a.src=e}},uploadImg:function(e){var t=this;if(e&&e.length){var n=this.editor,r=n.config,i=r.uploadImgServer,s=r.uploadImgShowBase64,l=r.uploadImgMaxSize,c=l/1024/1024,u=r.uploadImgMaxLength||1e4,d=r.uploadFileName||"",f=r.uploadImgParams||{},p=r.uploadImgParamsWithUrl,h=r.uploadImgHeaders||{},v=r.uploadImgHooks||{},g=r.uploadImgTimeout||3e3,m=r.withCredentials;null==m&&(m=!1);var b=r.customUploadImg;if(b||i||s){var y=[],A=[];if(a(e,function(e){var t=e.name,n=e.size;if(t&&n)return!1===/\.(jpg|jpeg|png|bmp|gif)$/i.test(t)?void A.push("【"+t+"】不是图片"):l<n?void A.push("【"+t+"】大于 "+c+"M"):void y.push(e)}),A.length)return void this._alert("图片验证未通过: \n"+A.join("\n"));if(y.length>u)return void this._alert("一次最多上传"+u+"张图片");if(b&&"function"==typeof b)return void b(y,this.insertLinkImg.bind(this));var x=new FormData;if(a(y,function(e){var t=d||e.name;x.append(t,e)}),i&&"string"==typeof i){var w=i.split("#");i=w[0];var k=w[1]||"";o(f,function(e,t){t=encodeURIComponent(t),p&&(i.indexOf("?")>0?i+="&":i+="?",i=i+e+"="+t),x.append(e,t)}),k&&(i+="#"+k);var $=new XMLHttpRequest;if($.open("POST",i),$.timeout=g,$.ontimeout=function(){v.timeout&&"function"==typeof v.timeout&&v.timeout($,n),t._alert("上传图片超时")},$.upload&&($.upload.onprogress=function(e){var t=void 0,r=new U(n);e.lengthComputable&&(t=e.loaded/e.total,r.show(t))}),$.onreadystatechange=function(){var e=void 0;if(4===$.readyState){if($.status<200||$.status>=300)return v.error&&"function"==typeof v.error&&v.error($,n),void t._alert("上传图片发生错误","上传图片发生错误，服务器返回状态是 "+$.status);if(e=$.responseText,"object"!==(void 0===e?"undefined":W(e)))try{e=JSON.parse(e)}catch(r){return v.fail&&"function"==typeof v.fail&&v.fail($,n,e),void t._alert("上传图片失败","上传图片返回结果错误，返回结果是: "+e)}if(v.customInsert||"0"==e.errno){if(v.customInsert&&"function"==typeof v.customInsert)v.customInsert(t.insertLinkImg.bind(t),e,n);else{(e.data||[]).forEach(function(e){t.insertLinkImg(e)})}v.success&&"function"==typeof v.success&&v.success($,n,e)}else v.fail&&"function"==typeof v.fail&&v.fail($,n,e),t._alert("上传图片失败","上传图片返回结果错误，返回结果 errno="+e.errno)}},v.before&&"function"==typeof v.before){var _=v.before($,n,y);if(_&&"object"===(void 0===_?"undefined":W(_))&&_.prevent)return void this._alert(_.msg)}return o(h,function(e,t){$.setRequestHeader(e,t)}),$.withCredentials=m,void $.send(x)}s&&a(e,function(e){var n=t,r=new FileReader;r.readAsDataURL(e),r.onload=function(){n.insertLinkImg(this.result)}})}}}};var X=1;Y.prototype={constructor:Y,_initConfig:function(){var e={};this.config=Object.assign(e,Q,this.customConfig);var t=this.config.lang||{},n=[];o(t,function(e,t){n.push({reg:new RegExp(e,"img"),val:t})}),this.config.langArgs=n},_initDom:function(){var e=this,t=this.toolbarSelector,n=i(t),r=this.textSelector,o=this.config,a=o.zIndex,l=void 0,c=void 0,u=void 0,d=void 0;null==r?(l=i("<div></div>"),c=i("<div></div>"),d=n.children(),n.append(l).append(c),l.css("background-color","#f1f1f1").css("border","1px solid #ccc"),c.css("border","1px solid #ccc").css("border-top","none").css("height","300px")):(l=n,c=i(r),d=c.children()),u=i("<div></div>"),u.attr("contenteditable","true").css("width","100%").css("height","100%"),d&&d.length?u.append(d):u.append(i("<p><br></p>")),c.append(u),l.addClass("w-e-toolbar"),c.addClass("w-e-text-container"),c.css("z-index",a),u.addClass("w-e-text");var f=s("toolbar-elem");l.attr("id",f);var p=s("text-elem");u.attr("id",p),this.$toolbarElem=l,this.$textContainerElem=c,this.$textElem=u,this.toolbarElemId=f,this.textElemId=p;var h=!0;c.on("compositionstart",function(){h=!1}),c.on("compositionend",function(){h=!0}),c.on("click keyup",function(){h&&e.change&&e.change()}),l.on("click",function(){this.change&&this.change()}),(o.onfocus||o.onblur)&&(this.isFocus=!1,i(document).on("click",function(t){var n=u.isContain(i(t.target)),r=l.isContain(i(t.target)),o=l[0]==t.target;if(n)e.isFocus||e.onfocus&&e.onfocus(),e.isFocus=!0;else{if(r&&!o)return;e.isFocus&&e.onblur&&e.onblur(),e.isFocus=!1}}))},_initCommand:function(){this.cmd=new O(this)},_initSelectionAPI:function(){this.selection=new F(this)},_initUploadImg:function(){this.uploadImg=new L(this)},_initMenus:function(){this.menus=new T(this),this.menus.init()},_initText:function(){this.txt=new N(this),this.txt.init()},initSelection:function(e){var t=this.$textElem,n=t.children();if(!n.length)return t.append(i("<p><br></p>")),void this.initSelection();var r=n.last();if(e){var o=r.html().toLowerCase(),a=r.getNodeName();if("<br>"!==o&&"<br/>"!==o||"P"!==a)return t.append(i("<p><br></p>")),void this.initSelection()}this.selection.createRangeByElem(r,!1,!0),this.selection.restoreSelection()},_bindEvent:function(){var e=0,t=this.txt.html(),n=this.config,r=n.onchangeTimeout;(!(r=parseInt(r,10))||r<=0)&&(r=200);var i=n.onchange;i&&"function"==typeof i&&(this.change=function(){var n=this.txt.html();n.length===t.length&&n===t||(e&&clearTimeout(e),e=setTimeout(function(){i(n),t=n},r))});var o=n.onblur;o&&"function"==typeof o&&(this.onblur=function(){var e=this.txt.html();o(e)});var a=n.onfocus;a&&"function"==typeof a&&(this.onfocus=function(){a()})},create:function(){this._initConfig(),this._initDom(),this._initCommand(),this._initSelectionAPI(),this._initText(),this._initMenus(),this._initUploadImg(),this.initSelection(!0),this._bindEvent()},_offAllEvent:function(){i.offAll()}};try{document}catch(e){throw new Error("请在浏览器环境下运行")}!function(){"function"!=typeof Object.assign&&(Object.assign=function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1})}();var Z=document.createElement("style");return Z.type="text/css",Z.innerHTML='.w-e-toolbar,.w-e-text-container,.w-e-menu-panel {  padding: 0;  margin: 0;  box-sizing: border-box;}.w-e-toolbar *,.w-e-text-container *,.w-e-menu-panel * {  padding: 0;  margin: 0;  box-sizing: border-box;}.w-e-clear-fix:after {  content: "";  display: table;  clear: both;}.w-e-toolbar .w-e-droplist {  position: absolute;  left: 0;  top: 0;  background-color: #fff;  border: 1px solid #f1f1f1;  border-right-color: #ccc;  border-bottom-color: #ccc;}.w-e-toolbar .w-e-droplist .w-e-dp-title {  text-align: center;  color: #999;  line-height: 2;  border-bottom: 1px solid #f1f1f1;  font-size: 13px;}.w-e-toolbar .w-e-droplist ul.w-e-list {  list-style: none;  line-height: 1;}.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item {  color: #333;  padding: 5px 0;}.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item:hover {  background-color: #f1f1f1;}.w-e-toolbar .w-e-droplist ul.w-e-block {  list-style: none;  text-align: left;  padding: 5px;}.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item {  display: inline-block;  *display: inline;  *zoom: 1;  padding: 3px 5px;}.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item:hover {  background-color: #f1f1f1;}@font-face {  font-family: \'w-e-icon\';  src: url(data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAABhQAAsAAAAAGAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIPBGNtYXAAAAFoAAABBAAAAQQrSf4BZ2FzcAAAAmwAAAAIAAAACAAAABBnbHlmAAACdAAAEvAAABLwfpUWUWhlYWQAABVkAAAANgAAADYQp00kaGhlYQAAFZwAAAAkAAAAJAfEA+FobXR4AAAVwAAAAIQAAACEeAcD7GxvY2EAABZEAAAARAAAAERBSEX+bWF4cAAAFogAAAAgAAAAIAAsALZuYW1lAAAWqAAAAYYAAAGGmUoJ+3Bvc3QAABgwAAAAIAAAACAAAwAAAAMD3gGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA8fwDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEAOgAAAA2ACAABAAWAAEAIOkG6Q3pEulH6Wbpd+m56bvpxunL6d/qDepc6l/qZepo6nHqefAN8BTxIPHc8fz//f//AAAAAAAg6QbpDekS6UfpZel36bnpu+nG6cvp3+oN6lzqX+pi6mjqcep38A3wFPEg8dzx/P/9//8AAf/jFv4W+Bb0FsAWoxaTFlIWURZHFkMWMBYDFbUVsxWxFa8VpxWiEA8QCQ7+DkMOJAADAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAACAAD/wAQAA8AABAATAAABNwEnAQMuAScTNwEjAQMlATUBBwGAgAHAQP5Anxc7MmOAAYDA/oDAAoABgP6ATgFAQAHAQP5A/p0yOxcBEU4BgP6A/YDAAYDA/oCAAAQAAAAABAADgAAQACEALQA0AAABOAExETgBMSE4ATEROAExITUhIgYVERQWMyEyNjURNCYjBxQGIyImNTQ2MzIWEyE1EwEzNwPA/IADgPyAGiYmGgOAGiYmGoA4KCg4OCgoOED9AOABAEDgA0D9AAMAQCYa/QAaJiYaAwAaJuAoODgoKDg4/biAAYD+wMAAAAIAAABABAADQAA4ADwAAAEmJy4BJyYjIgcOAQcGBwYHDgEHBhUUFx4BFxYXFhceARcWMzI3PgE3Njc2Nz4BNzY1NCcuAScmJwERDQED1TY4OXY8PT8/PTx2OTg2CwcICwMDAwMLCAcLNjg5djw9Pz89PHY5ODYLBwgLAwMDAwsIBwv9qwFA/sADIAgGBggCAgICCAYGCCkqKlktLi8vLi1ZKiopCAYGCAICAgIIBgYIKSoqWS0uLy8uLVkqKin94AGAwMAAAAAAAgDA/8ADQAPAABsAJwAAASIHDgEHBhUUFx4BFxYxMDc+ATc2NTQnLgEnJgMiJjU0NjMyFhUUBgIAQjs6VxkZMjJ4MjIyMngyMhkZVzo7QlBwcFBQcHADwBkZVzo7Qnh9fcxBQUFBzH19eEI7OlcZGf4AcFBQcHBQUHAAAAEAAAAABAADgAArAAABIgcOAQcGBycRISc+ATMyFx4BFxYVFAcOAQcGBxc2Nz4BNzY1NCcuAScmIwIANTIyXCkpI5YBgJA1i1BQRUZpHh4JCSIYGB5VKCAgLQwMKCiLXl1qA4AKCycbHCOW/oCQNDweHmlGRVArKClJICEaYCMrK2I2NjlqXV6LKCgAAQAAAAAEAAOAACoAABMUFx4BFxYXNyYnLgEnJjU0Nz4BNzYzMhYXByERByYnLgEnJiMiBw4BBwYADAwtICAoVR4YGCIJCR4eaUZFUFCLNZABgJYjKSlcMjI1al1eiygoAYA5NjZiKysjYBohIEkpKCtQRUZpHh48NJABgJYjHBsnCwooKIteXQAAAAACAAAAQAQBAwAAJgBNAAATMhceARcWFRQHDgEHBiMiJy4BJyY1JzQ3PgE3NjMVIgYHDgEHPgEhMhceARcWFRQHDgEHBiMiJy4BJyY1JzQ3PgE3NjMVIgYHDgEHPgHhLikpPRESEhE9KSkuLikpPRESASMjelJRXUB1LQkQBwgSAkkuKSk9ERISET0pKS4uKSk9ERIBIyN6UlFdQHUtCRAHCBICABIRPSkpLi4pKT0REhIRPSkpLiBdUVJ6IyOAMC4IEwoCARIRPSkpLi4pKT0REhIRPSkpLiBdUVJ6IyOAMC4IEwoCAQAABgBA/8AEAAPAAAMABwALABEAHQApAAAlIRUhESEVIREhFSEnESM1IzUTFTMVIzU3NSM1MxUVESM1MzUjNTM1IzUBgAKA/YACgP2AAoD9gMBAQECAwICAwMCAgICAgIACAIACAIDA/wDAQP3yMkCSPDJAku7+wEBAQEBAAAYAAP/ABAADwAADAAcACwAXACMALwAAASEVIREhFSERIRUhATQ2MzIWFRQGIyImETQ2MzIWFRQGIyImETQ2MzIWFRQGIyImAYACgP2AAoD9gAKA/YD+gEs1NUtLNTVLSzU1S0s1NUtLNTVLSzU1SwOAgP8AgP8AgANANUtLNTVLS/61NUtLNTVLS/61NUtLNTVLSwADAAAAAAQAA6AAAwANABQAADchFSElFSE1EyEVITUhJQkBIxEjEQAEAPwABAD8AIABAAEAAQD9YAEgASDggEBAwEBAAQCAgMABIP7g/wABAAAAAAACAB7/zAPiA7QAMwBkAAABIiYnJicmNDc2PwE+ATMyFhcWFxYUBwYPAQYiJyY0PwE2NCcuASMiBg8BBhQXFhQHDgEjAyImJyYnJjQ3Nj8BNjIXFhQPAQYUFx4BMzI2PwE2NCcmNDc2MhcWFxYUBwYPAQ4BIwG4ChMIIxISEhIjwCNZMTFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PCBMKuDFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PDysQIxISEhIjwCNZMQFECAckLS1eLS0kwCIlJSIkLS1eLS0kVxAQDysPWCl0KRQVFRTAKXQpDysQBwj+iCUiJC0tXi0tJFcQEA8rD1gpdCkUFRUUwCl0KQ8rEA8PJC0tXi0tJMAiJQAAAAAFAAD/wAQAA8AAGwA3AFMAXwBrAAAFMjc+ATc2NTQnLgEnJiMiBw4BBwYVFBceARcWEzIXHgEXFhUUBw4BBwYjIicuAScmNTQ3PgE3NhMyNz4BNzY3BgcOAQcGIyInLgEnJicWFx4BFxYnNDYzMhYVFAYjIiYlNDYzMhYVFAYjIiYCAGpdXosoKCgoi15dampdXosoKCgoi15dalZMTHEgISEgcUxMVlZMTHEgISEgcUxMVisrKlEmJiMFHBtWODc/Pzc4VhscBSMmJlEqK9UlGxslJRsbJQGAJRsbJSUbGyVAKCiLXl1qal1eiygoKCiLXl1qal1eiygoA6AhIHFMTFZWTExxICEhIHFMTFZWTExxICH+CQYGFRAQFEM6OlYYGRkYVjo6QxQQEBUGBvcoODgoKDg4KCg4OCgoODgAAAMAAP/ABAADwAAbADcAQwAAASIHDgEHBhUUFx4BFxYzMjc+ATc2NTQnLgEnJgMiJy4BJyY1NDc+ATc2MzIXHgEXFhUUBw4BBwYTBycHFwcXNxc3JzcCAGpdXosoKCgoi15dampdXosoKCgoi15dalZMTHEgISEgcUxMVlZMTHEgISEgcUxMSqCgYKCgYKCgYKCgA8AoKIteXWpqXV6LKCgoKIteXWpqXV6LKCj8YCEgcUxMVlZMTHEgISEgcUxMVlZMTHEgIQKgoKBgoKBgoKBgoKAAAQBl/8ADmwPAACkAAAEiJiMiBw4BBwYVFBYzLgE1NDY3MAcGAgcGBxUhEzM3IzceATMyNjcOAQMgRGhGcVNUbRobSUgGDWVKEBBLPDxZAT1sxizXNC1VJi5QGB09A7AQHh1hPj9BTTsLJjeZbwN9fv7Fj5AjGQIAgPYJDzdrCQcAAAAAAgAAAAAEAAOAAAkAFwAAJTMHJzMRIzcXIyURJyMRMxUhNTMRIwcRA4CAoKCAgKCggP8AQMCA/oCAwEDAwMACAMDAwP8AgP1AQEACwIABAAADAMAAAANAA4AAFgAfACgAAAE+ATU0Jy4BJyYjIREhMjc+ATc2NTQmATMyFhUUBisBEyMRMzIWFRQGAsQcIBQURi4vNf7AAYA1Ly5GFBRE/oRlKjw8KWafn58sPj4B2yJULzUvLkYUFPyAFBRGLi81RnQBRks1NUv+gAEASzU1SwAAAAACAMAAAANAA4AAHwAjAAABMxEUBw4BBwYjIicuAScmNREzERQWFx4BMzI2Nz4BNQEhFSECwIAZGVc6O0JCOzpXGRmAGxgcSSgoSRwYG/4AAoD9gAOA/mA8NDVOFhcXFk41NDwBoP5gHjgXGBsbGBc4Hv6ggAAAAAABAIAAAAOAA4AACwAAARUjATMVITUzASM1A4CA/sCA/kCAAUCAA4BA/QBAQAMAQAABAAAAAAQAA4AAPQAAARUjHgEVFAYHDgEjIiYnLgE1MxQWMzI2NTQmIyE1IS4BJy4BNTQ2Nz4BMzIWFx4BFSM0JiMiBhUUFjMyFhcEAOsVFjUwLHE+PnEsMDWAck5OcnJO/gABLAIEATA1NTAscT4+cSwwNYByTk5yck47bisBwEAdQSI1YiQhJCQhJGI1NExMNDRMQAEDASRiNTViJCEkJCEkYjU0TEw0NEwhHwAAAAcAAP/ABAADwAADAAcACwAPABMAGwAjAAATMxUjNzMVIyUzFSM3MxUjJTMVIwMTIRMzEyETAQMhAyMDIQMAgIDAwMABAICAwMDAAQCAgBAQ/QAQIBACgBD9QBADABAgEP2AEAHAQEBAQEBAQEBAAkD+QAHA/oABgPwAAYD+gAFA/sAAAAoAAAAABAADgAADAAcACwAPABMAFwAbAB8AIwAnAAATESERATUhFR0BITUBFSE1IxUhNREhFSElIRUhETUhFQEhFSEhNSEVAAQA/YABAP8AAQD/AED/AAEA/wACgAEA/wABAPyAAQD/AAKAAQADgPyAA4D9wMDAQMDAAgDAwMDA/wDAwMABAMDA/sDAwMAAAAUAAAAABAADgAADAAcACwAPABMAABMhFSEVIRUhESEVIREhFSERIRUhAAQA/AACgP2AAoD9gAQA/AAEAPwAA4CAQID/AIABQID/AIAAAAAABQAAAAAEAAOAAAMABwALAA8AEwAAEyEVIRchFSERIRUhAyEVIREhFSEABAD8AMACgP2AAoD9gMAEAPwABAD8AAOAgECA/wCAAUCA/wCAAAAFAAAAAAQAA4AAAwAHAAsADwATAAATIRUhBSEVIREhFSEBIRUhESEVIQAEAPwAAYACgP2AAoD9gP6ABAD8AAQA/AADgIBAgP8AgAFAgP8AgAAAAAABAD8APwLmAuYALAAAJRQPAQYjIi8BBwYjIi8BJjU0PwEnJjU0PwE2MzIfATc2MzIfARYVFA8BFxYVAuYQThAXFxCoqBAXFhBOEBCoqBAQThAWFxCoqBAXFxBOEBCoqBDDFhBOEBCoqBAQThAWFxCoqBAXFxBOEBCoqBAQThAXFxCoqBAXAAAABgAAAAADJQNuABQAKAA8AE0AVQCCAAABERQHBisBIicmNRE0NzY7ATIXFhUzERQHBisBIicmNRE0NzY7ATIXFhcRFAcGKwEiJyY1ETQ3NjsBMhcWExEhERQXFhcWMyEyNzY3NjUBIScmJyMGBwUVFAcGKwERFAcGIyEiJyY1ESMiJyY9ATQ3NjsBNzY3NjsBMhcWHwEzMhcWFQElBgUIJAgFBgYFCCQIBQaSBQUIJQgFBQUFCCUIBQWSBQUIJQgFBQUFCCUIBQVJ/gAEBAUEAgHbAgQEBAT+gAEAGwQGtQYEAfcGBQg3Ghsm/iUmGxs3CAUFBQUIsSgIFxYXtxcWFgkosAgFBgIS/rcIBQUFBQgBSQgFBgYFCP63CAUFBQUIAUkIBQYGBQj+twgFBQUFCAFJCAUGBgX+WwId/eMNCwoFBQUFCgsNAmZDBQICBVUkCAYF/eMwIiMhIi8CIAUGCCQIBQVgFQ8PDw8VYAUFCAACAAcASQO3Aq8AGgAuAAAJAQYjIi8BJjU0PwEnJjU0PwE2MzIXARYVFAcBFRQHBiMhIicmPQE0NzYzITIXFgFO/vYGBwgFHQYG4eEGBh0FCAcGAQoGBgJpBQUI/dsIBQUFBQgCJQgFBQGF/vYGBhwGCAcG4OEGBwcGHQUF/vUFCAcG/vslCAUFBQUIJQgFBQUFAAAAAQAjAAAD3QNuALMAACUiJyYjIgcGIyInJjU0NzY3Njc2NzY9ATQnJiMhIgcGHQEUFxYXFjMWFxYVFAcGIyInJiMiBwYjIicmNTQ3Njc2NzY3Nj0BETQ1NDU0JzQnJicmJyYnJicmIyInJjU0NzYzMhcWMzI3NjMyFxYVFAcGIwYHBgcGHQEUFxYzITI3Nj0BNCcmJyYnJjU0NzYzMhcWMzI3NjMyFxYVFAcGByIHBgcGFREUFxYXFhcyFxYVFAcGIwPBGTMyGhkyMxkNCAcJCg0MERAKEgEHFf5+FgcBFQkSEw4ODAsHBw4bNTUaGDExGA0HBwkJCwwQDwkSAQIBAgMEBAUIEhENDQoLBwcOGjU1GhgwMRgOBwcJCgwNEBAIFAEHDwGQDgcBFAoXFw8OBwcOGTMyGRkxMRkOBwcKCg0NEBEIFBQJEREODQoLBwcOAAICAgIMCw8RCQkBAQMDBQxE4AwFAwMFDNRRDQYBAgEICBIPDA0CAgICDAwOEQgJAQIDAwUNRSEB0AINDQgIDg4KCgsLBwcDBgEBCAgSDwwNAgICAg0MDxEICAECAQYMULYMBwEBBwy2UAwGAQEGBxYPDA0CAgICDQwPEQgIAQECBg1P/eZEDAYCAgEJCBEPDA0AAAIAAP+3A/8DtwATADkAAAEyFxYVFAcCBwYjIicmNTQ3ATYzARYXFh8BFgcGIyInJicmJyY1FhcWFxYXFjMyNzY3Njc2NzY3NjcDmygeHhq+TDdFSDQ0NQFtISn9+BcmJy8BAkxMe0c2NiEhEBEEExQQEBIRCRcIDxITFRUdHR4eKQO3GxooJDP+mUY0NTRJSTABSx/9sSsfHw0oek1MGhsuLzo6RAMPDgsLCgoWJRsaEREKCwQEAgABAAAAAAAA9evv618PPPUACwQAAAAAANbEBFgAAAAA1sQEWAAA/7cEAQPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAD//wQBAAEAAAAAAAAAAAAAAAAAAAAhBAAAAAAAAAAAAAAAAgAAAAQAAAAEAAAABAAAAAQAAMAEAAAABAAAAAQAAAAEAABABAAAAAQAAAAEAAAeBAAAAAQAAAAEAABlBAAAAAQAAMAEAADABAAAgAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAMlAD8DJQAAA74ABwQAACMD/wAAAAAAAAAKABQAHgBMAJQA+AE2AXwBwgI2AnQCvgLoA34EHgSIBMoE8gU0BXAFiAXgBiIGagaSBroG5AcoB+AIKgkcCXgAAQAAACEAtAAKAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGljb21vb24AaQBjAG8AbQBvAG8AblZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGljb21vb24AaQBjAG8AbQBvAG8Abmljb21vb24AaQBjAG8AbQBvAG8AblJlZ3VsYXIAUgBlAGcAdQBsAGEAcmljb21vb24AaQBjAG8AbQBvAG8AbkZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=) format(\'truetype\');  font-weight: normal;  font-style: normal;}[class^="w-e-icon-"],[class*=" w-e-icon-"] {  /* use !important to prevent issues with browser extensions that change fonts */  font-family: \'w-e-icon\' !important;  speak: none;  font-style: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  line-height: 1;  /* Better Font Rendering =========== */  -webkit-font-smoothing: antialiased;  -moz-osx-font-smoothing: grayscale;}.w-e-icon-close:before {  content: "\\f00d";}.w-e-icon-upload2:before {  content: "\\e9c6";}.w-e-icon-trash-o:before {  content: "\\f014";}.w-e-icon-header:before {  content: "\\f1dc";}.w-e-icon-pencil2:before {  content: "\\e906";}.w-e-icon-paint-brush:before {  content: "\\f1fc";}.w-e-icon-image:before {  content: "\\e90d";}.w-e-icon-play:before {  content: "\\e912";}.w-e-icon-location:before {  content: "\\e947";}.w-e-icon-undo:before {  content: "\\e965";}.w-e-icon-redo:before {  content: "\\e966";}.w-e-icon-quotes-left:before {  content: "\\e977";}.w-e-icon-list-numbered:before {  content: "\\e9b9";}.w-e-icon-list2:before {  content: "\\e9bb";}.w-e-icon-link:before {  content: "\\e9cb";}.w-e-icon-happy:before {  content: "\\e9df";}.w-e-icon-bold:before {  content: "\\ea62";}.w-e-icon-underline:before {  content: "\\ea63";}.w-e-icon-italic:before {  content: "\\ea64";}.w-e-icon-strikethrough:before {  content: "\\ea65";}.w-e-icon-table2:before {  content: "\\ea71";}.w-e-icon-paragraph-left:before {  content: "\\ea77";}.w-e-icon-paragraph-center:before {  content: "\\ea78";}.w-e-icon-paragraph-right:before {  content: "\\ea79";}.w-e-icon-terminal:before {  content: "\\f120";}.w-e-icon-page-break:before {  content: "\\ea68";}.w-e-icon-cancel-circle:before {  content: "\\ea0d";}.w-e-icon-font:before {  content: "\\ea5c";}.w-e-icon-text-heigh:before {  content: "\\ea5f";}.w-e-toolbar {  display: -webkit-box;  display: -ms-flexbox;  display: flex;  padding: 0 5px;  /* flex-wrap: wrap; */  /* 单个菜单 */}.w-e-toolbar .w-e-menu {  position: relative;  text-align: center;  padding: 5px 10px;  cursor: pointer;}.w-e-toolbar .w-e-menu i {  color: #999;}.w-e-toolbar .w-e-menu:hover i {  color: #333;}.w-e-toolbar .w-e-active i {  color: #1e88e5;}.w-e-toolbar .w-e-active:hover i {  color: #1e88e5;}.w-e-text-container .w-e-panel-container {  position: absolute;  top: 0;  left: 50%;  border: 1px solid #ccc;  border-top: 0;  box-shadow: 1px 1px 2px #ccc;  color: #333;  background-color: #fff;  /* 为 emotion panel 定制的样式 */  /* 上传图片的 panel 定制样式 */}.w-e-text-container .w-e-panel-container .w-e-panel-close {  position: absolute;  right: 0;  top: 0;  padding: 5px;  margin: 2px 5px 0 0;  cursor: pointer;  color: #999;}.w-e-text-container .w-e-panel-container .w-e-panel-close:hover {  color: #333;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title {  list-style: none;  display: -webkit-box;  display: -ms-flexbox;  display: flex;  font-size: 14px;  margin: 2px 10px 0 10px;  border-bottom: 1px solid #f1f1f1;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title .w-e-item {  padding: 3px 5px;  color: #999;  cursor: pointer;  margin: 0 3px;  position: relative;  top: 1px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-title .w-e-active {  color: #333;  border-bottom: 1px solid #333;  cursor: default;  font-weight: 700;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content {  padding: 10px 15px 10px 15px;  font-size: 16px;  /* 输入框的样式 */  /* 按钮的样式 */}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input:focus,.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea:focus,.w-e-text-container .w-e-panel-container .w-e-panel-tab-content button:focus {  outline: none;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea {  width: 100%;  border: 1px solid #ccc;  padding: 5px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content textarea:focus {  border-color: #1e88e5;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text] {  border: none;  border-bottom: 1px solid #ccc;  font-size: 14px;  height: 20px;  color: #333;  text-align: left;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text].small {  width: 30px;  text-align: center;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text].block {  display: block;  width: 100%;  margin: 10px 0;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content input[type=text]:focus {  border-bottom: 2px solid #1e88e5;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button {  font-size: 14px;  color: #1e88e5;  border: none;  padding: 5px 10px;  background-color: #fff;  cursor: pointer;  border-radius: 3px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.left {  float: left;  margin-right: 10px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.right {  float: right;  margin-left: 10px;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.gray {  color: #999;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.red {  color: #c24f4a;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button:hover {  background-color: #f1f1f1;}.w-e-text-container .w-e-panel-container .w-e-panel-tab-content .w-e-button-container:after {  content: "";  display: table;  clear: both;}.w-e-text-container .w-e-panel-container .w-e-emoticon-container .w-e-item {  cursor: pointer;  font-size: 18px;  padding: 0 3px;  display: inline-block;  *display: inline;  *zoom: 1;}.w-e-text-container .w-e-panel-container .w-e-up-img-container {  text-align: center;}.w-e-text-container .w-e-panel-container .w-e-up-img-container .w-e-up-btn {  display: inline-block;  *display: inline;  *zoom: 1;  color: #999;  cursor: pointer;  font-size: 60px;  line-height: 1;}.w-e-text-container .w-e-panel-container .w-e-up-img-container .w-e-up-btn:hover {  color: #333;}.w-e-text-container {  position: relative;}.w-e-text-container .w-e-progress {  position: absolute;  background-color: #1e88e5;  bottom: 0;  left: 0;  height: 1px;}.w-e-text {  padding: 0 10px;  overflow-y: scroll;}.w-e-text p,.w-e-text h1,.w-e-text h2,.w-e-text h3,.w-e-text h4,.w-e-text h5,.w-e-text table,.w-e-text pre {  margin: 10px 0;  line-height: 1.5;}.w-e-text ul,.w-e-text ol {  margin: 10px 0 10px 20px;}.w-e-text blockquote {  display: block;  border-left: 8px solid #d0e5f2;  padding: 5px 10px;  margin: 10px 0;  line-height: 1.4;  font-size: 100%;  background-color: #f1f1f1;}.w-e-text code {  display: inline-block;  *display: inline;  *zoom: 1;  background-color: #f1f1f1;  border-radius: 3px;  padding: 3px 5px;  margin: 0 3px;}.w-e-text pre code {  display: block;}.w-e-text table {  border-top: 1px solid #ccc;  border-left: 1px solid #ccc;}.w-e-text table td,.w-e-text table th {  border-bottom: 1px solid #ccc;  border-right: 1px solid #ccc;  padding: 3px 5px;}.w-e-text table th {  border-bottom: 2px solid #ccc;  text-align: center;}.w-e-text:focus {  outline: none;}.w-e-text img {  cursor: pointer;}.w-e-text img:hover {  box-shadow: 0 0 5px #333;}',document.getElementsByTagName("HEAD").item(0).appendChild(Z),window.wangEditor||Y})},function(e,t,n){"use strict";function r(e,t){t.when("/","/layout").when("/layout","/layout/home").when("/layout/management","/layout/management/register/todo").when("/layout/management/register","/layout/management/register/todo").when("/layout/management/regResult","/layout/management/regResult/todo").when("/layout/enforcement","/layout/enforcement/annaulSurvey").when("/layout/enforcement/asList","/layout/enforcement/asList/todo").when("/layout/enforcement/qList","/layout/enforcement/qList/todo").when("/layout/enforcement/study","/layout/enforcement/study/classes").when("/layout/statistics","/layout/statistics/dogReg").when("/layout/device","/layout/device/overview").when("/layout/publish","/layout/publish/lose").when("/layout/organization","/layoutorganization/staff/users").when("/layout/settings","/layout/settings/account"),e.state("login",{url:"/login",component:"login"}).state("layout",{url:"/layout",abstract:!0,template:n(212)}).state("layout.home",{url:"/home",component:"home"}).state("layout.management",{url:"/management",abstract:!0,component:"management",defaultSub:"register"}).state("layout.management.dogDetail",{url:"/dog/:id",component:"dogDetail"}).state("layout.management.keeperDetail",{url:"/keeper/:id",component:"keeperDetail"}).state("layout.management.dogs",{url:"/dogs",abstract:!0,defaultSub:"dogsList"}).state("layout.management.dogs.dogsList",{url:"/dogsList",component:"dogsList"}).state("layout.management.dogs.dogDetail",{url:"/dog/:id",component:"dogDetail"}).state("layout.management.keepers",{url:"/keepers",component:"keepers"}).state("layout.management.keepers.keeperDetail",{url:"/keeper/:id",component:"keeperDetail"}).state("layout.management.register",{url:"/register",abstract:!0,defaultSub:"todo"}).state("layout.management.register.todo",{url:"/todo",component:"register"}).state("layout.management.register.passed",{url:"/passed",component:"register"}).state("layout.management.register.rejected",{url:"/rejected",component:"register"}).state("layout.management.regResult",{url:"/regResult",defaultSub:"todo"}).state("layout.management.regResult.todo",{url:"/todo",component:"regResult"}).state("layout.management.regResult.rejected",{url:"/rejected",component:"regResult"}).state("layout.enforcement",{url:"/enforcement",abstract:!0,component:"enforcement",defaultSub:"annualSurvey"}).state("layout.enforcement.keeperFines",{url:"/fines/keeper/:id",abstract:!0,defaultSub:"todo"}).state("layout.enforcement.keeperFines.todo",{url:"/todo",component:"fineRecords"}).state("layout.enforcement.keeperFines.completed",{url:"/completed",component:"fineRecords"}).state("layout.enforcement.dogFines",{url:"/fines/dog/:id",abstract:!0,defaultSub:"todo"}).state("layout.enforcement.dogFines.todo",{url:"/todo",component:"fineRecords"}).state("layout.enforcement.dogFines.completed",{url:"/completed",component:"fineRecords"}).state("layout.enforcement.annualSurvey",{url:"/annualSurvey",component:"annualSurvey"}).state("layout.enforcement.asList",{url:"/asList",abstract:!0,defaultSub:"todo"}).state("layout.enforcement.asList.todo",{url:"/todo",component:"asList"}).state("layout.enforcement.asList.overdue",{url:"/overdue",component:"asList"}).state("layout.enforcement.qList",{url:"/qList",abstract:!0,defaultSub:"todo"}).state("layout.enforcement.qList.todo",{url:"/todo",component:"qList"}).state("layout.enforcement.qList.overdue",{url:"/overdue",component:"qList"}).state("layout.enforcement.study",{url:"/study",abstract:!0,defaultSub:"classes"}).state("layout.enforcement.study.classes",{url:"/classes",component:"studyClasses"}).state("layout.enforcement.study.classDetail",{url:"/:classNo",component:"classDetail"}).state("layout.enforcement.study.todo",{url:"/todo",component:"study"}).state("layout.enforcement.study.overdue",{url:"/overdue",component:"study"}).state("layout.statistics",{url:"/statistics",abstract:!0,template:n(213),defaultSub:"dogReg"}).state("layout.statistics.dogReg",{url:"/dogReg",component:"dogReg"}).state("layout.organization",{url:"/organization",abstract:!0,template:n(214),defaultSub:"staff"}).state("layout.organization.staff",{url:"/staff",abstract:!0,defaultSub:"users"}).state("layout.organization.staff.users",{url:"/users",component:"users",params:{cityId:0}}).state("layout.organization.staff.roles",{url:"/roles",component:"roles"}).state("layout.organization.cities",{url:"/cities",component:"cities"}).state("layout.organization.nodes",{url:"/nodes",component:"nodes"}).state("layout.device",{url:"/device",abstract:!0,component:"device",defaultSub:"exchange"}).state("layout.device.overview",{url:"/overview",component:"overview"}).state("layout.device.orders",{url:"/orders",component:"orders"}).state("layout.device.exchange",{url:"/exchange",component:"exchange"}).state("layout.device.returnList",{url:"/returnList",abstract:!0,defaultSub:"todo"}).state("layout.device.returnList.todo",{url:"/todo",component:"return"}).state("layout.device.returnList.recovered",{url:"/recovered",component:"return"}).state("layout.publish",{url:"/publish",abstract:!0,component:"publish",defaultSub:"lose"}).state("layout.publish.lose",{url:"/lose",abstract:!0,defaultSub:"current"}).state("layout.publish.advert",{url:"/advert",abstract:!0,defaultSub:"banner"}).state("layout.publish.advert.banner",{url:"/banner",component:"advert"}).state("layout.publish.lose.current",{url:"/current",component:"lose"}).state("layout.publish.lose.closed",{url:"/closed",component:"lose"}).state("layout.publish.top",{url:"/top",abstract:!0,defaultSub:"view"}).state("layout.publish.top.view",{url:"/view",component:"topLine"}).state("layout.publish.top.edit",{url:"/edit/:typeId",component:"topEdit"}).state("layout.publish.petShow",{url:"/petShow",abstract:!0,defaultSub:"user"}).state("layout.publish.petShow.user",{url:"/user",component:"petShow"})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,r.$inject=["$stateProvider","$urlRouterProvider"]},function(e,t){e.exports='<div class="content-wrapper">\r\n\r\n  <ul class="nav nav-stacked sidebar" ng-class="{true:\'collapsed\',false:\'\'}[$ctrl.isSidebarFold]">\r\n    \x3c!-- <li class="bar-toggle fa" ng-click="$ctrl.toggleSidebarStatus($event)" ng-class="{\'fa-outdent\':!$ctrl.isSidebarFold, \'fa-indent\':$ctrl.isSidebarFold}"></li> --\x3e\r\n    <li class="logo">\r\n      <img class="logo-img" src="{{$ctrl.localImg.logo}}">\r\n      \x3c!-- <span>智宠宝</span> --\x3e\r\n      <span class="bar-toggle h-flex-box justify-center center-items" ng-click="$ctrl.toggleSidebarStatus($event)">\r\n        <img ng-src="{{$ctrl.isSidebarFold ? $ctrl.localImg.arrowd : $ctrl.localImg.fold}}">\r\n      </span>\r\n    </li>\r\n    <li>\r\n      <a ui-sref="layout.home" ui-sref-active="active">\r\n        <i class="fa fa-home"></i>首页</a>\r\n    </li>\r\n    <li>\r\n      <a ui-sref="layout.management" ui-sref-active="active">\r\n        <i class="fa fa-paw"></i>养犬管理</a>\r\n    </li>\r\n    <li>\r\n      <a ui-sref="layout.enforcement" ui-sref-active="active">\r\n        <i class="fa fa-exclamation-triangle"></i>执法运营</a>\r\n    </li>\r\n    <li>\r\n      <a ui-sref="layout.statistics" ui-sref-active="active">\r\n        <i class="fa fa-area-chart"></i>统计分析</a>\r\n    </li>\r\n    <li>\r\n      <a ui-sref="layout.device" ui-sref-active="active">\r\n        <i class="fa fa-tags"></i>设备管理</a>\r\n    </li>\r\n    <li>\r\n      <a ui-sref="layout.organization" ui-sref-active="active">\r\n        <i class="fa fa-th-large"></i>组织管理</a>\r\n    </li>\r\n    <li>\r\n      <a ui-sref="layout.publish" ui-sref-active="active">\r\n        <i class="fa fa-th-large"></i>发布管理</a>\r\n    </li>\r\n    <li>\r\n    <a ui-sref="layout.settings" ui-sref-active="active">\r\n      <i class="fa fa-cog"></i>系统设置</a>\r\n    </li>\r\n  </ul>\r\n\r\n  <div class="content-contoiner" ng-class="{true:\'collapsed\',false:\'\'}[$ctrl.isSidebarFold]">\r\n    <div class="topbar h-flex-box justify-between center-items">\r\n      <h2 style="font-size:14px;">智宠宝城市智能养犬管理系统控制台</h2>\r\n      <ul class="topbar-left" ng-if="$ctrl.user" class="h-flex-box center-items ">\r\n        \x3c!-- <a style="line-height:46px;" class="btn btn-link" ng-bind="$ctrl.name"></a>\r\n            <button type="button" class="btn btn-danger" ng-click="$ctrl.logout()">注销</button> --\x3e\r\n        <li>\r\n          <img class="point" ng-src="{{$ctrl.localImg.msg}}" alt="">\r\n        </li>\r\n        <li>\r\n          <img class="header" src="favicon.ico" alt="">\r\n        </li>\r\n        <li class="h-flex-box center-items point" ng-click="$ctrl.logout()">\r\n          <img style="margin-right:5px;" ng-src="{{$ctrl.localImg.out}}" alt="">\r\n          <span>退出</span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class="content" ui-view>\r\n      <div style="margin: 20px;font-size: 1.2em" class="error">欢迎使用智宠宝城市智能养犬管理系统控制台</div>\r\n    </div>\r\n  </div>\r\n</div>'},function(e,t){e.exports='<ul class="nav nav-stacked navbar">\r\n  \x3c!-- <li class="nav-brand">统计分析</li> --\x3e\r\n  <li><a ui-sref="layout.statistics.dogReg" ui-sref-active="active">犬只登记统计</a></li>\r\n  <li><a ui-sref="layout.statistics.dogSurvey" ui-sref-active="active">犬只年检统计</a></li>\r\n  <li><a ui-sref="layout.statistics.dogClosed" ui-sref-active="active">犬只注销统计</a></li>\r\n  <li><a ui-sref="layout.statistics.fine" ui-sref-active="active">违章罚款统计</a></li>\r\n</ul>\r\n<div id="scrolling-container" class="content-body" ui-view />'},function(e,t){e.exports='<ul class="nav nav-stacked navbar">\r\n  \x3c!-- <li class="nav-brand">组织管理</li> --\x3e\r\n  <li><a ui-sref="layout.organization.staff" ui-sref-active="active">人员管理</a></li>\r\n  <li><a ui-sref="layout.organization.nodes" ui-sref-active="active">网点管理</a></li>\r\n</ul>\r\n<div id="scrolling-container" class="content-body" ui-view />'},function(e,t,n){var r=n(8),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){n(217);var r=n(8).Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},function(e,t,n){var r=n(25),i=n(69).f;n(71)("getOwnPropertyDescriptor",function(){return function(e,t){return i(r(e),t)}})},function(e,t,n){function r(e,t){return null==e||i(e,t)}var i=n(219);e.exports=r},function(e,t,n){function r(e,t){return t=i(t,e),null==(e=a(e,t))||delete e[s(o(t))]}var i=n(50),o=n(75),a=n(224),s=n(33);e.exports=r},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){var r=n(222),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)}),t});e.exports=a},function(e,t){function n(e){return e}e.exports=n},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function r(e,t){return t.length<2?e:i(e,o(t,0,-1))}var i=n(76),o=n(225);e.exports=r},function(e,t){function n(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}e.exports=n},function(e,t,n){function r(e,t){return(s(e)?i:o)(e,a(t))}var i=n(227),o=n(39),a=n(233),s=n(15);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}e.exports=n},function(e,t,n){function r(e,t){return e&&i(e,t,o)}var i=n(229),o=n(105);e.exports=r},function(e,t,n){var r=n(230),i=r();e.exports=i},function(e,t){function n(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}e.exports=n},function(e,t,n){function r(e,t){return function(n,r){if(null==n)return n;if(!i(n))return e(n,r);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==r(s[a],a,s););return n}}var i=n(51);e.exports=r},function(e,t,n){function r(e){if(!o(e))return!1;var t=i(e);return t==s||t==l||t==a||t==c}var i=n(106),o=n(78),a="[object AsyncFunction]",s="[object Function]",l="[object GeneratorFunction]",c="[object Proxy]";e.exports=r},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function r(e,t,n,r){var d=-1,f=o,p=!0,h=e.length,v=[],g=t.length;if(!h)return v;n&&(t=s(t,l(n))),r?(f=a,p=!1):t.length>=u&&(f=c,p=!1,t=new i(t));e:for(;++d<h;){var m=e[d],b=null==n?m:n(m);if(m=r||0!==m?m:0,p&&b===b){for(var y=g;y--;)if(t[y]===b)continue e;v.push(m)}else f(t,b,r)||v.push(m)}return v}var i=n(79),o=n(108),a=n(109),s=n(40),l=n(80),c=n(81),u=200;e.exports=r},function(e,t,n){function r(e,t,n,a,s){var l=-1,c=e.length;for(n||(n=o),s||(s=[]);++l<c;){var u=e[l];t>0&&n(u)?t>1?r(u,t-1,n,a,s):i(s,u):a||(s[s.length]=u)}return s}var i=n(236),o=n(237);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}e.exports=n},function(e,t,n){function r(e){return a(e)||o(e)||!!(s&&e&&e[s])}var i=n(238),o=n(111),a=n(15),s=i?i.isConcatSpreadable:void 0;e.exports=r},function(e,t,n){var r=n(239),i=r.Symbol;e.exports=i},function(e,t,n){var r=n(240),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(110))},function(e,t,n){function r(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var r=arguments,a=-1,s=o(r.length-t,0),l=Array(s);++a<s;)l[a]=r[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=r[a];return c[t]=n(l),i(e,this,c)}}var i=n(242),o=Math.max;e.exports=r},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function r(e,t){return e&&e.length&&t&&t.length?i(e,t):e}var i=n(245);e.exports=r},function(e,t,n){function r(e,t,n,r){var c=r?a:o,d=-1,f=t.length,p=e;for(e===t&&(t=l(t)),n&&(p=i(e,s(n)));++d<f;)for(var h=0,v=t[d],g=n?n(v):v;(h=c(p,g,h,r))>-1;)p!==e&&u.call(p,h,1),u.call(e,h,1);return e}var i=n(40),o=n(53),a=n(246),s=n(80),l=n(247),c=Array.prototype,u=c.splice;e.exports=r},function(e,t){function n(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}e.exports=n},function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}e.exports=n},function(e,t,n){function r(e,t,n){return null==e?e:i(e,t,n)}var i=n(249);e.exports=r},function(e,t,n){function r(e,t,n,r){if(!s(e))return e;t=o(t,e);for(var c=-1,u=t.length,d=u-1,f=e;null!=f&&++c<u;){var p=l(t[c]),h=n;if(c!=d){var v=f[p];h=r?r(v,p,f):void 0,void 0===h&&(h=s(v)?v:a(t[c+1])?[]:{})}i(f,p,h),f=f[p]}return e}var i=n(250),o=n(50),a=n(118),s=n(78),l=n(33);e.exports=r},function(e,t,n){function r(e,t,n){var r=e[t];s.call(e,t)&&o(r,n)&&(void 0!==n||t in e)||i(e,t,n)}var i=n(116),o=n(117),a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t,n){var r=n(252),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t,n){function r(e){var t=o(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}var i=n(254),o=n(267),a=n(125);e.exports=r},function(e,t,n){function r(e,t,n,r){var l=n.length,c=l,u=!r;if(null==e)return!c;for(e=Object(e);l--;){var d=n[l];if(u&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++l<c;){d=n[l];var f=d[0],p=e[f],h=d[1];if(u&&d[2]){if(void 0===p&&!(f in e))return!1}else{var v=new i;if(r)var g=r(p,h,f,e,t,v);if(!(void 0===g?o(h,p,a|s,r,v):g))return!1}}return!0}var i=n(121),o=n(122),a=1,s=2;e.exports=r},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function r(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}var i=n(55),o=Array.prototype,a=o.splice;e.exports=r},function(e,t,n){function r(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}var i=n(55);e.exports=r},function(e,t,n){function r(e){return i(this.__data__,e)>-1}var i=n(55);e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var i=n(55);e.exports=r},function(e,t,n){function r(e,t,n,r,g,b){var y=c(e),A=c(t),x=y?h:l(e),w=A?h:l(t);x=x==p?v:x,w=w==p?v:w;var k=x==v,$=w==v,_=x==w;if(_&&u(e)){if(!u(t))return!1;y=!0,k=!1}if(_&&!k)return b||(b=new i),y||d(e)?o(e,t,n,r,g,b):a(e,t,x,n,r,g,b);if(!(n&f)){var I=k&&m.call(e,"__wrapped__"),C=$&&m.call(t,"__wrapped__");if(I||C){var S=I?e.value():e,E=C?t.value():t;return b||(b=new i),g(S,E,n,r,b)}}return!!_&&(b||(b=new i),s(e,t,n,r,g,b))}var i=n(121),o=n(261),a=n(262),s=n(263),l=n(123),c=n(15),u=n(265),d=n(266),f=1,p="[object Arguments]",h="[object Array]",v="[object Object]",g=Object.prototype,m=g.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t,n,r,c,u){var d=n&s,f=e.length,p=t.length;if(f!=p&&!(d&&p>f))return!1;var h=u.get(e);if(h&&u.get(t))return h==t;var v=-1,g=!0,m=n&l?new i:void 0;for(u.set(e,t),u.set(t,e);++v<f;){var b=e[v],y=t[v];if(r)var A=d?r(y,b,v,t,e,u):r(b,y,v,e,t,u);if(void 0!==A){if(A)continue;g=!1;break}if(m){if(!o(t,function(e,t){if(!a(m,t)&&(b===e||c(b,e,n,r,u)))return m.push(t)})){g=!1;break}}else if(b!==y&&!c(b,y,n,r,u)){g=!1;break}}return u.delete(e),u.delete(t),g}var i=n(79),o=n(120),a=n(81),s=1,l=2;e.exports=r},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){function r(e,t,n,r,a,l){var c=n&o,u=i(e),d=u.length;if(d!=i(t).length&&!c)return!1;for(var f=d;f--;){var p=u[f];if(!(c?p in t:s.call(t,p)))return!1}var h=l.get(e);if(h&&l.get(t))return h==t;var v=!0;l.set(e,t),l.set(t,e);for(var g=c;++f<d;){p=u[f];var m=e[p],b=t[p];if(r)var y=c?r(b,m,p,t,e,l):r(m,b,p,e,t,l);if(!(void 0===y?m===b||a(m,b,n,r,l):y)){v=!1;break}g||(g="constructor"==p)}if(v&&!g){var A=e.constructor,x=t.constructor;A!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof A&&A instanceof A&&"function"==typeof x&&x instanceof x)&&(v=!1)}return l.delete(e),l.delete(t),v}var i=n(264),o=1,a=Object.prototype,s=a.hasOwnProperty;e.exports=r},function(e,t,n){var r=n(77),i=r(Object.keys,Object);e.exports=i},function(e,t){function n(){return!1}e.exports=n},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){function r(e){for(var t=o(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,i(a)]}return t}var i=n(124),o=n(105);e.exports=r},function(e,t,n){function r(e,t){return s(e)&&l(t)?c(u(e),t):function(n){var r=o(n,e);return void 0===r&&r===t?a(n,e):i(t,r,d|f)}}var i=n(122),o=n(115),a=n(269),s=n(74),l=n(124),c=n(125),u=n(33),d=1,f=2;e.exports=r},function(e,t,n){function r(e,t){return null!=e&&o(e,t,i)}var i=n(270),o=n(271);e.exports=r},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){function r(e,t,n){t=i(t,e);for(var r=-1,u=t.length,d=!1;++r<u;){var f=c(t[r]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++r!=u?d:!!(u=null==e?0:e.length)&&l(u)&&s(f,u)&&(a(e)||o(e))}var i=n(50),o=n(111),a=n(15),s=n(118),l=n(107),c=n(33);e.exports=r},function(e,t,n){function r(e){return a(e)?i(s(e)):o(e)}var i=n(84),o=n(273),a=n(74),s=n(33);e.exports=r},function(e,t,n){function r(e){return function(t){return i(t,e)}}var i=n(76);e.exports=r},function(e,t,n){function r(e,t){var n;return i(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}var i=n(39);e.exports=r},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){function r(e){if(null==e)return 0;if(a(e))return s(e)?l(e):e.length;var t=o(e);return t==c||t==u?e.size:i(e).length}var i=n(277),o=n(123),a=n(51),s=n(278),l=n(279),c="[object Map]",u="[object Set]";e.exports=r},function(e,t,n){var r=n(77),i=r(Object.keys,Object);e.exports=i},function(e,t,n){function r(e){return"string"==typeof e||!o(e)&&a(e)&&i(e)==s}var i=n(106),o=n(15),a=n(82),s="[object String]";e.exports=r},function(e,t,n){function r(e){return o(e)?a(e):i(e)}var i=n(280),o=n(281),a=n(282);e.exports=r},function(e,t,n){var r=n(84),i=r("length");e.exports=i},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){var r=n(84),i=r("length");e.exports=i},function(e,t,n){function r(e,t,n){var r=l(e)?i:s,c=arguments.length<3;return r(e,a(t,4),n,c,o)}var i=n(284),o=n(39),a=n(54),s=n(285),l=n(15);e.exports=r},function(e,t){function n(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}e.exports=n},function(e,t){function n(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}e.exports=n},function(e,t,n){e.exports=n(21)(91)},function(e,t,n){"use strict";(function(e){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=o.prototype):(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return a(this,e,t,n)}function a(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?f(e,t,n,r):"string"==typeof t?u(e,t,n):p(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,n,r){return s(t),t<=0?i(e,t):void 0!==n?"string"==typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}function c(e,t){if(s(t),e=i(e,t<0?0:0|h(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function u(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(t,n);e=i(e,r);var a=e.write(t,n);return a!==r&&(e=e.slice(0,a)),e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=i(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),o.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=o.prototype):e=d(e,t),e}function p(e,t){if(o.isBuffer(t)){var n=0|h(t.length);return e=i(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||J(t.length)?i(e,0):d(e,t);if("Buffer"===t.type&&X(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function h(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function v(e){return+e!=e&&(e=0),o.alloc(+e)}function g(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(r)return Q(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return D(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:A(e,t,n,r,i);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):A(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function A(e,t,n,r,i){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}var c;if(i){var u=-1;for(c=n;c<s;c++)if(o(e,c)===o(t,-1===u?0:c-u)){if(-1===u&&(u=c),c-u+1===l)return u*a}else-1!==u&&(c-=c-u),u=-1}else for(n+l>s&&(n=s-l),c=n;c>=0;c--){for(var d=!0,f=0;f<l;f++)if(o(e,c+f)!==o(t,f)){d=!1;break}if(d)return c}return-1}function x(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return G(Q(t,e.length-n),e,n,r)}function k(e,t,n,r){return G(q(t),e,n,r)}function $(e,t,n,r){return k(e,t,n,r)}function _(e,t,n,r){return G(V(t),e,n,r)}function I(e,t,n,r){return G(H(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?K.fromByteArray(e):K.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var l,c,u,d;switch(s){case 1:o<128&&(a=o);break;case 2:l=e[i+1],128==(192&l)&&(d=(31&o)<<6|63&l)>127&&(a=d);break;case 3:l=e[i+1],c=e[i+2],128==(192&l)&&128==(192&c)&&(d=(15&o)<<12|(63&l)<<6|63&c)>2047&&(d<55296||d>57343)&&(a=d);break;case 4:l=e[i+1],c=e[i+2],u=e[i+3],128==(192&l)&&128==(192&c)&&128==(192&u)&&(d=(15&o)<<18|(63&l)<<12|(63&c)<<6|63&u)>65535&&d<1114112&&(a=d)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return E(r)}function E(e){var t=e.length;if(t<=Z)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Z));return n}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function T(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=z(e[o]);return i}function M(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,n,r,i,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function j(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function N(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function O(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,i){return i||O(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),W.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,i){return i||O(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),W.write(e,t,n,r,52,8),n+8}function L(e){if(e=Y(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function Y(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function z(e){return e<16?"0"+e.toString(16):e.toString(16)}function Q(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function H(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function V(e){return K.toByteArray(L(e))}function G(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function J(e){return e!==e}var K=n(288),W=n(289),X=n(290);t.Buffer=o,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return a(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return l(null,e,t,n)},o.allocUnsafe=function(e){return c(null,e)},o.allocUnsafeSlow=function(e){return c(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!X(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=g,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):m.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,r,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var a=i-r,s=n-t,l=Math.min(a,s),c=this.slice(r,i),u=e.slice(t,n),d=0;d<l;++d)if(c[d]!==u[d]){a=c[d],s=u[d];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return x(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return k(this,e,t,n);case"latin1":case"binary":return $(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=o.prototype;else{var i=t-e;r=new o(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),W.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),W.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),W.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),W.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){B(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){B(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);B(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);B(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=o.isBuffer(e)?e:Q(new o(e,r).toString()),l=s.length;for(a=0;a<n-t;++a)this[a+t]=s[a%l]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(110))},function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function i(e){return 3*e.length/4-r(e)}function o(e){var t,n,i,o,a,s=e.length;o=r(e),a=new d(3*s/4-o),n=o>0?s-4:s;var l=0;for(t=0;t<n;t+=4)i=u[e.charCodeAt(t)]<<18|u[e.charCodeAt(t+1)]<<12|u[e.charCodeAt(t+2)]<<6|u[e.charCodeAt(t+3)],a[l++]=i>>16&255,a[l++]=i>>8&255,a[l++]=255&i;return 2===o?(i=u[e.charCodeAt(t)]<<2|u[e.charCodeAt(t+1)]>>4,a[l++]=255&i):1===o&&(i=u[e.charCodeAt(t)]<<10|u[e.charCodeAt(t+1)]<<4|u[e.charCodeAt(t+2)]>>2,a[l++]=i>>8&255,a[l++]=255&i),a}function a(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function s(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(a(r));return i.join("")}function l(e){for(var t,n=e.length,r=n%3,i="",o=[],a=0,l=n-r;a<l;a+=16383)o.push(s(e,a,a+16383>l?l:a+16383));return 1===r?(t=e[n-1],i+=c[t>>2],i+=c[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=c[t>>10],i+=c[t>>4&63],i+=c[t<<2&63],i+="="),o.push(i),o.join("")}t.byteLength=i,t.toByteArray=o,t.fromByteArray=l;for(var c=[],u=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,h=f.length;p<h;++p)c[p]=f[p],u[f.charCodeAt(p)]=p;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=f,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+d>=1?f/l:f*Math.pow(2,1-d),t*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+p]=255&a,p+=h,a/=256,c-=8);e[n+p-h]|=128*v}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a);n(292),n(293),n(294),n(295),n(296);var l=n(3),c=r(l),u=n(2),d=n(13),f=function(){function e(){(0,o.default)(this,e)}return(0,s.default)(e,[{key:"$onInit",value:function(){this.isSidebarFold=!1,this.displayUser(u.UserInfo.current()),this.localImg={logo:n(297),fold:n(298),arrowd:n(299),msg:n(300),out:n(301)}}},{key:"displayUser",value:function(e){var t=this;this.user=e,this.user&&(u.CommonDicts.setCache(d.ACTIVE_CITY_ID,440300),this.name="，"+this.user.realname,this.user.admin&&(this.name="管理员"+this.name),this.user.superAdmin?this.name="超级"+this.name:this.user.cityId?c.default.get("$q").when(u.CommonDicts.getList("organization.city",null,"post")).then(function(e){var n=e.find(function(e){return e.id==t.user.cityId});return n&&(t.name=n.name+t.name),n}):this.name="大中华区"+this.name)}},{key:"logout",value:function(){u.UserInfo.logout(),c.default.get("$state").reload("login")}},{key:"toggleSidebarStatus",value:function(e){this.isSidebarFold=!this.isSidebarFold}}]),e}();t.default=f,f.$inject=["$scope"]},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){e.exports=n.p+"image/img_logo.f568ac23.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAOCAYAAAAWo42rAAAAAXNSR0IArs4c6QAAALVJREFUKBWNkkEKwjAQRRvRTRWXLtxIV57BVe/hEfQCrr2EV/AagpvSI3gGlyIUZHw/mGLaFB14TDLzZ5IJybKOmdkYcoXxBTzgOerotD3AleQS/1KgZyRLaKCCOazAd2zFBBZwgzuslcC3R3shAQdnkG1DNeuecO8lZqcgko+EbDage9QwGxKmpv7Wxms67UA2fLRKEPw3zEf8+3nCRehcQvLBo2GccxeKjjCBKRikjY7JT/EGBeoEwS1qAhgAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAOCAYAAAAWo42rAAAAAXNSR0IArs4c6QAAALJJREFUKBVj+P///3cg/grEigxAAKS5gJgFxEYGTEicv0AFUkD+ESCuQBKHMIGSMBPlgWw+ID4JxL+A2B5FMVAAphBmtTpQ7C0Q3wZiMbhidIUgCaBYFBCDwAogZgQrBjJQTISZABSfDsQgkE1IIQ9Q0WkgBoWIJbKvYYZhp4GqCVmdhdNqoGbCngEqIhg88kBFOAMc2TP/gW7hBmJWIG5iZGQ8CHYbjACaguIZIB9rogAANr4EwVAeOzgAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAOCAYAAAAi2ky3AAAAAXNSR0IArs4c6QAAAbFJREFUKBWNUz1LA0EQndkLEc7CTkkwYGVnIDk1OUQEQ7QSFGzOs7aw8RdoZWdhYZk2omhhK34EtTFGk0KwsbQR7BSDeCY7zpwcHJqYDBw38/a9x+zuLAKHlXFnQGGeCAypuw1EaKJuntzd7J1iaszNKQP2EfCMAJoAhN0ZIRMpwpqcRr0YUQbZgOrVq9fX7u+PXroz+WElkwv90V7zGsmYUNyJB0SJqGneWePOfLdGadtdEA0fx6ACahixRDLHZh8aoKAQd2KJkXh8YOjq+fnxq5WpZc2Z8aHRLUW4zpoNBWjwHl8UEfFmSdfKuwUCzLPpFEb7LtMZJ/nbSDBZE45wfQ1rxUMJGRmVf7VcrH28eZPc7q1Co5TOLK0ILiG5YCyqCEe4ggfaiBTheHg4fOd6NZ1dvkCF21bWdfx1hGFNsMpdHIT5Qe53FBThf61cPADPs3kczv2Pcx8Lk0L5n45Ca1CtHj5xvRnG2uV+RzJZ7Qid8ECrFL8NvraeToJ264EWU7YzxWZHDJQI6LOdoBXOY9DDozOtGzTvX7u8N0PBrEb898x+m/EQNjTp41plr/QNx5GoNyERf6EAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAAXNSR0IArs4c6QAAAXlJREFUKBVtUL1LQlEUP+e+p2EIIUU0tBskBj4/CRqCKIgGByutf6DF1pocpKmhva0hIwSHGhKipamsS1QIEYIkNfUxSEj6Xvd0r/LiDf6Wc34f5557L0AfBIPJUSOeyfaxgPUTNc/gCACb7+fptmhE1xcBKcqvD3OIFiHolvLC8bVpAkiC+bTNOTe7G0KxjIEa5QRZJfsAu5LZvCMCL+oTO0rrDiDDLUEif1c5vlcikY5yhaZ6zk9b7e9OVvJIMLwSYJOR1BgC+NB8LquAgiXohwS89hhAtVrsEOC5y6UvsQGN+YCwpe5nBx5vCvXm59emzbuVqIEEcYYmeycg73gi5XEEqFY7azs4IIJf5i4Y50cf0ngZFfqqM+DsDSM1hIizpjBPu4/u/FKeMbYRSqQXnEHVT0STw+B2H5Cg0kOlWJfv7SEUSweRsV35PW8CxKVUm7KfAoQZBDq5vSrsqeT/gCKGYbhQ988R4rKkASLaR8ssc15sKF/hDxZcjcH0rLe9AAAAAElFTkSuQmCC"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o,a=n(26),s=r(a),l=n(0),c=r(l),u=n(1),d=r(u),f=n(2),p=n(4),h=n(3),v=r(h),g=n(27),m=r(g);n(303);var b=(i=(0,m.default)(1e3),o=function(){function e(){(0,c.default)(this,e)}return(0,d.default)(e,[{key:"$onInit",value:function(){f.UserInfo.validate(!1),this.app.displayUser(null),this.localImg={logo:n(304)}}},{key:"login",value:function(){var e=this;return this.mobile?this.password?void f.UserInfo.login(this.mobile,this.password).then(function(t){return e.app.displayUser(t),t.admin?v.default.get("$state").go("layout.home"):v.default.get("$state").go("management.register.todo")},function(e){var t=e.msg;return p.kmNoty.clientError(t)}):void p.kmNoty.info("请输入密码!"):void p.kmNoty.info("请输入账号!")}}]),e}(),function(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(o.prototype,"login",[i],(0,s.default)(o.prototype,"login"),o.prototype),o);t.default=b,b.$inject=["$scope"]},function(e,t){},function(e,t,n){e.exports=n.p+"image/img_logo_zcj.aa8fc8dd.png"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a);n(306);var l=n(3),c=r(l),u=n(2),d=function(){function e(){(0,o.default)(this,e),this.user=u.UserInfo.current()}return(0,s.default)(e,[{key:"$onInit",value:function(){this.getCity()}},{key:"getCity",value:function(){var e=this;c.default.get("$q").when(u.CommonDicts.getList("organization.city",null,"post")).then(function(t){e.cityList=t})}}]),e}();t.default=d,d.$inject=["$scope"]},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5),o=r(i),a=n(0),s=r(a),l=n(1),c=r(l),u=n(6),d=r(u),f=n(7),p=r(f),h=n(9),v=r(h),g=n(3),m=r(g),b=n(10),y=r(b),A=n(2),x=n(13);n(20);var w=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return n.scope=e,n.cityId=A.CommonDicts.getCache(x.ACTIVE_CITY_ID).data,n.listUrl="/client/console/pet/list",n.emit=n.scope.$on(x.CHANGE_CITY,function(e,r){n.cityId=r,(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"loadData",n).call(n)}),n}return(0,p.default)(t,e),(0,c.default)(t,[{key:"$onInit",value:function(){var e=this;m.default.get("$q").when(A.CommonDicts.getList("dog.breed",null,"post")).then(function(t){return e.breedDict=t}),m.default.get("$q").when(A.CommonDicts.getList("dog.color",null,"post")).then(function(t){return e.colorDict=t})}},{key:"$onDestroy",value:function(){this.emit&&this.emit()}}]),t}(y.default);t.default=w,w.$inject=["$scope"]},function(e,t,n){n(309),e.exports=n(8).Object.getPrototypeOf},function(e,t,n){var r=n(38),i=n(100);n(71)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){e.exports={default:n(311),__esModule:!0}},function(e,t,n){n(312),e.exports=n(8).Object.setPrototypeOf},function(e,t,n){var r=n(16);r(r.S,"Object",{setPrototypeOf:n(313).set})},function(e,t,n){var r=n(23),i=n(17),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(29)(Function.call,n(69).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){n(315);var r=n(8).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(16);r(r.S,"Object",{create:n(61)})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(3),c=r(l),u=n(2),d=function(){function e(){(0,o.default)(this,e)}return(0,s.default)(e,[{key:"$onInit",value:function(){var e=this;this.asList=!1,this.qList=!1,c.default.get("$q").when(u.CommonDicts.getList("dog.breed",null,"post")).then(function(t){e.breedDict=t}),c.default.get("$q").when(u.CommonDicts.getList("dog.color",null,"post")).then(function(t){return e.colorDict=t})}},{key:"getKeeper",value:function(){var e=this;return u.Request.post("/client/console/pet_owner/info",null,{petOwnerId:this.pet.petOwnerId}).then(function(t){return e.keeper=t})}},{key:"getAsList",value:function(){var e=this;return u.Request.post("/client/console/annual_survey/list",null,{petId:this.pet.petId}).then(function(t){if(!t||!t.length)return e.asList=0;e.asList=t})}},{key:"getQList",value:function(){var e=this;return u.Request.post("/client/console/pet_quarantine/list",null,{petId:this.pet.petId}).then(function(t){if(!t||!t.length)return e.qList=0;e.qList=t})}},{key:"back",value:function(){c.default.get("$window").history.back()}}]),e}();t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5),o=r(i),a=n(0),s=r(a),l=n(1),c=r(l),u=n(6),d=r(u),f=n(7),p=r(f),h=n(9),v=r(h),g=n(10),m=r(g),b=n(2),y=n(13);n(20);var A=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return n.scope=e,n.cityId=b.CommonDicts.getCache(y.ACTIVE_CITY_ID).data,n.listUrl="/client/console/pet_owner/list",n.setTransform("$name",{key:"phone"}),n.emit=n.scope.$on(y.CHANGE_CITY,function(e,r){n.cityId=r,(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"loadData",n).call(n)}),n}return(0,p.default)(t,e),(0,c.default)(t,[{key:"$onDestroy",value:function(){this.emit&&this.emit()}}]),t}(m.default);t.default=A,A.$inject=["$scope"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(128),o=r(i),a=n(0),s=r(a),l=n(1),c=r(l),u=n(3),d=r(u),f=n(2),p=function(){function e(){(0,s.default)(this,e)}return(0,c.default)(e,[{key:"$onInit",value:function(){var e=this;d.default.get("$q").all([f.Request.post("/client/console/pet_owner/pet_id_list",null,{petOwnerId:this.keeper.userId}),f.CommonDicts.getList("dog.breed",null,"post"),f.CommonDicts.getList("dog.color",null,"post")]).then(function(t){var n=(0,o.default)(t,3),r=n[0],i=n[1],a=n[2];e.dogs=r,e.breedDict=i,e.colorDict=a})}},{key:"getDog",value:function(e){var t=this;return f.Request.post("/client/console/pet/info",null,{petId:this.dogs[e]}).then(function(e){return e.breed=t.getDictValue(e.breed,t.breedDict),e.color=t.getDictValue(e.color,t.colorDict),e})}},{key:"back",value:function(){d.default.get("$window").history.back()}},{key:"getDictValue",value:function(e,t){var n=t.find(function(t){return t.code==e});return n?n.value:"未知"}}]),e}();t.default=p},function(e,t,n){e.exports={default:n(320),__esModule:!0}},function(e,t,n){n(46),n(34),e.exports=n(321)},function(e,t,n){var r=n(85),i=n(12)("iterator"),o=n(31);e.exports=n(8).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(r(t))}},function(e,t,n){e.exports={default:n(323),__esModule:!0}},function(e,t,n){n(46),n(34),e.exports=n(324)},function(e,t,n){var r=n(17),i=n(86);e.exports=n(8).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o,a=n(26),s=r(a),l=n(5),c=r(l),u=n(0),d=r(u),f=n(1),p=r(f),h=n(6),v=r(h),g=n(7),m=r(g),b=n(3),y=r(b),A=n(10),x=r(A),w=n(2),k=n(11),$=r(k),_=n(27),I=r(_),C=(i=(0,I.default)(2e3),o=function(e){function t(e){var n;return(0,d.default)(this,t),n=(0,v.default)(this,(t.__proto__||(0,c.default)(t)).call(this,e,function(){var e="/client/console/fine_record/",t=y.default.get("$state");t.includes("enforcement.keeperFines.*")>0?(e+="pet_owner",n.extCondition.petOwnerId=t.params.id,y.default.get("$q").when(w.CommonDicts.getList("dog.breed",null,"post")).then(function(e){return n.breedDict=e})):(e+="pet",n.extCondition.petId=t.params.id),t.includes("enforcement.*.todo")>0&&(e+="_not"),e+="_done_list",n.listUrl=e,y.default.get("$q").when(w.CommonDicts.getList("enforcement.violation",null,"post")).then(function(e){return n.violationDict=e})}))}return(0,m.default)(t,e),(0,p.default)(t,[{key:"viewDetail",value:function(e){var t=this;w.Request.post("/client/console/fine_record/info",null,{id:e.id}).then(function(e){var r=t.violationDict;$.default.openTemplate({width:540},n(330),function(){this.violationDict=r,this.detail=e})})}},{key:"back",value:function(){y.default.get("$window").history.back()}}]),t}(x.default),function(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(o.prototype,"viewDetail",[i],(0,s.default)(o.prototype,"viewDetail"),o.prototype),o);t.default=C,C.$inject=["$scope"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=function(){function e(t,n){if((0,o.default)(this,e),this.$scope=t,this.options=n,n.dimensions){var r=n.dimensions.split("*");this.ratio=(r[0]/r[1]).toFixed(2)}else this.ratio=0}return(0,s.default)(e,[{key:"validate",value:function(e){var t=this;if(this.ratio){var n=new Image;n.onload=function(){t.image.width=n.naturalWidth,t.image.height=n.naturalHeight;var e=(n.naturalWidth/n.naturalHeight).toFixed(2);Math.abs(t.ratio-e)>=.01&&(t.image.error="*宽高比与建议值不一致将会影响显示效果*")},n.src=e}}},{key:"close",value:function(){if(this.image.loaded)return void this.$scope.closeThisDialog(this.image);this.$scope.closeThisDialog("cancel")}}]),e}();t.default=l,l.$inject=["$scope","options"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=function(){function e(t,n){(0,o.default)(this,e),this.$scope=t,this.options=n}return(0,s.default)(e,[{key:"cancel",value:function(){this.$scope.closeThisDialog("cancel")}},{key:"confirm",value:function(){this.$scope.closeThisDialog("ok")}}]),e}();t.default=l,l.$inject=["$scope","options"]},function(e,t){e.exports='<form style="margin: 10px;" class="form-file">\r\n  <p>建议图片尺寸{{$ctrl.options.dimensions}}，大小在{{$ctrl.options.maxSize}}KB以内</p>\r\n  <label class="btn btn-link btn-file">选择图片\r\n    <input type="file" accept="image/*" max-size="$ctrl.options.maxSize" km-file="$ctrl.image" km-get-file="$ctrl.validate(dataURL)" />\r\n  </label>\r\n  <button class="btn btn-link" ng-if="$ctrl.image.loaded" ng-click="$ctrl.close()">确定</button>\r\n  <div class="error" ng-if="$ctrl.image.error" ng-bind="$ctrl.image.error"></div>\r\n  <div ng-if="$ctrl.image.loaded" class="h-flex-box">\r\n    <img ng-src="{{$ctrl.image.dataURL}}" />\r\n    <div class="v-flex-box justify-between">\r\n      <span>{{\'类型：\' + $ctrl.image.type.substr(6)}}</span>\r\n      <span>{{\'尺寸：\' + $ctrl.image.width + \'*\' + $ctrl.image.height}}</span>\r\n      <span>{{\'大小：\' + ($ctrl.image.size/1024).toFixed(2) + \'KB\'}}</span>\r\n    </div>\r\n  </div>\r\n</form>'},function(e,t){e.exports='<div class="km-form-dialog">\r\n  <p class="confirm-info fa fa-info-circle" ng-bind="$ctrl.options.info"></p>\r\n  <div class="h-flex-box justify-between form-bottom-btns">\r\n    <a class="btn btn-default" ng-click="$ctrl.cancel()">取消</a>\r\n    <a class="btn btn-primary" ng-click="$ctrl.confirm()">确定</a>\r\n  </div>\r\n</div>'},function(e,t){e.exports='<div class="fine-detail-form km-form km-form-dialog">\r\n  <h2 class="form-title">违规详情</h2>\r\n  <div class="h-flex-box justify-equal">\r\n    <div class="form-group h-flex-box">\r\n      <label>处罚对象：</label>\r\n      <span ng-bind="$ctrl.detail.realname"></span>\r\n    </div>\r\n    <div ng-if="$ctrl.detail.petNo" class="form-group h-flex-box">\r\n      <label>犬只：</label>\r\n      <span ng-bind="$ctrl.detail.petNo"></span>\r\n    </div>\r\n    <div ng-if="$ctrl.detail.violationTypeId" class="form-group h-flex-box">\r\n      <label>类型：</label>\r\n      <span ng-bind="$ctrl.detail.violationTypeId|_code2Value:$ctrl.violationDict"></span>\r\n    </div>\r\n  </div>\r\n  <div class="h-flex-box justify-equal">\r\n    <div class="form-group h-flex-box">\r\n      <label>执法人员：</label>\r\n      <span ng-bind="$ctrl.detail.operator"></span>\r\n    </div>\r\n    <div class="form-group h-flex-box">\r\n      <label>扣分：</label>\r\n      <span ng-bind="$ctrl.detail.credit"></span>\r\n    </div>\r\n    <div class="form-group h-flex-box">\r\n      <label>罚款：</label>\r\n      <span ng-bind="$ctrl.detail.fine"></span>\r\n    </div>\r\n  </div>\r\n  <div ng-if="$ctrl.detail.content" class="form-group h-flex-box">\r\n    <label>违规描述：</label>\r\n    <span ng-bind="$ctrl.detail.content"></span>\r\n  </div>\r\n  <div ng-if="$ctrl.detail.addressDetail" class="form-group h-flex-box">\r\n    <label>违规地点：</label>\r\n    <span ng-bind="$ctrl.detail.addressDetail"></span>\r\n  </div>\r\n  <div ng-if="$ctrl.detail.pictures.length" class="h-flex-box">\r\n    <img ng-repeat="picture in $ctrl.detail.pictures track by $index" ng-src="{{picture|_img}}" />\r\n  </div>\r\n</div>'},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5),o=r(i),a=n(0),s=r(a),l=n(1),c=r(l),u=n(6),d=r(u),f=n(7),p=r(f),h=n(9),v=r(h),g=n(3),m=r(g),b=n(10),y=r(b),A=n(4),x=n(2),w=(n(129),n(11)),k=r(w),$=n(130),_=r($),I=n(13);n(20);var C=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,function(){n.cityId=x.CommonDicts.getCache(I.ACTIVE_CITY_ID).data,n.setUrl()}));return n.scope=e,n.emit=n.scope.$on(I.CHANGE_CITY,function(e,r){n.cityId=r,(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"loadData",n).call(n)}),n}return(0,p.default)(t,e),(0,c.default)(t,[{key:"$onInit",value:function(){var e=this;(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"$onInit",this).call(this),m.default.get("$q").when(x.CommonDicts.getList("dog.breed",null,"post")).then(function(t){return e.breedDict=t})}},{key:"$onDestroy",value:function(){this.emit&&this.emit()}},{key:"setUrl",value:function(){var e=m.default.get("$state");e.is("layout.management.register.todo")?(this.status=1,this.listUrl="/client/console/pet_register/check_pending_list"):e.is("layout.management.register.rejected")?(this.status=2,this.listUrl="/client/console/pet_register/reject_list"):e.is("layout.management.register.passed")&&(this.extCondition.status=this.status=7,this.listUrl="/client/console/pet_register/checked_pass_list")}},{key:"viewDetail",value:function(e){var r=this;k.default.openTemplate({width:800,register:e,status:this.status},n(131),_.default).closePromise.then(function(e){"ok"===e.value&&(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"removeItems",r).call(r,1)})}},{key:"pass",value:function(e){var n=this,r=void 0,i=void 0;if(e)r=[e.petId],i="确定通过犬主【"+e.realname+"】的养犬申请？";else{if(!this.someSelected)return;r=this.data.filter(function(e){return e.selected}).map(function(e){return e.petId}),i="确定通过所选的"+r.length+"位犬主的养犬申请？"}k.default.openConfirm({info:i}).closePromise.then(function(e){"ok"===e.value&&x.Request.post("/client/console/pet_register/pass",null,{list:r}).then(function(){A.kmNoty.info("已通过审核"),(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"removeItems",n).call(n,r.length)},function(e){var t=e.msg;return A.kmNoty.serverError(t||"通过失败，稍后请重试。")})})}}]),t}(y.default);t.default=C,C.$inject=["$scope"]},function(e,t,n){e.exports=n.p+"image/ic_wram.70151d2e.png"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5),o=r(i),a=n(0),s=r(a),l=n(1),c=r(l),u=n(6),d=r(u),f=n(7),p=r(f),h=n(9),v=r(h),g=n(3),m=r(g),b=n(10),y=r(b),A=n(2),x=n(11),w=r(x),k=n(130),$=r(k),_=(n(4),n(13));n(20);var I=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,function(){n.cityId=A.CommonDicts.getCache(_.ACTIVE_CITY_ID).data;var e=m.default.get("$state");e.is("layout.management.regResult.todo")?(n.extCondition.status=15,n.listUrl="/client/console/pet_register_result/checked_pass_list"):e.is("layout.management.regResult.rejected")&&(n.extCondition.status=11,n.listUrl="/client/console/pet_register_result/reject_list")}));return n.scope=e,n.emit=n.scope.$on(_.CHANGE_CITY,function(e,r){n.cityId=r,(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"loadData",n).call(n)}),n}return(0,p.default)(t,e),(0,c.default)(t,[{key:"$onInit",value:function(){var e=this;(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"$onInit",this).call(this),m.default.get("$q").when(A.CommonDicts.getList("dog.breed",null,"post")).then(function(t){return e.breedDict=t})}},{key:"$onDestroy",value:function(){this.emit&&this.emit()}},{key:"viewDetail",value:function(e){var t=this;if(!e.quarantineNo)return void w.default.openConfirm({info:"需犬主提供犬只免疫登记证，录入免疫证、免疫记录功能待完善！！！"}).closePromise.then(function(n){"ok"===n.value&&t.bindDevice(e)});this.bindDevice(e)}},{key:"bindDevice",value:function(e){var r=this;w.default.openTemplate({width:800,register:e,status:this.extCondition.status},n(131),$.default).closePromise.then(function(e){"ok"===e.value&&(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"removeItems",r).call(r,1)})}}]),t}(y.default);t.default=I,I.$inject=["$scope"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5),o=r(i),a=n(0),s=r(a),l=n(1),c=r(l),u=n(6),d=r(u),f=n(7),p=r(f),h=n(9),v=r(h),g=n(3),m=r(g),b=n(10),y=r(b),A=n(2),x=n(11),w=r(x),k=n(335),$=r(k),_=n(13);n(132);var I=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return n.scope=e,n.cityId=A.CommonDicts.getCache(_.ACTIVE_CITY_ID).data,n.listUrl="/client/console/annual_survey_appoint/list",n.setTransform("$name",{key:"phone"}),n.emit=n.scope.$on(_.CHANGE_CITY,function(e,r){n.cityId=r,(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"loadData",n).call(n)}),n}return(0,p.default)(t,e),(0,c.default)(t,[{key:"$onInit",value:function(){var e=this;m.default.get("$q").when(A.CommonDicts.getList("dog.breed",null,"post")).then(function(t){return e.breedDict=t}),m.default.get("$q").when(A.CommonDicts.getList("dog.color",null,"post")).then(function(t){return e.colorDict=t})}},{key:"$onDestroy",value:function(){this.emit&&this.emit()}},{key:"viewDetail",value:function(e){var r=this;w.default.openTemplate({width:600,record:e},n(336),$.default).closePromise.then(function(e){"ok"==e.value&&(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"removeItems",r).call(r,1)})}}]),t}(y.default);t.default=I,I.$inject=["$scope"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o,a=n(26),s=r(a),l=n(0),c=r(l),u=n(1),d=r(u),f=n(3),p=r(f),h=n(2),v=n(4),g=n(11),m=r(g),b=n(27),y=r(b),A=(i=(0,y.default)(1e3),o=function(){function e(t,n){var r=this;(0,c.default)(this,e),this.record=n.record,this.currentItem=0,this.getStatus(),h.Request.post("/client/console/pet/info",null,{petId:n.record.petId}).then(function(e){return r.pet=e}),p.default.get("$q").when(h.CommonDicts.getList("dog.color",null,"post")).then(function(e){return r.colorDict=e})}return(0,d.default)(e,[{key:"getStatus",value:function(){this.bodyOk=1==(1&this.record.status),this.photoOk=2==(2&this.record.status),this.quarantineOk=4==(4&this.record.status),this.chipOk=8==(8&this.record.status)}},{key:"switchItem",value:function(e){this.currentItem=e}},{key:"getQuarantine",value:function(){var e=this;return h.Request.post("/client/console/pet_quarantine/list",null,{petId:this.pet.petId}).then(function(t){return t?(e.qList=t.map(function(e){return e.quarantineTime}),t.length):(e.qList=[],0)})}},{key:"addQuarantine",value:function(){var e=this;if(this.dateTime){var t=this.dateTime.getTime();return t>=(new Date).getTime()?void v.kmNoty.info("免疫日期不能晚于当天"):this.qList.indexOf(t)>-1?void m.default.openConfirm({info:"已存在相同日期的记录，仍然添加？"}).closePromise.then(function(n){"ok"==n.value&&e.addQ(t)}):void this.addQ(t)}}},{key:"addQ",value:function(e){var t=this;h.Request.post("/client/console/annual_survey_appoint/add_quarantine",null,{petId:this.pet.petId,quarantineTime:this.dateTime}).then(function(n){v.kmNoty.info("录入成功"),console.log(t.qList),t.qList.push(e),t.dateTime=null})}},{key:"save",value:function(e){var t={petId:e.petId,color:e.color,weight:e.weight,bodyHeight:e.bodyHeight,bodyLength:e.bodyLength};h.Request.post("/client/console/annual_survey_appoint/update_pet_info",null,t).then(function(e){v.kmNoty.info("保存成功")})}},{key:"pass",value:function(){var e=this;h.Request.post("/client/console/annual_survey_appoint/pass",null,{id:this.record.id,petId:this.pet.petId,bit:this.currentItem}).then(function(t){e.record.status=t,e.getStatus(),15!=e.record.status?v.kmNoty.info("还有年检项目尚未通过"):(e.$scope.closeThisDialog("ok"),v.kmNoty.info("已通过所有年检项目"))})}}]),e}(),function(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(o.prototype,"save",[i],(0,s.default)(o.prototype,"save"),o.prototype),o);t.default=A,A.$inject=["$scope","options"]},function(e,t){e.exports='<div class="km-slider as-check-items" km-slide-mode="tab" km-tab-container-class="h-flex-box page-tabs" km-tab-class="tab" on-tab-changed="$ctrl.switchItem($tab)">\r\n  <div class="km-slide pet-info" km-title="体检">\r\n    <form class="km-form">\r\n      <fieldset>\r\n        <h3 class="h-flex-box center-items">体征信息<button type="button" class="btn btn-primary btn-xs" ng-click="$ctrl.save($ctrl.pet)">保存</button></h3>\r\n        <div class="form-group h-flex-box">\r\n          <label>身高(cm)：</label>\r\n          <input type="text" class="form-control" ng-model="$ctrl.pet.bodyHeight" />\r\n        </div>\r\n        <div class="form-group h-flex-box">\r\n          <label>身长(cm)：</label>\r\n          <input type="text" class="form-control" ng-model="$ctrl.pet.bodyLength" />\r\n        </div>\r\n        <div class="form-group h-flex-box">\r\n          <label>体重(kg)：</label>\r\n          <input type="text" class="form-control" ng-model="$ctrl.pet.weight" />\r\n        </div>\r\n        <div class="form-group h-flex-box">\r\n          <label>毛色：</label>\r\n          <select class="form-control" ng-model="$ctrl.pet.color" ng-options="x.code as x.value for x in $ctrl.colorDict"></select>\r\n        </div>\r\n      </fieldset>\r\n    </form>\r\n  </div>\r\n  <div class="km-slide photo-tabpage" km-title="照片">\r\n    <div class="v-flex-box justify-between">\r\n      <div class="h-flex-box justify-around">\r\n        <img ng-src="{{$ctrl.pet.photoFront|_img}}" />\r\n      </div>\r\n      <div class="h-flex-box justify-around pet-flank">\r\n        <img ng-src="{{$ctrl.pet.photoLeft|_img}}" />\r\n        <img ng-src="{{$ctrl.pet.photoRight|_img}}" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="km-slide quarantine-tabpage" km-title="免疫" on-initiate="$ctrl.getQuarantine()">\r\n    <div class="h-flex-box center-items tabpage-header">\r\n      <div ng-if="!$ctrl.qList.length" class="inline-title no-data">系统未找到犬只的免疫记录。</div>\r\n      <div ng-if="$ctrl.qList.length" class="inline-title">犬只免疫记录：</div>\r\n      <div class="h-flex-box center-items align-right">\r\n        <div class="inline-title">添加记录</div>\r\n        <div km-date-picker input-format="YYYY-MM-DD" date-placeholder="请选择免疫日期" min-view="day" date-time="$ctrl.dateTime"></div>\r\n        <button type="button" class="btn btn-sm btn-primary" ng-click="$ctrl.addQuarantine()">录入</button>\r\n      </div>\r\n    </div>\r\n    <div class="h-flex-box q-date-list">\r\n      <label class="label label-info" ng-repeat="quarantineTime in $ctrl.qList track by $index"><i class="fa fa-calendar"></i>{{quarantineTime|kmDate}}</label>\r\n    </div>\r\n  </div>\r\n  <div class="km-slide chip-tabpage" km-title="芯片">\r\n    <p ng-if="$ctrl.pet.chipNo">请检测犬只的芯片，并核实是否一致：{{$ctrl.pet.chipNo}}</p>\r\n    <p ng-if="!$ctrl.pet.chipNo">系统未登记该犬只的芯片号</p>\r\n  </div>\r\n</div>\r\n<div class="register-check as-check h-flex-box center-items">\r\n  <div class="as-item">体检<i class="fa" ng-class="{\'fa-check-circle\':$ctrl.bodyOk,\'fa-exclamation-circle\':!$ctrl.bodyOk}"></i></div>\r\n  <div class="as-item">照片<i class="fa" ng-class="{\'fa-check-circle\':$ctrl.photoOk,\'fa-exclamation-circle\':!$ctrl.photoOk}"></i></div>\r\n  <div class="as-item">免疫<i class="fa" ng-class="{\'fa-check-circle\':$ctrl.quarantineOk,\'fa-exclamation-circle\':!$ctrl.quarantineOk}"></i></div>\r\n  <div class="as-item">芯片<i class="fa" ng-class="{\'fa-check-circle\':$ctrl.chipOk,\'fa-exclamation-circle\':!$ctrl.chipOk}"></i></div>\r\n  <button type="button" class="btn btn-primary" ng-click="$ctrl.pass()">通过年检</button>\r\n</div>'},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5),o=r(i),a=n(0),s=r(a),l=n(1),c=r(l),u=n(6),d=r(u),f=n(7),p=r(f),h=n(9),v=r(h),g=n(3),m=r(g),b=n(10),y=r(b),A=n(4),x=n(2),w=n(11),k=r(w),$=n(87),_=r($),I=n(13);n(132);var C=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,function(){n.cityId=x.CommonDicts.getCache(I.ACTIVE_CITY_ID).data;var e=m.default.get("$state");e.is("layout.enforcement.asList.todo")?(n.listUrl="/client/console/wait_annual_survey/remind_list",n.isTodo=!0):e.is("layout.enforcement.asList.overdue")&&(n.listUrl="/client/console/wait_annual_survey/overdue_list")}));return n.scope=e,n.emit=n.scope.$on(I.CHANGE_CITY,function(e,r){n.cityId=r,(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"loadData",n).call(n)}),n}return(0,p.default)(t,e),(0,c.default)(t,[{key:"$onInit",value:function(){var e=this;(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"$onInit",this).call(this),m.default.get("$q").when(x.CommonDicts.getList("dog.breed",null,"post")).then(function(t){return e.breedDict=t})}},{key:"$onDestroy",value:function(){this.emit&&this.emit()}},{key:"warn",value:function(e){var t=this,r=void 0,i=void 0;if(e)r=[e.petId],i=e;else{if(!this.someSelected)return;i=this.data.filter(function(e){return e.selected}),r=i.map(function(e){return e.petId})}k.default.openTemplate({keeper:i,list:r,warnApi:"/client/console/wait_annual_survey/warn",type:"年检逾期",width:480},n(88),_.default).closePromise.then(function(e){"ok"===e.value&&(t.currentPage=-1)})}},{key:"viewDetail",value:function(e){x.Request.post("/client/console/annual_survey/list",null,{petId:e.petId}).then(function(t){0==t.length?A.kmNoty.info("权证号为"+e.petNo+"的年检信息为空"):k.default.openTemplate({width:500},n(133),function(){this.title="asList",this.detail=t})})}},{key:"notify",value:function(e){var n=this,r=void 0,i=void 0;if(e)r=[e.petId],i="确定给犬主【"+e.realname+"】发送犬只年检通知？";else{if(!this.someSelected)return;r=this.data.filter(function(e){return e.selected}).map(function(e){return e.petId}),i="确定给所选的"+r.length+"位犬主发送犬只年检通知？"}k.default.openConfirm({info:i}).closePromise.then(function(e){"ok"===e.value&&x.Request.post("/client/console/wait_annual_survey/notice",null,{list:r}).then(function(){A.kmNoty.info("已发送犬只年检通知"),(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"removeItems",n).call(n,r.length)},function(e){return e.msg,A.kmNoty.serverError(mgs||"发送犬只年检通知失败，稍后请重试。")})})}}]),t}(y.default);t.default=C,C.$inject=["$scope"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5),o=r(i),a=n(0),s=r(a),l=n(1),c=r(l),u=n(6),d=r(u),f=n(7),p=r(f),h=n(9),v=r(h),g=n(3),m=r(g),b=n(10),y=r(b),A=n(4),x=n(2),w=n(11),k=r(w),$=n(87),_=r($),I=n(13);n(20);var C=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,function(){n.cityId=x.CommonDicts.getCache(I.ACTIVE_CITY_ID).data;var e=m.default.get("$state");e.is("layout.enforcement.qList.todo")?(n.listUrl="/client/console/pet_wait_quarantine/remind_list",n.isTodo=!0):e.is("layout.enforcement.qList.overdue")&&(n.listUrl="/client/console/pet_wait_quarantine/overdue_list")}));return n.scope=e,n.emit=n.scope.$on(I.CHANGE_CITY,function(e,r){n.cityId=r,(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"loadData",n).call(n)}),n}return(0,p.default)(t,e),(0,c.default)(t,[{key:"$onInit",value:function(){var e=this;(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"$onInit",this).call(this),m.default.get("$q").when(x.CommonDicts.getList("dog.breed",null,"post")).then(function(t){return e.breedDict=t})}},{key:"$onDestroy",value:function(){this.emit&&this.emit()}},{key:"warn",value:function(e){var t=this,r=void 0,i=void 0;if(e)r=[e.petId],i=e;else{if(!this.someSelected)return;i=this.data.filter(function(e){return e.selected}),r=i.map(function(e){return e.petId})}k.default.openTemplate({keeper:i,list:r,warnApi:"/client/console/pet_wait_quarantine/warn",type:"免疫逾期",width:480},n(88),_.default).closePromise.then(function(e){"ok"===e.value&&(t.currentPage=-1)})}},{key:"viewDetail",value:function(e){x.Request.post("/client/console/pet_quarantine/list",null,{petId:e.petId}).then(function(t){0==t.length?A.kmNoty.info("权证号为"+e.petNo+"的免疫信息为空"):k.default.openTemplate({width:500},n(133),function(){this.title="qList",this.detail=t})})}},{key:"notify",value:function(e){var n=this,r=void 0,i=void 0;if(e)r=[e.petId],i="确定给犬主【"+e.realname+"】发送犬只免疫通知？";else{if(!this.someSelected)return;r=this.data.filter(function(e){return e.selected}).map(function(e){return e.petId}),i="确定给所选的"+r.length+"位犬主发送犬只免疫通知？"}k.default.openConfirm({info:i}).closePromise.then(function(e){"ok"===e.value&&x.Request.post("/client/console/pet_wait_quarantine/notice",null,{list:r}).then(function(){A.kmNoty.info("已发送犬只免疫通知"),(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"removeItems",n).call(n,r.length)},function(e){var t=e.msg;return A.kmNoty.serverError(t||"发送犬只免疫通知失败，稍后请重试。")})})}}]),t}(y.default);t.default=C,C.$inject=["$scope"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5),o=r(i),a=n(0),s=r(a),l=n(1),c=r(l),u=n(6),d=r(u),f=n(7),p=r(f),h=n(9),v=r(h),g=n(10),m=r(g),b=n(11),y=r(b),A=n(340),x=r(A),w=n(134),k=r(w),$=n(13),_=n(2);n(20);var I=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return n.listUrl="/client/console/pet_owner_class/list",n.scope=e,n.emit=n.scope.$on($.CHANGE_CITY,function(e,r){n.cityId=r,(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"loadData",n).call(n)}),n}return(0,p.default)(t,e),(0,c.default)(t,[{key:"$onDestroy",value:function(){this.emit&&this.emit()}},{key:"loadData",value:function(){var e=this;return(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"loadData",this).call(this).then(function(t){if(!e.data)return t;var n=(new Date).getTime();return e.data.forEach(function(e){e.passCount>0&&(e.passRatio=100*(e.passCount/e.studentCount).toFixed(4)+"%"),n<e.startTime?(e.status="未开始",e.className="class-unstarted fa-pause-circle-o"):n<e.endTime?(e.status="已开始",e.className="class-started fa-play-circle-o"):(e.status="已结束",e.className="class-ended fa-stop-circle-o")}),t})}},{key:"viewDetail",value:function(e){_.Request.post("/client/console/pet_owner_class/pet_owner_list",null,{classNo:e.classNo}).then(function(t){y.default.openTemplate({width:925,detail:t,classInfo:e},n(135),k.default)})}},{key:"addClass",value:function(){var e=this;y.default.openTemplate(null,n(341),x.default).closePromise.then(function(t){"ok"===t.value&&(e.currentPage=-1)})}}]),t}(m.default);t.default=I,I.$inject=["$scope"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(2),c=n(4),u=n(32),d=r(u),f=function(){function e(t){var n=this;(0,o.default)(this,e),this.$scope=t,this.studyClass={addressId:0},this.minTime=(0,d.default)().startOf("day").add(1,"days"),l.Request.post("/common/area/get_next_level_list",null,{id:"440300"}).then(function(e){e.unshift({id:0,name:"请选择"}),n.districts=e})}return(0,s.default)(e,[{key:"onStartChanged",value:function(e){var t="学习班-"+(0,d.default)(e).format("YYYYMMDD");this.studyClass.name&&this.studyClass.name!=this.autoName||(this.studyClass.name=t),this.autoName=t}},{key:"ok",value:function(){var e=this;return this.studyClass.startTime?this.studyClass.endTime?this.studyClass.name?+this.studyClass.number?this.studyClass.addressId?this.studyClass.addressDetail?void l.Request.post("/client/console/pet_owner_class/add",null,this.studyClass).then(function(){e.$scope.closeThisDialog("ok"),c.kmNoty.success("添加班级成功")},function(e){var t=e.msg;return c.kmNoty.serverError(t||"添加班级失败，请重试！")}):void c.kmNoty.info("详细地址不能为空"):void c.kmNoty.info("学习地址不能为空"):void c.kmNoty.info("必须指定学员名额"):void c.kmNoty.info("必须指定班级名称"):void c.kmNoty.info("必须选定结束日期"):void c.kmNoty.info("必须选定开始日期")}},{key:"close",value:function(){this.$scope.closeThisDialog("cancel")}}]),e}();t.default=f,f.$inject=["$scope"]},function(e,t){e.exports='<form class="add-class-form km-form km-form-dialog">\r\n  <h2 class="form-title">添加学习班</h2>\r\n  <div km-dt-range-picker input-format="YYYY-MM-DD" label="学习时间" between-label="到" start-placeholder="开始日期" end-placeholder="结束日期"\r\n    min-view="day" start-time="$ctrl.studyClass.startTime" end-time="$ctrl.studyClass.endTime" min-time="$ctrl.minTime" on-set-start="$ctrl.onStartChanged($date)"></div>\r\n  <div class="form-group h-flex-box">\r\n    <label>班级名称</label>\r\n    <input type="text" class="form-control" ng-model="$ctrl.studyClass.name" />\r\n  </div>\r\n  <div class="form-group h-flex-box">\r\n    <label>学员名额</label>\r\n    <input type="text" class="form-control" ng-model="$ctrl.studyClass.number" />\r\n  </div>\r\n  <div class="form-group h-flex-box">\r\n    <label>学习地址</label>\r\n    <select class="form-control address" ng-model="$ctrl.studyClass.addressId" ng-options="x.id as x.name for x in $ctrl.districts"></select>\r\n    <input type="text" class="form-control" ng-model="$ctrl.studyClass.addressDetail" placeholder="请输入详细地址" />\r\n  </div>\r\n  <div class="h-flex-box justify-between warn-form-btns">\r\n    <a class="btn btn-default" ng-click="$ctrl.close()">取消</a>\r\n    <a class="btn btn-primary" ng-click="$ctrl.ok()">添加</a>\r\n  </div>\r\n</form>'},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5),o=r(i),a=n(0),s=r(a),l=n(1),c=r(l),u=n(6),d=r(u),f=n(7),p=r(f),h=n(9),v=r(h),g=n(3),m=r(g),b=n(10),y=r(b),A=n(11),x=r(A),w=n(2),k=n(4),$=n(13);n(20);var _=n(87),I=r(_),C=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,function(){n.cityId=w.CommonDicts.getCache($.ACTIVE_CITY_ID).data;var e=m.default.get("$state");e.is("layout.enforcement.study.todo")?(n.isTodo=!0,n.listUrl="/client/console/pet_owner_wait_study/list"):e.is("layout.enforcement.study.overdue")&&(n.listUrl="/client/console/pet_owner_wait_study/overdue_list")}));return n.scope=e,n.emit=n.scope.$on($.CHANGE_CITY,function(e,r){n.cityId=r,(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"loadData",n).call(n)}),n}return(0,p.default)(t,e),(0,c.default)(t,[{key:"$onDestroy",value:function(){this.emit&&this.emit()}},{key:"warn",value:function(e){var t=this,r=void 0;if(e)r=[e.petOwnerId];else{if(!this.someSelected)return;e=this.data.filter(function(e){return e.selected}),r=e.map(function(e){return e.petOwnerId})}x.default.openTemplate({keeper:e,list:r,warnApi:"/client/console/pet_owner_wait_study/warn",type:"学习逾期",width:480},n(88),I.default).closePromise.then(function(e){"ok"===e.value&&(t.currentPage=-1)})}},{key:"notify",value:function(e){var n=this,r=void 0,i=void 0;if(e)r=[e.petOwnerId],i="确定给学员【"+e.realname+"】发送学习通知吗？";else{if(!this.someSelected)return;r=this.data.filter(function(e){return e.selected}).map(function(e){return e.petOwnerId}),i="确定给所选的"+r.length+"位学员发送学习通知吗？"}x.default.openConfirm({info:i}).closePromise.then(function(e){"ok"===e.value&&w.Request.post("/client/console/pet_owner_wait_study/notice",null,{list:r}).then(function(){k.kmNoty.info("已发送学习通知"),(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"removeItems",n).call(n,r.length)},function(e){var t=e.msg;return k.kmNoty.serverError(t||"发送学习通知失败，稍后请重试。")})})}}]),t}(y.default);t.default=C,C.$inject=["$scope"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(344),o=r(i),a=n(5),s=r(a),l=n(0),c=r(l),u=n(1),d=r(u),f=n(6),p=r(f),h=n(7),v=r(h),g=n(3),m=(r(g),n(72)),b=(r(m),n(10)),y=r(b),A=(n(4),n(2),n(11));r(A);n(20);var x=function(e){function t(){return(0,c.default)(this,t),(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this))}return(0,v.default)(t,e),(0,d.default)(t,[{key:"loadData",value:function(){var e=this;return new o.default(function(t,n){e.data=[1,2,3,4],o.default.resolve(4)})}}]),t}(y.default);t.default=x},function(e,t,n){e.exports={default:n(345),__esModule:!0}},function(e,t,n){n(102),n(34),n(46),n(346),n(353),n(354),e.exports=n(8).Promise},function(e,t,n){"use strict";var r,i,o,a,s=n(42),l=n(14),c=n(29),u=n(85),d=n(16),f=n(23),p=n(43),h=n(347),v=n(348),g=n(138),m=n(139).set,b=n(350)(),y=n(89),A=n(140),x=n(141),w=l.TypeError,k=l.process,$=l.Promise,_="process"==u(k),I=function(){},C=i=y.f,S=!!function(){try{var e=$.resolve(1),t=(e.constructor={})[n(12)("species")]=function(e){e(I,I)};return(_||"function"==typeof PromiseRejectionEvent)&&e.then(I)instanceof t}catch(e){}}(),E=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},D=function(e,t){if(!e._n){e._n=!0;var n=e._c;b(function(){for(var r=e._v,i=1==e._s,o=0;n.length>o;)!function(t){var n,o,a=i?t.ok:t.fail,s=t.resolve,l=t.reject,c=t.domain;try{a?(i||(2==e._h&&M(e),e._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===t.promise?l(w("Promise-chain cycle")):(o=E(n))?o.call(n,s,l):s(n)):l(r)}catch(e){l(e)}}(n[o++]);e._c=[],e._n=!1,t&&!e._h&&P(e)})}},P=function(e){m.call(l,function(){var t,n,r,i=e._v,o=T(e);if(o&&(t=A(function(){_?k.emit("unhandledRejection",i,e):(n=l.onunhandledrejection)?n({promise:e,reason:i}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=_||T(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},T=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!T(t.promise))return!1;return!0},M=function(e){m.call(l,function(){var t;_?k.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},R=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),D(t,!0))},B=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw w("Promise can't be resolved itself");(t=E(e))?b(function(){var r={_w:n,_d:!1};try{t.call(e,c(B,r,1),c(R,r,1))}catch(e){R.call(r,e)}}):(n._v=e,n._s=1,D(n,!1))}catch(e){R.call({_w:n,_d:!1},e)}}};S||($=function(e){h(this,$,"Promise","_h"),p(e),r.call(this);try{e(c(B,this,1),c(R,this,1))}catch(e){R.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(351)($.prototype,{then:function(e,t){var n=C(g(this,$));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=_?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(B,e,1),this.reject=c(R,e,1)},y.f=C=function(e){return e===$||e===a?new o(e):i(e)}),d(d.G+d.W+d.F*!S,{Promise:$}),n(45)($,"Promise"),n(352)("Promise"),a=n(8).Promise,d(d.S+d.F*!S,"Promise",{reject:function(e){var t=C(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!S),"Promise",{resolve:function(e){return x(s&&this===a?$:this,e)}}),d(d.S+d.F*!(S&&n(142)(function(e){$.all(e).catch(I)})),"Promise",{all:function(e){var t=this,n=C(t),r=n.resolve,i=n.reject,o=A(function(){var n=[],o=0,a=1;v(e,!1,function(e){var s=o++,l=!1;n.push(void 0),a++,t.resolve(e).then(function(e){l||(l=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=C(t),r=n.reject,i=A(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(29),i=n(136),o=n(137),a=n(17),s=n(62),l=n(86),c={},u={},t=e.exports=function(e,t,n,d,f){var p,h,v,g,m=f?function(){return e}:l(e),b=r(n,d,t?2:1),y=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(o(m)){for(p=s(e.length);p>y;y++)if((g=t?b(a(h=e[y])[0],h[1]):b(e[y]))===c||g===u)return g}else for(v=m.call(e);!(h=v.next()).done;)if((g=i(v,b,h.value,t))===c||g===u)return g};t.BREAK=c,t.RETURN=u},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(14),i=n(139).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,l="process"==n(37)(a);e.exports=function(){var e,t,n,c=function(){var r,i;for(l&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(l)n=function(){a.nextTick(c)};else if(o){var u=!0,d=document.createTextNode("");new o(c).observe(d,{characterData:!0}),n=function(){d.data=u=!u}}else if(s&&s.resolve){var f=s.resolve();n=function(){f.then(c)}}else n=function(){i.call(r,c)};return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(22);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t,n){"use strict";var r=n(14),i=n(8),o=n(18),a=n(19),s=n(12)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(16),i=n(8),o=n(14),a=n(138),s=n(141);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(16),i=n(89),o=n(140);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function e(){(0,i.default)(this,e)};t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(56),o=r(i),a=n(5),s=r(a),l=n(0),c=r(l),u=n(1),d=r(u),f=n(6),p=r(f),h=n(9),v=r(h),g=n(7),m=r(g),b=n(3),y=r(b),A=n(41),x=r(A),w=n(4),k=n(2),$=n(11),_=r($),I=n(360),C=r(I),S=n(143),E=r(S),D=n(370),P=r(D),T=n(371),M=r(T);n(144);var R=function(e){function t(){(0,c.default)(this,t);var e=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this));e.listUrl="organization.user",e.condition.role=0;var n=k.UserInfo.current();return e.admin=n.admin||n.superAdmin,e.ofGroup=!n.cityId,e}return(0,m.default)(t,e),(0,d.default)(t,[{key:"$onInit",value:function(){var e=this;(0,v.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"$onInit",this).call(this),y.default.get("$q").when(k.CommonDicts.getList("organization.city",null,"post")).then(function(t){return e.cityDict=t}),y.default.get("$q").when(k.CommonDicts.getList("organization.role",null,"post")).then(function(t){var n=(0,o.default)(t);return n.unshift({id:0,name:"不限"}),e.roleDict=n,e.roles=t,t})}},{key:"addStaff",value:function(){if(!this.admin)return void w.kmNoty.info("只有管理员可以添加用户");_.default.openTemplate({cityDict:this.cityDict,cityId:k.UserInfo.current().cityId||0},n(372),P.default).closePromise.then(function(e){"ok"==e.value&&k.CommonDicts.reload("organization.user",null,"post")})}},{key:"viewRoles",value:function(e){var t=this;k.Request.post("/client/console/authority/role/list_by_user",null,{username:e.username}).then(function(r){_.default.openTemplate({username:e.username,grantedRoles:r,roles:t.roles},n(373),C.default).closePromise.then(function(t){var n=t.value;"cancel"!==n&&"$"!=n[0]&&(e.roles=n)})})}},{key:"viewPermissions",value:function(e){k.Request.post("/client/console/authority/permission/list_by_user",null,{username:e.username}).then(function(e){if(!e||!e.length)return void w.kmNoty.info("用户没有任何权限，请为其分配角色");_.default.openTemplate({permissions:e,width:800},n(145),E.default)},function(){return w.kmNoty.serverError("获取用户权限失败，请稍后重试。")})}},{key:"resetPassword",value:function(e){_.default.openConfirm({info:"确定重置用户的密码？"}).closePromise.then(function(t){"ok"==t.value&&k.Request.post("/client/console/staff/admin/reset_pwd",null,{username:e.username}).then(function(){return w.kmNoty.success("重置密码成功")},function(e){var t=e.msg;return w.kmNoty.serverError(t)})})}},{key:"setCity",value:function(e){if(!this.admin||!this.ofGroup)return void w.kmNoty.info("只有市局管理员可以设置用户城市");_.default.openTemplate({user:e},n(374),M.default)}}]),t}(x.default);t.default=R},function(e,t,n){n(34),n(358),e.exports=n(8).Array.from},function(e,t,n){"use strict";var r=n(29),i=n(16),o=n(38),a=n(136),s=n(137),l=n(62),c=n(359),u=n(86);i(i.S+i.F*!n(142)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,d,f=o(e),p="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,g=void 0!==v,m=0,b=u(f);if(g&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==b||p==Array&&s(b))for(t=l(f.length),n=new p(t);t>m;m++)c(n,m,g?v(f[m],m):f[m]);else for(d=b.call(f),n=new p;!(i=d.next()).done;m++)c(n,m,g?a(d,v,[i.value,m],!0):i.value);return n.length=m,n}})},function(e,t,n){"use strict";var r=n(18),i=n(35);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(56),o=r(i),a=n(0),s=r(a),l=n(1),c=r(l),u=n(90),d=r(u),f=n(91),p=r(f),h=n(83),v=r(h),g=n(52),m=r(g),b=n(4),y=n(2),A=function(){function e(t,n){(0,s.default)(this,e),this.grantedRoles=n.grantedRoles,this.ungrantedRoles=(0,m.default)(n.roles,n.grantedRoles,function(e,t){return e.id===t.id}),this.oldRoles=(0,o.default)(n.grantedRoles),this.username=n.username,this.$scope=t}return(0,c.default)(e,[{key:"close",value:function(){this.$scope.closeThisDialog("cancel")}},{key:"ok",value:function(){var e=this,t=(0,m.default)(this.oldRoles,this.grantedRoles,function(e,t){return e.id===t.id}),n=(0,m.default)(this.grantedRoles,this.oldRoles,function(e,t){return e.id===t.id});if(!t.length&&!n.length)return void this.$scope.closeThisDialog("ok");y.Request.post("/client/console/authority/role/assign",null,{username:this.username,listToGrant:n.map(function(e){return e.id}),listToRevoke:t.map(function(e){return e.id})}).then(function(){b.kmNoty.success("分配角色成功"),e.$scope.closeThisDialog((0,v.default)((0,p.default)(e.grantedRoles,function(e){return e.name}),"，"))})}},{key:"grant",value:function(e){var t=e.target,n=void 0;if(t.classList.contains("fa"))t=t.parentElement,n=t.parentElement;else{if(!t.classList.contains("label"))return;n=t.parentElement}var r=(0,d.default)(n.children,t),i=this.ungrantedRoles[r];if(0==i.status)return void b.kmNoty.info("该角色已被禁用");this.grantedRoles.push(i),this.ungrantedRoles.splice(r,1)}},{key:"degrant",value:function(e){var t=e.target,n=void 0;if(t.classList.contains("fa"))t=t.parentElement,n=t.parentElement;else{if(!t.classList.contains("label"))return;n=t.parentElement}var r=(0,d.default)(n.children,t),i=this.grantedRoles[r];this.ungrantedRoles.push(i),this.grantedRoles.splice(r,1)}}]),e}();t.default=A,A.$inject=["$scope","options"]},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function r(e,t){var n=-1,r=o(e)?Array(e.length):[];return i(e,function(e,i,o){r[++n]=t(e,i,o)}),r}var i=n(39),o=n(51);e.exports=r},function(e,t,n){var r=n(116),i=n(364),o=Object.prototype,a=o.hasOwnProperty,s=i(function(e,t,n){a.call(e,n)?e[n].push(t):r(e,n,[t])});e.exports=s},function(e,t,n){function r(e,t){return function(n,r){var l=s(n)?i:o,c=t?t():{};return l(n,e,a(r,2),c)}}var i=n(365),o=n(366),a=n(54),s=n(15);e.exports=r},function(e,t){function n(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}e.exports=n},function(e,t,n){function r(e,t,n,r){return i(e,function(e,i,o){t(r,e,n(e),o)}),r}var i=n(39);e.exports=r},function(e,t,n){var r=n(40),i=n(368),o=n(112),a=n(369),s=n(75),l=o(function(e){var t=s(e),n=r(e,a);return t="function"==typeof t?t:void 0,t&&n.pop(),n.length&&n[0]===e[0]?i(n,void 0,t):[]});e.exports=l},function(e,t,n){function r(e,t,n){for(var r=n?a:o,d=e[0].length,f=e.length,p=f,h=Array(f),v=1/0,g=[];p--;){var m=e[p];p&&t&&(m=s(m,l(t))),v=u(m.length,v),h[p]=!n&&(t||d>=120&&m.length>=120)?new i(p&&m):void 0}m=e[0];var b=-1,y=h[0];e:for(;++b<d&&g.length<v;){var A=m[b],x=t?t(A):A;if(A=n||0!==A?A:0,!(y?c(y,x):r(g,x,n))){for(p=f;--p;){var w=h[p];if(!(w?c(w,x):r(e[p],x,n)))continue e}y&&y.push(x),g.push(A)}}return g}var i=n(79),o=n(108),a=n(109),s=n(40),l=n(80),c=n(81),u=Math.min;e.exports=r},function(e,t,n){function r(e){return i(e)?e:[]}var i=n(114);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(4),c=n(2),u=function(){function e(t,n){(0,o.default)(this,e),this.cityDict=n.cityDict,this.cityId=n.cityId,this.user={cityId:n.cityId},this.$scope=t}return(0,s.default)(e,[{key:"close",value:function(){this.$scope.closeThisDialog("cancel")}},{key:"ok",value:function(){var e=this;return!this.user.realname||this.user.realname.length<2?void l.kmNoty.info("用户名不能少于2个字符"):!this.user.phone||this.user.phone<11?void l.kmNoty.info("请输入正确的手机号码"):void c.Request.post("/client/console/staff/admin/add",null,this.user).then(function(){l.kmNoty.success("添加用户成功"),e.$scope.closeThisDialog("ok")},function(e){var t=e.msg;return l.kmNoty.serverError(t)})}}]),e}();t.default=u,u.$inject=["$scope","options"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(56),o=r(i),a=n(0),s=r(a),l=n(1),c=r(l),u=n(3),d=r(u),f=n(4),p=n(2),h=function(){function e(t,n){var r=this;(0,s.default)(this,e),this.$scope=t,this.user=n.user,d.default.get("$q").when(p.CommonDicts.getList("organization.city",null,"post")).then(function(e){var t=(0,o.default)(e);return t.unshift({cityId:0,cityName:"大中华区"}),r.cityDict=t,e})}return(0,c.default)(e,[{key:"close",value:function(){this.$scope.closeThisDialog("cancel")}},{key:"ok",value:function(){var e=this;if(this.cityId!==this.user.cityId)return this.cityId||0===this.cityId?void p.Request.post("/client/console/staff/admin/change_city",null,{username:this.user.username,cityId:this.cityId}).then(function(){f.kmNoty.success((e.oldDistrictId?"修改":"设置")+"城市成功"),e.user.cityId=e.cityId,e.$scope.closeThisDialog("ok")}):void f.kmNoty.info("请为用户安排新的城市")}}]),e}();t.default=h,h.$inject=["$scope","options"]},function(e,t){e.exports='<form class="km-form km-form-dialog add-user-form">\r\n  <h2 class="form-title">添加用户</h2>\r\n  <div class="form-group h-flex-box">\r\n    <label>用户名</label>\r\n    <input type="text" class="form-control" ng-model="$ctrl.user.realname" />\r\n  </div>\r\n  <div class="form-group h-flex-box">\r\n    <label>手机号</label>\r\n    <input type="text" class="form-control" ng-model="$ctrl.user.phone" />\r\n  </div>\r\n  <div class="form-group h-flex-box">\r\n    <label>所在城市</label>\r\n    <select ng-disabled="$ctrl.cityId" class="form-control" ng-model="$ctrl.user.cityId" ng-options="x.cityId as x.cityName for x in $ctrl.cityDict"></select>\r\n  </div>\r\n  <div class="h-flex-box justify-between form-bottom-btns">\r\n    <a class="btn btn-default" ng-click="$ctrl.close()">取消</a>\r\n    <a class="btn btn-primary" ng-click="$ctrl.ok()">确定</a>\r\n  </div>\r\n</form>'},function(e,t){e.exports='<div class="km-form km-form-dialog user-roles-form">\r\n  <h2 class="form-title">分配角色</h2>\r\n  <div class="roles-group-wrapper">\r\n    <p>已分配的角色</p>\r\n    <div class="h-flex-box roles-group" ng-click="$ctrl.degrant($event)">\r\n      <span class="label label-info" ng-class="{\'disabled\':role.status==0}" ng-repeat="role in $ctrl.grantedRoles"><i class="fa fa-close"></i>{{role.name}}</span>\r\n      <div class="empty" ng-if="!$ctrl.grantedRoles.length">尚未分配任何角色</div>\r\n    </div>\r\n  </div>\r\n  <div class="roles-group-wrapper">\r\n    <p>未分配的角色</p>\r\n    <div class="h-flex-box roles-group ungranted" ng-click="$ctrl.grant($event)">\r\n      <span class="label label-default" ng-class="{\'disabled\':role.status==0}" ng-repeat="role in $ctrl.ungrantedRoles"><i class="fa fa-check"></i>{{role.name}}</span>\r\n      <div class="empty" ng-if="!$ctrl.ungrantedRoles.length">已分配全部角色</div>\r\n    </div>\r\n  </div>\r\n  <div class="h-flex-box justify-between form-bottom-btns">\r\n    <a class="btn btn-default" ng-click="$ctrl.close()">取消</a>\r\n    <a class="btn btn-primary" ng-click="$ctrl.ok()">确定</a>\r\n  </div>\r\n</div>'},function(e,t){e.exports='<form class="km-form km-form-dialog add-role-form">\r\n  <h2 class="form-title">{{($ctrl.user.cityId?\'修改[\':\'设置[\')+$ctrl.user.realname+\']城市\'}}</h2>\r\n  <div ng-if="$ctrl.user.cityId" class="form-group h-flex-box">\r\n    <label>原城市</label>\r\n    <select disabled class="form-control" ng-model="$ctrl.user.cityId" ng-options="x.cityId as x.cityName for x in $ctrl.cityDict"></select>\r\n  </div>\r\n  <div class="form-group h-flex-box">\r\n    <label>新城市</label>\r\n    <select class="form-control" ng-model="$ctrl.cityId" ng-options="x.cityId as x.cityName for x in $ctrl.cityDict"></select>\r\n  </div>\r\n  <div class="h-flex-box justify-between form-bottom-btns">\r\n    <a class="btn btn-default" ng-click="$ctrl.close()">取消</a>\r\n    <a class="btn btn-primary" ng-click="$ctrl.ok()">确定</a>\r\n  </div>\r\n</form>'},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(128),o=r(i),a=n(5),s=r(a),l=n(0),c=r(l),u=n(1),d=r(u),f=n(6),p=r(f),h=n(7),v=r(h),g=n(3),m=r(g),b=n(41),y=r(b),A=n(4),x=n(2),w=n(11),k=r(w),$=n(376),_=r($),I=n(143),C=r(I),S=n(377),E=r(S);n(144);var D=function(e){function t(){(0,c.default)(this,t);var e=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this));return e.listUrl="organization.role",e.superAdmin=x.UserInfo.current().superAdmin,e}return(0,v.default)(t,e),(0,d.default)(t,[{key:"addRole",value:function(){k.default.openTemplate(null,n(146),_.default).closePromise.then(function(e){"ok"==e.value&&x.CommonDicts.reload("organization.role",null,"post")})}},{key:"setPermissions",value:function(e){m.default.get("$q").all([x.Request.post("/client/console/authority/permission/list_by_role",null,{id:e.id}),x.CommonDicts.getList("organization.permission",null,"post")]).then(function(t){var r=(0,o.default)(t,2),i=r[0],a=r[1];if(!a||!a.length)return void A.kmNoty.info("权限尚未初始化，请联系管理员");k.default.openTemplate({roleId:e.id,roleName:e.name,grantedPermissions:i,permissions:a,width:800},n(145),C.default)},function(e){var t=e.msg;return A.kmNoty.serverError(t)})}},{key:"setUsers",value:function(e){m.default.get("$q").all([x.Request.post("/client/console/authority/role/user_by_role",null,{id:e.id}),x.CommonDicts.getList("organization.user",null,"post")]).then(function(t){var r=(0,o.default)(t,2),i=r[0],a=r[1];k.default.openTemplate({roleId:e.id,grantedUsers:i,users:a},n(378),E.default).closePromise.then(function(t){var n=t.value;"cancel"!==n&&"$"!=n[0]&&(e.users=n)})},function(e){var t=e.msg;return A.kmNoty.serverError(t)})}},{key:"toggle",value:function(e){var t=e.status?"禁用":"激活";if(!this.superAdmin)return void A.kmNoty.info("只有超级管理员才可以"+t+"角色");k.default.openConfirm({info:"确定要"+t+"角色["+e.name+"]？"}).closePromise.then(function(t){if("ok"==t.value){var n=e.status?0:1;x.Request.post("/client/console/authority/role/update",null,{id:e.id,status:n}).then(function(){return e.status=n})}})}},{key:"modify",value:function(e){k.default.openTemplate(e,n(146),_.default).closePromise.then(function(e){"ok"==e.value&&x.CommonDicts.reload("organization.role",null,"post")})}}]),t}(y.default);t.default=D},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(4),c=n(2),u=function(){function e(t,n){(0,o.default)(this,e),this.$scope=t,this.originRole=n,this.role=n?{id:n.id,name:n.name,description:n.description}:{}}return(0,s.default)(e,[{key:"close",value:function(){this.$scope.closeThisDialog("cancel")}},{key:"ok",value:function(){var e=this;if(!this.role.name||this.role.name.length<2)return void l.kmNoty.info("角色名不能少于2个字符");if(!this.role.description||this.role.description<8)return void l.kmNoty.info("角色描述不能少于8个字符");var t=this.originRole?"/client/console/authority/role/update":"/client/console/authority/role/add";c.Request.post(t,null,this.role).then(function(){l.kmNoty.success((e.originRole?"修改":"添加")+"角色成功"),e.$scope.closeThisDialog("ok"),e.originRole&&(e.originRole.name=e.role.name,e.originRole.description=e.role.description)})}}]),e}();t.default=u,u.$inject=["$scope","options"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(56),o=r(i),a=n(0),s=r(a),l=n(1),c=r(l),u=n(90),d=r(u),f=n(91),p=r(f),h=n(83),v=r(h),g=n(52),m=r(g),b=n(4),y=n(2),A=function(){function e(t,n){(0,s.default)(this,e);var r=[];n.users.forEach(function(e){var t=n.grantedUsers.find(function(t){return t.username==e.username});t?t.id=e.id:r.push(e)}),this.grantedUsers=n.grantedUsers,this.ungrantedUsers=r,this.oldUsers=(0,o.default)(n.grantedUsers),this.roleId=n.roleId,this.$scope=t}return(0,c.default)(e,[{key:"close",value:function(){this.$scope.closeThisDialog("cancel")}},{key:"ok",value:function(){var e=this,t=(0,m.default)(this.oldUsers,this.grantedUsers,function(e,t){return e.username===t.username}),n=(0,m.default)(this.grantedUsers,this.oldUsers,function(e,t){return e.username===t.username});if(!t.length&&!n.length)return void this.$scope.closeThisDialog("ok");y.Request.post("/client/console/authority/role/assign_user",null,{roleId:this.roleId,listToGrant:n.map(function(e){return e.id}),listToRevoke:t.map(function(e){return e.id})}).then(function(){b.kmNoty.success("分配用户成功"),e.$scope.closeThisDialog((0,v.default)((0,p.default)(e.grantedUsers,function(e){return e.realname}),"，"))})}},{key:"grant",value:function(e){var t=e.target,n=void 0;if(t.classList.contains("fa"))t=t.parentElement,n=t.parentElement;else{if(!t.classList.contains("label"))return;n=t.parentElement}var r=(0,d.default)(n.children,t),i=this.ungrantedUsers[r];this.grantedUsers.push(i),this.ungrantedUsers.splice(r,1)}},{key:"degrant",value:function(e){var t=e.target,n=void 0;if(t.classList.contains("fa"))t=t.parentElement,n=t.parentElement;else{if(!t.classList.contains("label"))return;n=t.parentElement}var r=(0,d.default)(n.children,t),i=this.grantedUsers[r];this.ungrantedUsers.push(i),this.grantedUsers.splice(r,1)}}]),e}();t.default=A,A.$inject=["$scope","options"]},function(e,t){e.exports='<div class="km-form km-form-dialog user-roles-form">\r\n  <h2 class="form-title">成员维护</h2>\r\n  <div class="roles-group-wrapper">\r\n    <p>角色包含的用户</p>\r\n    <div class="h-flex-box roles-group" ng-click="$ctrl.degrant($event)">\r\n      <span class="label label-info" ng-repeat="user in $ctrl.grantedUsers"><i class="fa fa-close"></i>{{user.realname}}</span>\r\n      <div class="empty" ng-if="!$ctrl.grantedUsers.length">尚无任何用户</div>\r\n    </div>\r\n  </div>\r\n  <div class="roles-group-wrapper">\r\n    <p>角色未包含的用户</p>\r\n    <div class="h-flex-box roles-group ungranted" ng-click="$ctrl.grant($event)">\r\n      <span class="label label-default" ng-repeat="user in $ctrl.ungrantedUsers"><i class="fa fa-check"></i>{{user.realname}}</span>\r\n      <div class="empty" ng-if="!$ctrl.ungrantedUsers.length">已包含全部用户</div>\r\n    </div>\r\n  </div>\r\n  <div class="h-flex-box justify-between form-bottom-btns">\r\n    <a class="btn btn-default" ng-click="$ctrl.close()">取消</a>\r\n    <a class="btn btn-primary" ng-click="$ctrl.ok()">确定</a>\r\n  </div>\r\n</div>'},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o,a=n(26),s=r(a),l=n(5),c=r(l),u=n(0),d=r(u),f=n(1),p=r(f),h=n(6),v=r(h),g=n(7),m=r(g),b=n(41),y=r(b),A=n(2),x=n(4),w=n(11),k=r(w),$=n(27),_=r($),I=(i=(0,_.default)(1e3),o=function(e){function t(){(0,d.default)(this,t);var e=(0,v.default)(this,(t.__proto__||(0,c.default)(t)).call(this));return e.listUrl="organization.city",e}return(0,m.default)(t,e),(0,p.default)(t,[{key:"setStrict",value:function(e){var t="确定将【"+e.name+"】"+(e.special?"取消":"设为")+"重点？";k.default.openConfirm({info:t}).closePromise.then(function(t){"ok"==t.value&&A.Request.post("/client/console/district/set_key",null,{id:e.id}).then(function(){e.special=!e.special},function(){return x.kmNoty.serverError("操作失败请稍后重试。")})})}}]),t}(y.default),function(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}(o.prototype,"setStrict",[i],(0,s.default)(o.prototype,"setStrict"),o.prototype),o);t.default=I},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5),o=r(i),a=n(0),s=r(a),l=n(6),c=r(l),u=n(7),d=r(u),f=n(41),p=r(f),h=(n(2),n(4),n(11)),v=(r(h),n(27)),g=(r(v),function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,d.default)(t,e),t}(p.default));t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5),o=r(i),a=n(0),s=r(a),l=n(1),c=r(l),u=n(6),d=r(u),f=n(9),p=r(f),h=n(7),v=r(h),g=n(3),m=(r(g),n(10)),b=(r(m),n(2)),y=n(92),A=r(y),x=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return n.scope=e,n}return(0,v.default)(t,e),(0,c.default)(t,[{key:"$onInit",value:function(){(0,p.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"$onInit",this).call(this)}},{key:"cityListCtrl",value:function(){return b.CommonDicts.getStuts("cityCtrl")}},{key:"chooseCity",value:function(e){this.cityId!=this.cityList[e].cityId&&(0,p.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"chooseCity",this).call(this,e)}}]),t}(A.default);t.default=x,x.$inject=["$scope"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5),o=r(i),a=n(0),s=r(a),l=n(1),c=r(l),u=n(6),d=r(u),f=n(9),p=r(f),h=n(7),v=r(h),g=n(3),m=(r(g),n(10)),b=(r(m),n(2)),y=n(92),A=r(y),x=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return n.scope=e,n}return(0,v.default)(t,e),(0,c.default)(t,[{key:"$onInit",value:function(){(0,p.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"$onInit",this).call(this)}},{key:"cityListCtrl",value:function(){return b.CommonDicts.getStuts("cityCtrl")}},{key:"chooseCity",value:function(e){this.cityId!=this.cityList[e].cityId&&(0,p.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"chooseCity",this).call(this,e)}}]),t}(A.default);t.default=x,x.$inject=["$scope"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5),o=r(i),a=n(0),s=r(a),l=n(1),c=r(l),u=n(6),d=r(u),f=n(9),p=r(f),h=n(7),v=r(h),g=n(3),m=(r(g),n(10)),b=(r(m),n(2)),y=n(92),A=r(y),x=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return n.scope=e,n}return(0,v.default)(t,e),(0,c.default)(t,[{key:"$onInit",value:function(){(0,p.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"$onInit",this).call(this)}},{key:"cityListCtrl",value:function(){return b.CommonDicts.getStuts("cityCtrl")}},{key:"chooseCity",value:function(e){this.cityId!=this.cityList[e].cityId&&(0,p.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"chooseCity",this).call(this,e)}}]),t}(A.default);t.default=x,x.$inject=["$scope"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5),o=r(i),a=n(0),s=r(a),l=n(1),c=r(l),u=n(6),d=r(u),f=n(7),p=r(f),h=n(9),v=r(h),g=n(3),m=(r(g),n(10)),b=r(m),y=n(11),A=(r(y),n(2)),x=(n(4),n(13)),w=n(93),k=(r(w),function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.cityId=A.CommonDicts.getCache(x.ACTIVE_CITY_ID).data,n.listUrl="/client/console/pet_switch_card/list",n.scope=e,n.emit=n.scope.$on(x.CHANGE_CITY,function(e,r){n.cityId=r,(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"loadData",n).call(n)}),n}return(0,p.default)(t,e),(0,c.default)(t,[{key:"$onDestroy",value:function(){this.emit&&this.emit()}}]),t}(b.default));t.default=k,k.$inject=["$scope"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function e(){(0,i.default)(this,e)};t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(73),o=r(i),a=n(5),s=r(a),l=n(0),c=r(l),u=n(1),d=r(u),f=n(6),p=r(f),h=n(9),v=r(h),g=n(7),m=r(g),b=n(10),y=r(b),A=n(3),x=r(A),w=n(2),k=function(e){function t(e){(0,c.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e,function(){var e=x.default.get("$state");e.is("layout.publish.lose.current")?n.listUrl="/client/console/pet_lost/list":e.is("layout.publish.lose.closed")&&(n.listUrl="/client/console/pet_lost/close_list")}));return x.default.get("$q").when(w.CommonDicts.getList("dog.breed",null,"post")).then(function(e){n.breedDict=e}),x.default.get("$q").when(w.CommonDicts.getList("dog.color",null,"post")).then(function(e){return n.colorDict=e}),n}return(0,m.default)(t,e),(0,d.default)(t,[{key:"$onInit",value:function(){(0,v.default)(t.prototype.__proto__||(0,s.default)(t.prototype),"$onInit",this).call(this)}},{key:"getValue",value:function(){var e=this.editor.txt.getJSON();(0,o.default)(e);console.log(e)}}]),t}(y.default);t.default=k,k.$inject=["$scope"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5),o=r(i),a=n(0),s=r(a),l=n(1),c=r(l),u=n(6),d=r(u),f=n(7),p=r(f),h=n(9),v=r(h),g=n(3),m=(r(g),n(10)),b=r(m),y=n(11),A=r(y),x=n(2),w=n(4),k=n(13),$=n(93),_=r($),I=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.cityId=x.CommonDicts.getCache(k.ACTIVE_CITY_ID).data,n.listUrl="/client/console/pet_switch_card/list",n.setTransform("$name",{key:"phone"}),n.scope=e,n.emit=n.scope.$on(k.CHANGE_CITY,function(e,r){n.cityId=r,(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"loadData",n).call(n)}),n}return(0,p.default)(t,e),(0,c.default)(t,[{key:"$onDestroy",value:function(){this.emit&&this.emit()}},{key:"pass",value:function(e){var n=this,r=void 0,i=void 0;if(e)r=[e.id],i="确定通过【"+e.realname+"】的换牌申请？";else{if(!this.someSelected)return;r=this.data.filter(function(e){return e.selected}).map(function(e){return e.id}),i="确定通过"+r.length+"位宠主的换牌通知吗？"}A.default.openConfirm({info:i}).closePromise.then(function(e){"ok"===e.value&&x.Request.post("/client/console/pet_switch_card/pass",null,{list:r}).then(function(){w.kmNoty.info("通过成功"),(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"removeItems",n).call(n,r.length)},function(e){var t=e.msg;return w.kmNoty.serverError(t||"通过失败，稍后请重试。")})})}},{key:"reject",value:function(e){var r=this,i=void 0;if(e)i=[e.id],"确定驳回【"+e.realname+"】的换牌申请？";else{if(!this.someSelected)return;i=this.data.filter(function(e){return e.selected}).map(function(e){return e.id}),"确定驳回"+i.length+"位宠主的换牌通知吗？"}A.default.openTemplate({card:e,list:i,warnApi:"/client/console/pet_owner_wait_study/warn",type:"换牌驳回原因",width:480},n(147),_.default).closePromise.then(function(e){"ok"===e.value&&(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"removeItems",r).call(r,i.length)})}}]),t}(b.default);t.default=I,I.$inject=["$scope"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5),o=r(i),a=n(0),s=r(a),l=n(1),c=r(l),u=n(6),d=r(u),f=n(7),p=r(f),h=n(9),v=r(h),g=n(3),m=r(g),b=n(10),y=r(b),A=n(11),x=r(A),w=n(2),k=n(4),$=n(13),_=n(93),I=r(_),C=n(389),S=r(C),E=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,function(){n.setList()}));return n.setTransform("$name",{key:"phone"}),n.scope=e,n.emit=n.scope.$on($.CHANGE_CITY,function(e,r){n.cityId=r,(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"loadData",n).call(n)}),n}return(0,p.default)(t,e),(0,c.default)(t,[{key:"$onDestroy",value:function(){this.emit&&this.emit()}},{key:"setList",value:function(){this.cityId=w.CommonDicts.getCache($.ACTIVE_CITY_ID).data;var e=m.default.get("$state");e.is("layout.device.returnList.todo")?(this.listUrl="/client/console/pet_switch_card/half_back_list",this.isTodo=!0):e.is("layout.device.returnList.recovered")&&(this.listUrl="/client/console/pet_switch_card/back_list")}},{key:"recovered",value:function(e){var n=this,r="确定回收【"+e.realname+"】的设备吗？";x.default.openConfirm({info:r}).closePromise.then(function(r){"ok"===r.value&&w.Request.post("/client/console/pet_switch_card/register",null,{barcode:e.cardNo}).then(function(){k.kmNoty.info("回收成功"),(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"removeItems",n).call(n,1)},function(e){var t=e.msg;return k.kmNoty.serverError(t||"回收失败，稍后请重试。")})})}},{key:"exchange",value:function(e){var r=this;x.default.openTemplate({card:e,width:480},n(392),S.default).closePromise.then(function(e){"ok"===e.value&&(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"removeItems",r).call(r,1)})}},{key:"pass",value:function(e){var n=this,r=void 0,i=void 0;if(e)r=[e.id],i="确定通过【"+e.realname+"】的换牌申请？";else{if(!this.someSelected)return;r=this.data.filter(function(e){return e.selected}).map(function(e){return e.id}),i="确定通过"+r.length+"位宠主的换牌通知吗？"}x.default.openConfirm({info:i}).closePromise.then(function(e){"ok"===e.value&&w.Request.post("/client/console/pet_switch_card/pass",null,{list:r}).then(function(){k.kmNoty.info("通过成功"),(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"removeItems",n).call(n,r.length)},function(e){var t=e.msg;return k.kmNoty.serverError(t||"通过失败，稍后请重试。")})})}},{key:"reject",value:function(e){var r=this,i=void 0;if(e)i=[e.id],"确定驳回【"+e.realname+"】的换牌申请？";else{if(!this.someSelected)return;i=this.data.filter(function(e){return e.selected}).map(function(e){return e.id}),"确定驳回"+i.length+"位宠主的换牌通知吗？"}x.default.openTemplate({card:e,list:i,warnApi:"/client/console/pet_owner_wait_study/warn",type:"换牌驳回原因",width:480},n(147),I.default).closePromise.then(function(e){"ok"===e.value&&(0,v.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"removeItems",r).call(r,i.length)})}}]),t}(y.default);t.default=E,E.$inject=["$scope"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),l=n(2),c=n(4);n(390);var u=function(){function e(t,r){(0,o.default)(this,e),this.$scope=t,this.detail=r.card,this.img=n(391)}return(0,s.default)(e,[{key:"bindCard",value:function(e){var t=this;l.Request.post("/client/console/pet_switch_card/binding_card",null,{id:this.detail.id,barcode:e}).then(function(){c.kmNoty.info("更换成功"),t.$scope.closeThisDialog("ok")},function(e){var t=e.msg;return c.kmNoty.serverError(t||"更换失败，稍后请重试。")})}},{key:"close",value:function(){this.$scope.closeThisDialog("cancel")}}]),e}();t.default=u,u.$inject=["$scope","options"]},function(e,t){},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAATCAYAAAB7u5a2AAAAAXNSR0IArs4c6QAAASRJREFUOBG1lD1OQkEURvEnhIbEP7CgYg+2JNZWLIENsAdxCzSGijVYWFtp3AIr0FBQWJiYIJxDnISMj2RGxi85zLz77nzvzjAztdrfdJgyLCmpwuiC2AgaFe/2Dp3j8AEPcLa3W2Sg+Rus4Bm6UEwnOAVzPzCDq9j9gMARtMB+qk5JfALHBc3pDOAxBDTswCs0QzChdVxV/hfxIUz0OPYHGZQcfVYku/vuwHZiBXacZs6ykL5T+rjU7zszSrzwK3IJS/CfLyF9Fq655n24BafzDbFcuhx5wHqaa3b/045p6xDL5JxZbTysels3PEwh3r/XxBaQKgtx3/+SJ20GJogn0RNZTF2cXiCYe5cUlbedt57rXdzcSr2vR9D24b+UuxU3dawBA2Yu7Xh7IVUAAAAASUVORK5CYII="},function(e,t){e.exports='<div class="km-form km-form-dialog change-device">\r\n        <h2 class="form-title">更换设备</h2>\r\n        <div class="main h-flex-box center-items justify-around">\r\n            <span>设备号：{{$ctrl.detail.cardNo}}</span>\r\n            <img ng-src="{{$ctrl.img}}" >\r\n            <input type="text" ng-model="$ctrl.newCardNo">\r\n        </div>\r\n        <div class="btn-groups h-flex-box center-items justify-around">\r\n            <button class="btn" ng-click="$ctrl.close()">取消</button>\r\n            <button class="btn sure" ng-click="$ctrl.bindCard($ctrl.newCardNo)">确定</button>\r\n        </div>\r\n    </div>  '},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5),o=r(i),a=n(0),s=r(a),l=n(1),c=r(l),u=n(6),d=r(u),f=n(9),p=r(f),h=n(7),v=r(h),g=n(10),m=r(g),b=n(3),y=r(b),A=n(2);n(148);var x=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e,function(){n.listUrl="/client/console/headline/paging",n.typeId=1}));return n.$state=y.default.get("$state"),n}return(0,v.default)(t,e),(0,c.default)(t,[{key:"$onInit",value:function(){(0,p.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"$onInit",this).call(this),this.getTopLineList()}},{key:"getTopLineList",value:function(){var e=this;A.Request.post("/client/console/headline/type_list",null).then(function(t){console.log(t),e.topLineList=t,e.topLineList[0].active=!0})}},{key:"getList",value:function(e){this.typeId=e,(0,p.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"loadData",this).call(this)}},{key:"setActiveUrl",value:function(e){e.active||(this.topLineList.forEach(function(e){e.active=!1}),e.active=!0,this.getList(e.id))}},{key:"goEdit",value:function(){this.$state.go("layout.publish.top.edit",{typeId:this.typeId})}}]),t}(m.default);t.default=x,x.$inject=["$scope"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5),o=r(i),a=n(0),s=r(a),l=n(1),c=r(l),u=n(6),d=r(u),f=n(9),p=r(f),h=n(7),v=r(h),g=n(10),m=r(g),b=n(3);r(b);n(148);var y=function(e){function t(e){(0,s.default)(this,t);var n=(0,d.default)(this,(t.__proto__||(0,o.default)(t)).call(this));return n.listUrl="/client/owners/pet_show/paging",n}return(0,v.default)(t,e),(0,c.default)(t,[{key:"$onInit",value:function(){(0,p.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"$onInit",this).call(this)}}]),t}(m.default);t.default=y,y.$inject=["$scope"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(28),o=r(i),a=n(0),s=r(a),l=n(1),c=r(l),u=n(3),d=r(u),f=n(2),p=n(4),h=function(){function e(){(0,s.default)(this,e),this.Upload=d.default.get("Upload"),console.log(this.Upload),this.publicData={},this.publicData.imageTextList=[{imageId:"",text:""}]}return(0,c.default)(e,[{key:"$onInit",value:function(){var e=d.default.get("$stateParams");this.publicData.typeId=e.typeId}},{key:"addList",value:function(){var e={imageId:"",text:""};this.publicData.imageTextList.push(e)}},{key:"deleteItem",value:function(e){this.publicData.imageTextList.splice(e,1)}},{key:"upload",value:function(e,t){if(e){var n=e.type.split("/")[1],r=new FileReader,i=this;r.onload=function(e){return function(e){"object"===(void 0===t?"undefined":(0,o.default)(t))?t.imageId=this.result:i[t]=this.result,i.imgBase64=this.result.replace(/^.*?,/,""),f.Request.post("/images/",null,{fileBase64:i.imgBase64,suffix:n}).then(function(e){console.log(e),"object"===(void 0===t?"undefined":(0,o.default)(t))?t.imageId=e.id:i.publicData.coverId=e.id})}}(),r.readAsDataURL(e)}}},{key:"public",value:function(){var e=this;if(console.log(this.publicData),!this.publicData.title)return void p.kmNoty.serverError("请填写头条标题");if(!this.publicData.author)return void p.kmNoty.serverError("请填写头条作者");if(!this.publicData.coverId)return void p.kmNoty.serverError("请上传头条封面");for(var t=0,n=this.publicData.imageTextList;t<n.length;t++)if(!n[t].imageId&&!n[t].text)return void p.kmNoty.serverError("请填写第"+(t+1)+"条至少一个选项");f.Request.post("/client/console/headline/publish",null,this.publicData).then(function(t){p.kmNoty.info("发布成功"),e.publicData={},e.publicData.imageTextList=[{imageId:"",text:""}],e.imgPreview=""})}},{key:"back",value:function(){d.default.get("$window").history.back()}}]),e}();t.default=h,h.$inject=["$scope"]},function(e,t){e.exports="<div ui-view>\r\n\r\n</div>"},function(e,t){e.exports='<div class="lg-content">\r\n  <div class="shadwn">\r\n    <div class="box h-flex-box">\r\n      <div class="box-l h-flex-box center-items justify-center">\r\n        <div>\r\n          <img ng-src="{{$ctrl.localImg.logo}}" alt="">\r\n          <p class="c-white t-middle">城市智能养犬管理系统控制台</p>\r\n        </div>\r\n      </div>\r\n      <div class="box-r h-flex-box center-items justify-center">\r\n        <form class="form-horizontal login-form" role="form">\r\n          <div class="form-group">\r\n            <input type="text" class="form-control c-white" placeholder="账号"  ng-model="$ctrl.mobile" ng-keypress="($event.which === 13)?$ctrl.login():0">\r\n          </div>\r\n          <div class="form-group">\r\n            <input type="password" class="form-control c-white" placeholder="密码" ng-model="$ctrl.password"  ng-keypress="($event.which === 13)?$ctrl.login():0">\r\n          </div>\r\n          <div class="form-group lg">\r\n            <button type="button" class="btn btn-primary btn-block" ng-click="$ctrl.login()">登录</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'},function(e,t){e.exports='<div class="home-box">\r\n  <div class="home-top">\r\n    <h2>\r\n      待办事项\r\n      <i></i>\r\n    </h2>\r\n    <div class="list h-flex-box justify-between">\r\n      <div class="item">\r\n        <div class="item-l fl  h-flex-box justify-center center-items">\r\n          <img src="favicon.ico" alt="">\r\n        </div>\r\n        <div class="item-r fr h-flex-box justify-around center-items">\r\n          <p>\r\n            <span>登记初审</span>\r\n            <span class="num">0</span>\r\n          </p>\r\n          <p>\r\n            <span>登记初审</span>\r\n            <span class="num">0</span>\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div class="item">\r\n        <div class="item-l fl h-flex-box justify-center center-items">\r\n          <img src="favicon.ico" alt="">\r\n        </div>\r\n        <div class="item-r fr h-flex-box justify-around center-items">\r\n          <p>\r\n            <span>登记初审</span>\r\n            <span class="num">0</span>\r\n          </p>\r\n          <p>\r\n            <span>登记初审</span>\r\n            <span class="num">0</span>\r\n          </p>\r\n          <p>\r\n            <span>登记初审</span>\r\n            <span class="num">0</span>\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div class="item">\r\n        <div class="item-l fl  h-flex-box justify-center center-items">\r\n          <img src="favicon.ico" alt="">\r\n        </div>\r\n        <div class="item-r fr h-flex-box justify-around center-items">\r\n          <p>\r\n            <span>登记初审</span>\r\n            <span class="num">0</span>\r\n          </p>\r\n          <p>\r\n            <span>登记初审</span>\r\n            <span class="num">0</span>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="home-main">\r\n    <div class="home-center h-flex-box justify-between center-items">\r\n      <div class="manage-city raduis lg-card">\r\n        <div class="title">\r\n          <h2>\r\n            管理城市\r\n            <i></i>\r\n          </h2>\r\n          <span>{{$ctrl.cityList.length}}个城市</span>\r\n        </div>\r\n        <p class="text-center" ng-if="$ctrl.cityList.length == 0">暂无城市</p>\r\n        <ul class="address-list h-flex-box" ng-if="$ctrl.cityList.length > 0">\r\n          <li ng-repeat="city in $ctrl.cityList">{{city.cityName}}</li>\r\n        </ul>\r\n        \r\n      </div>\r\n      <div class="public raduis sm-card">\r\n        <div class="title">\r\n          <h2>\r\n            公告\r\n            <i></i>\r\n          </h2>\r\n        </div>\r\n        <ul class="public-list raduis">\r\n          <li class=" h-flex-box justify-between">\r\n            <span>放假前完成所有办公事务</span>\r\n            <span>2017-01-02</span>\r\n          </li>\r\n          <li class=" h-flex-box justify-between">\r\n            <span>放假前完成所有办公事务</span>\r\n            <span>2017-01-02</span>\r\n          </li>\r\n          <li class=" h-flex-box justify-between">\r\n            <span>放假前完成所有办公事务</span>\r\n            <span>2017-01-02</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <div class="home-bottom h-flex-box justify-between center-items">\r\n      <div class="user-info sm-card">\r\n        <div class="title no-border">\r\n          <h2>\r\n            个人信息\r\n            <i></i>\r\n          </h2>\r\n        </div>\r\n        <div class="mg">\r\n          <div class="header-box h-flex-box center-items">\r\n            <img class="fl" src="https://fms.ipinyou.com/5/0B/35/5F/F001Nl1Q-DPv000zQHig.jpg" alt="">\r\n            <div>\r\n              <p>\r\n                <span>用户名：</span>\r\n                <span ng-bind="$ctrl.user.realname"></span>\r\n              </p>\r\n              <p>\r\n                <span>用户角色：</span>\r\n                <span class="num"ng-bind="$ctrl.user.superAdmin?\'超级管理员\':\'\'"></span>\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <p class="mgg">\r\n            <span>性别：</span>\r\n            <span ng-bind="$ctrl.user.sex | kmSex:1"></span>\r\n          </p>\r\n          <p class="mgg">\r\n            <span>绑定手机：</span>\r\n            <span ng-bind="$ctrl.user.username"></span>\r\n          </p>\r\n        </div>\r\n\r\n\r\n      </div>\r\n      <div class="count-analysis lg-card">\r\n        <div class="title no-border">\r\n          <h2>\r\n            统计分析\r\n            <i></i>\r\n          </h2>\r\n        </div>\r\n        <div class="count-main">\r\n          <div class="list h-flex-box justify-between">\r\n            <div class="item">\r\n              <div class="item-l fl  h-flex-box justify-center center-items">\r\n                <img src="favicon.ico" alt="">\r\n              </div>\r\n              <div class="item-r fr h-flex-box justify-center ">\r\n                <p class="count">\r\n                 2030\r\n                </p> \r\n                <p class="text">\r\n                  宠物等级次数\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div class="item">\r\n                <div class="item-l fl  h-flex-box justify-center center-items">\r\n                  <img src="favicon.ico" alt="">\r\n                </div>\r\n                <div class="item-r fr h-flex-box justify-center ">\r\n                  <p class="count">\r\n                   2030\r\n                  </p> \r\n                  <p class="text">\r\n                    宠物等级次数\r\n                  </p>\r\n                </div>\r\n              </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>'},function(e,t){e.exports='<ul class="nav nav-stacked navbar">\r\n  \x3c!-- <li class="nav-brand">养犬管理</li> --\x3e\r\n  <li>\r\n    <a ui-sref="layout.management.register" ui-sref-active="active">登记初审</a>\r\n  </li>\r\n  <li>\r\n    <a ui-sref="layout.management.regResult" ui-sref-active="active">复审结果</a>\r\n  </li>\r\n  <li>\r\n    <a ui-sref="layout.management.dogs" ui-sref-active="active">犬只列表</a>\r\n  </li>\r\n  <li>\r\n    <a ui-sref="layout.management.keepers" ui-sref-active="active">犬主列表</a>\r\n  </li>\r\n</ul>\r\n<div id="scrolling-container" class="content-body">\r\n  <div class="scrolling-content">\r\n    <div class="manage-city h-flex-box clearfix" ng-if="$ctrl.cityListCtrl()">\r\n      <span>管理城市</span>\r\n      <ul>\r\n        <li class="fl" ng-repeat="city in $ctrl.cityList" ng-class="{active:city.active}" ng-bind="city.cityName" ng-click="$ctrl.chooseCity($index)"></li>\r\n      </ul>\r\n    </div>\r\n    <div ui-view></div>\r\n  </div>\r\n</div>'},function(e,t){e.exports='<ul class="nav nav-stacked navbar">\r\n  \x3c!-- <li class="nav-brand">执法运营</li> --\x3e\r\n  <li>\r\n    <a ui-sref="layout.enforcement.annualSurvey" ui-sref-active="active">犬只年检办理</a>\r\n  </li>\r\n  <li>\r\n    <a ui-sref="layout.enforcement.asList" ui-sref-active="active">犬只年检提示</a>\r\n  </li>\r\n  <li>\r\n    <a ui-sref="layout.enforcement.qList" ui-sref-active="active">犬只免疫提示</a>\r\n  </li>\r\n  <li>\r\n    <a ui-sref="layout.enforcement.study" ui-sref-active="active">违规学习</a>\r\n  </li>\r\n  \x3c!-- <li><a ui-sref="enforcement.dogClosed" ui-sref-active="active">已注销犬只</a></li> --\x3e\r\n</ul>\r\n<div id="scrolling-container" class="content-body">\r\n  <div class="scrolling-content">\r\n    <div class="manage-city h-flex-box clearfix" ng-if="$ctrl.cityListCtrl()">\r\n      <span>管理城市</span>\r\n      <ul>\r\n        <li class="fl" ng-repeat="city in $ctrl.cityList" ng-class="{active:city.active}" ng-bind="city.cityName" ng-click="$ctrl.chooseCity($index)"></li>\r\n      </ul>\r\n    </div>\r\n    <div ui-view></div>\r\n  </div>\r\n</div>'},function(e,t){e.exports='<ul class="nav nav-stacked navbar">\r\n  \x3c!-- <li class="nav-brand">设备管理</li> --\x3e\r\n  \x3c!-- <li><a ui-sref="layout.device.orders" ui-sref-active="active">订单列表</a></li>\r\n  <li><a ui-sref="layout.device.overview" ui-sref-active="active">设备总览</a></li> --\x3e\r\n  <li><a ui-sref="layout.device.exchange" ui-sref-active="active">换牌申请</a></li>\r\n  <li><a ui-sref="layout.device.returnList" ui-sref-active="active">退牌登记</a></li>\r\n</ul>\r\n<div id="scrolling-container" class="content-body">\r\n  <div class="scrolling-content">\r\n    <div class="manage-city h-flex-box clearfix" ng-if="$ctrl.cityListCtrl()">\r\n      <span>管理城市</span>\r\n      <ul>\r\n        <li class="fl" ng-repeat="city in $ctrl.cityList" ng-class="{active:city.active}" ng-bind="city.cityName" ng-click="$ctrl.chooseCity($index)"></li>\r\n      </ul>\r\n    </div>\r\n    <div ui-view></div>\r\n  </div>\r\n</div>'},function(e,t){e.exports='<ul class="nav nav-stacked navbar">\r\n  <li>\r\n      \x3c!-- <a ui-sref="layout.publish.advert" ui-sref-active="active">广告管理</a> --\x3e\r\n    <a ui-sref="layout.publish.lose" ui-sref-active="active">宠物丢失</a>\r\n    <a ui-sref="layout.publish.top" ui-sref-active="active">宠物头条</a>\r\n    <a ui-sref="layout.publish.petShow" ui-sref-active="active">萌宠秀</a>\r\n  </li>\r\n\r\n</ul>\r\n<div id="scrolling-container" class="content-body" ui-view>\r\n\r\n</div>'},function(e,t){e.exports="<div ui-view></div>"},function(e,t){e.exports='<div class="scrolling-content">\r\n  <form class="search-form search-form-dog" ng-class="{\'advanced-search-mode v-flex-box\':$ctrl.isAdvSearchMode, \'form-inline h-flex-box\':!$ctrl.isAdvSearchMode}"\r\n    name="dog_search" role="form">\r\n    <input ng-if="!$ctrl.isAdvSearchMode" type="text" class="form-control" placeholder="输入养犬登记证号精确查询" ng-model="$ctrl.condition.petNo" />\r\n    <div ng-if="$ctrl.isAdvSearchMode" class="advanced-search-bar">\r\n      <div km-dt-range-picker input-format="YYYY-MM-DD" label="登记日期" between-label="到" start-placeholder="开始日期"\r\n        end-placeholder="结束日期" min-view="day" start-time="$ctrl.condition.minRegisterDate" end-time="$ctrl.condition.maxRegisterDate"></div>\r\n      <div class="h-flex-box justify-between">\r\n        <div class="form-group h-flex-box">\r\n          <label>年检状态</label>\r\n          <select class="form-control" ng-model="$ctrl.condition.annaulSurvey">\r\n            <option value="">不限</option>\r\n            <option value="1">正常</option>\r\n            <option value="2">逾期</option>\r\n          </select>\r\n        </div>\r\n        <div class="form-group h-flex-box">\r\n          <label>免疫状态</label>\r\n          <select class="form-control" ng-model="$ctrl.condition.quarantine">\r\n            <option value="">不限</option>\r\n            <option value="1">正常</option>\r\n            <option value="2">逾期</option>\r\n          </select>\r\n        </div>\r\n        <div class="form-group h-flex-box">\r\n          <label>品种</label>\r\n          <select class="form-control" ng-model="$ctrl.condition.breed">\r\n            <option value="">不限</option>\r\n            <option value="贵宾">贵宾</option>\r\n            <option value="金毛">金毛</option>\r\n            <option value="萨摩耶">萨摩耶</option>\r\n            <option value="边牧">边牧</option>\r\n            <option value="阿拉斯加">阿拉斯加</option>\r\n            <option value="哈士奇">哈士奇</option>\r\n          </select>\r\n        </div>\r\n        <div class="form-group h-flex-box">\r\n          <label>犬龄</label>\r\n          <div class="form-control-group h-flex-box">\r\n            <select class="form-control" ng-model="$ctrl.transform.Age.key">\r\n              <option value="">不限</option>\r\n              <option value="min">超过</option>\r\n              <option value="max">不超过</option>\r\n            </select>\r\n            <select class="form-control" ng-model="$ctrl.transform.Age.value" ng-show="$ctrl.transform.Age.key">\r\n              <option value="3">3个月</option>\r\n              <option value="12">1年</option>\r\n              <option value="24">2年</option>\r\n              <option value="36">3年</option>\r\n              <option value="60">5年</option>\r\n              <option value="120">10年</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="search-form-actions h-flex-box">\r\n      <button class="btn btn-link" ng-click="$ctrl.toggleSearchMode()">{{$ctrl.isAdvSearchMode?\'普通\':\'高级\'}}搜索</button>\r\n      <button class="btn btn-primary" ng-click="$ctrl.search()">查询</button>\r\n      <button class="btn btn-default" ng-click="$ctrl.reset()">清空</button>\r\n    </div>\r\n  </form>\r\n  <div class="list dog-list">\r\n    <div class="h-flex-box list-header">\r\n      <div class="h-flex-box center-items">犬证号</div>\r\n      <div class="h-flex-box center-items">品种</div>\r\n      <div class="h-flex-box center-items">毛色</div>\r\n      <div class="h-flex-box center-items">年龄</div>\r\n      <div class="h-flex-box center-items">性别</div>\r\n      <div class="h-flex-box center-items">登记日期</div>\r\n      <div class="h-flex-box center-items">应年检日期</div>\r\n      <div class="h-flex-box center-items">免疫证号</div>\r\n      <div class="h-flex-box center-items">设备号</div>\r\n      <div class="h-flex-box center-items action-group-col">操作</div>\r\n    </div>\r\n    <div class="h-flex-box list-row" ng-repeat="dog in $ctrl.data">\r\n      <div class="h-flex-box center-items" ng-bind="dog.petNo"></div>\r\n      <div class="h-flex-box center-items" ng-bind="dog.breed|_code2Value:$ctrl.breedDict"></div>\r\n      <div class="h-flex-box center-items" ng-bind="dog.color|_code2Value:$ctrl.colorDict"></div>\r\n      <div class="h-flex-box center-items" ng-bind="dog.birthday|kmAge"></div>\r\n      <div class="h-flex-box center-items" ng-bind="dog.sex|kmSex:1"></div>\r\n      <div class="h-flex-box center-items" ng-bind="dog.authTime|kmDate"></div>\r\n      <div class="h-flex-box center-items" ng-bind="dog.nextAnnualSurveyTime|kmDate"></div>\r\n      <div class="h-flex-box center-items" ng-bind="dog.quarantineNo||\'无\'"></div>\r\n      <div class="h-flex-box center-items" ng-bind="dog.cardNo||\'已解绑\'"></div>\r\n      <div class="h-flex-box center-items action-group-col">\r\n        <a class="btn btn-link" ng-click="$ctrl.gotoState(\'layout.management.dogs.dogDetail\',{id:dog.petId})">详情</a>\r\n        <a class="btn btn-link" ng-click="$ctrl.gotoState(\'layout.enforcement.dogFines.todo\',{id:dog.petId})">违规</a>\r\n      </div>\r\n    </div>\r\n    <div class="h-flex-box list-footer" ng-class="{\'no-data\': $ctrl.data===0, \'loading\': $ctrl.data===false, \'failure\': $ctrl.data===\'\'}">\r\n      <div class="km-pagination align-right" current-page="$ctrl.currentPage" items-per-page="$ctrl.itemsPerPage" on-page-change="$ctrl.loadData()"\r\n        redirect="true" />\r\n    </div>\r\n  </div>\r\n</div>'},function(e,t){e.exports='<div class="back-to-previous">\r\n  <span>犬只详情</span>\r\n  <button class="btn btn-xs btn-default align-right" ng-click="$ctrl.back()">返回上一页</button>\r\n</div>\r\n<div class="km-slider" km-slide-mode="tab" km-tab-container-class="h-flex-box page-tabs" km-tab-class="tab">\r\n  <div class="km-slide km-form pet-info" km-title="犬只信息">\r\n    <fieldset>\r\n      <h3>基本信息</h3>\r\n      <div class="form-group">\r\n        <label>宠物名称：</label>\r\n        <span>{{$ctrl.pet.nickname}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>性别：</label>\r\n        <span>{{$ctrl.pet.sex|kmSex:1}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>宠物品种：</label>\r\n        <span>{{$ctrl.pet.breed|_code2Value:$ctrl.breedDict}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>毛色：</label>\r\n        <span>{{$ctrl.pet.color|_code2Value:$ctrl.colorDict}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>申请用途：</label>\r\n        <span>{{$ctrl.pet.purpose|_purpose}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>出生日期：</label>\r\n        <span>{{$ctrl.pet.birthday|kmDtFormated:\'yyyy年MM月dd日\'}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>犬龄：</label>\r\n        <span>{{$ctrl.pet.birthday|kmAge}}</span>\r\n      </div>\r\n    </fieldset>\r\n    <fieldset>\r\n      <h3>管理信息</h3>\r\n      <div class="form-group">\r\n        <label>犬证号：</label>\r\n        <span>{{$ctrl.pet.petNo}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>设备号：</label>\r\n        <span>{{$ctrl.pet.cardNo||\'已解绑\'}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>芯片号：</label>\r\n        <span>{{$ctrl.pet.chipNo||\'无\'}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>免疫证号：</label>\r\n        <span>{{$ctrl.pet.quarantineNo||\'无\'}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>绝育证号：</label>\r\n        <span>{{$ctrl.pet.sterilizationNo||\'无\'}}</span>\r\n      </div>\r\n    </fieldset>\r\n    <fieldset>\r\n      <h3>业务信息</h3>\r\n      <div class="form-group">\r\n        <label>登记日期：</label>\r\n        <span>{{$ctrl.pet.authTime|kmDtFormated:\'yyyy年MM月dd日\'}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>应年检日期：</label>\r\n        <span>{{$ctrl.pet.nextAnnualSurveyTime|kmDtFormated:\'yyyy年MM月dd日\'}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>建议免疫日期：</label>\r\n        <span>{{$ctrl.pet.nextQuarantineTime|kmDtFormated:\'yyyy年MM月dd日\'}}</span>\r\n      </div>\r\n    </fieldset>\r\n  </div>\r\n  <div class="km-slide km-form keeper-info" km-title="犬主信息" on-initiate="$ctrl.getKeeper()">\r\n    <fieldset>\r\n      <h3>基本信息</h3>\r\n      <div class="form-group">\r\n        <label>电话：</label>\r\n        <span>{{$ctrl.keeper.phone}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>性别：</label>\r\n        <span>{{$ctrl.keeper.sex|kmSex}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>年龄：</label>\r\n        <span>{{$ctrl.keeper.birthday|kmAge}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>出生日期：</label>\r\n        <span>{{$ctrl.keeper.birthday|kmDtFormated:\'yyyy年MM月dd日\'}}</span>\r\n      </div>\r\n    </fieldset>\r\n    <fieldset>\r\n      <h3>实名信息</h3>\r\n      <div class="form-group">\r\n        <label>姓名：</label>\r\n        <span>{{$ctrl.keeper.realname}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>证件类型：</label>\r\n        <span>{{$ctrl.keeper.cardType|_cardType}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>证件号：</label>\r\n        <span>{{$ctrl.keeper.cardNo}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>住址：</label>\r\n        <span>{{$ctrl.keeper.addressDetail}}</span>\r\n      </div>\r\n    </fieldset>\r\n    <fieldset>\r\n      <h3>业务信息</h3>\r\n      <div class="form-group">\r\n        <label>宠物数量：</label>\r\n        <span>{{$ctrl.keeper.petCount}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>本期扣分：</label>\r\n        <span>{{$ctrl.keeper.credit}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>违规次数：</label>\r\n        <span>{{$ctrl.keeper.fineCount}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>学习次数：</label>\r\n        <span>{{$ctrl.keeper.studyCount}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>警告次数：</label>\r\n        <span>{{$ctrl.keeper.warningCountCurrent}}</span>\r\n      </div>\r\n    </fieldset>\r\n  </div>\r\n  <div class="km-slide" km-title="年检记录" on-initiate="$ctrl.getAsList()">\r\n    <div class="list dog-as-list">\r\n      <div class="h-flex-box list-header">\r\n        <div class="h-flex-box center-items">年检日期</div>\r\n        <div class="h-flex-box center-items">状态</div>\r\n        <div class="h-flex-box center-items">操作人员</div>\r\n      </div>\r\n      <div class="h-flex-box list-row" ng-repeat="record in $ctrl.asList">\r\n        <div class="h-flex-box center-items" ng-bind="record.annualSurveyTime|kmDate"></div>\r\n        <div class="h-flex-box center-items" ng-bind="record.status|_asStatus"></div>\r\n        <div class="h-flex-box center-items" ng-bind="record.name"></div>\r\n      </div>\r\n      <div class="h-flex-box list-footer" ng-class="{\'no-data\': $ctrl.asList===0, \'loading\': $ctrl.asList===false, \'failure\': $ctrl.asList===\'\'}"></div>\r\n    </div>\r\n  </div>\r\n  <div class="km-slide" km-title="免疫记录" on-initiate="$ctrl.getQList()">\r\n    <div class="list dog-q-list">\r\n      <div class="h-flex-box list-header">\r\n        <div class="h-flex-box center-items">免疫日期</div>\r\n        <div class="h-flex-box center-items">疫苗</div>\r\n        <div class="h-flex-box center-items">接种单位</div>\r\n      </div>\r\n      <div class="h-flex-box list-row" ng-repeat="record in $ctrl.qList">\r\n        <div class="h-flex-box center-items" ng-bind="record.quarantineTime|kmDate"></div>\r\n        <div class="h-flex-box center-items" ng-bind="record.vaccineName"></div>\r\n        <div class="h-flex-box center-items" ng-bind="record.agenciesName"></div>\r\n      </div>\r\n      <div class="h-flex-box list-footer" ng-class="{\'no-data\': $ctrl.qList===0, \'loading\': $ctrl.qList===false, \'failure\': $ctrl.qList===\'\'}"></div>\r\n    </div>\r\n  </div>\r\n</div>'},function(e,t){e.exports='<div class="scrolling-content">\r\n  <form class="search-form search-form-keeper" ng-class="{\'advanced-search-mode v-flex-box\':$ctrl.isAdvSearchMode, \'form-inline h-flex-box\':!$ctrl.isAdvSearchMode}" role="form">\r\n    <div ng-if="!$ctrl.isAdvSearchMode" class="form-control-group h-flex-box">\r\n      <select class="form-control" ng-model="$ctrl.transform.$name.key">\r\n        <option value="phone" selected>手机号</option>\r\n        <option value="cardNo">证件号</option>\r\n      </select>\r\n      <input type="text" class="form-control" placeholder="{{\'输入\'+($ctrl.transform.$name.key==\'phone\'?\'手机\':\'证件\')+\'号精确查询\'}}" ng-model="$ctrl.transform.$name.value" />\r\n    </div>\r\n    <div ng-if="$ctrl.isAdvSearchMode" class="advanced-search-bar">\r\n      <div class="h-flex-box justify-between">\r\n        <div class="form-group h-flex-box">\r\n          <label>性别</label>\r\n          <select class="form-control" ng-model="$ctrl.condition.sex">\r\n            <option value="">不限</option>\r\n            <option value="1">男</option>\r\n            <option value="2">女</option>\r\n          </select>\r\n        </div>\r\n        <div class="form-group h-flex-box">\r\n          <label>养犬数量</label>\r\n          <div class="form-control-group h-flex-box">\r\n            <select class="form-control" ng-model="$ctrl.transform.PetCount.key">\r\n              <option value="">不限</option>\r\n              <option value="min">超过</option>\r\n              <option value="max">不超过</option>\r\n            </select>\r\n            <select class="form-control" ng-model="$ctrl.transform.PetCount.value" ng-show="$ctrl.transform.PetCount.key">\r\n              <option value="1">1</option>\r\n              <option value="2">2</option>\r\n              <option value="3">3</option>\r\n              <option value="5">5</option>\r\n              <option value="10">10</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="search-form-actions h-flex-box">\r\n      <button class="btn btn-link" ng-click="$ctrl.toggleSearchMode()">{{$ctrl.isAdvSearchMode?\'普通\':\'高级\'}}搜索</button>\r\n      <button class="btn btn-primary" ng-click="$ctrl.search()">查询</button>\r\n      <button class="btn btn-default" ng-click="$ctrl.reset()">清空</button>\r\n    </div>\r\n  </form>\r\n  <div class="list keeper-list">\r\n    <div class="h-flex-box list-header">\r\n      <div class="h-flex-box center-items">姓名</div>\r\n      <div class="h-flex-box center-items">联系电话</div>\r\n      <div class="h-flex-box center-items">地址</div>\r\n      <div class="h-flex-box center-items">犬只数量</div>\r\n      <div class="h-flex-box center-items">违规次数</div>\r\n      <div class="h-flex-box center-items">累计扣分</div>\r\n      <div class="h-flex-box center-items action-group-col">操作</div>\r\n    </div>\r\n    <div class="h-flex-box list-row" ng-repeat="keeper in $ctrl.data">\r\n      <div class="h-flex-box center-items" ng-bind="keeper.realname"></div>\r\n      <div class="h-flex-box center-items" ng-bind="keeper.phone"></div>\r\n      <div class="h-flex-box center-items" ng-bind="keeper.addressDetail"></div>\r\n      <div class="h-flex-box center-items" ng-bind="keeper.petCount"></div>\r\n      <div class="h-flex-box center-items" ng-bind="keeper.fineCount"></div>\r\n      <div class="h-flex-box center-items" ng-bind="keeper.credit"></div>\r\n      <div class="h-flex-box center-items action-group-col">\r\n        <a class="btn btn-link" ng-click="$ctrl.gotoState(\'layout.management.keeperDetail\',{id:keeper.userId})">详情</a>\r\n        <a class="btn btn-link" ng-click="$ctrl.gotoState(\'layout.enforcement.keeperFines.todo\',{id:keeper.userId})">违规</a>\r\n      </div>\r\n    </div>\r\n    <div class="h-flex-box list-footer" ng-class="{\'no-data\': $ctrl.data===0, \'loading\': $ctrl.data===false, \'failure\': $ctrl.data===\'\'}">\r\n      <div class="km-pagination align-right" current-page="$ctrl.currentPage" items-per-page="$ctrl.itemsPerPage" on-page-change="$ctrl.loadData()"\r\n        redirect="true" />\r\n    </div>\r\n  </div>\r\n</div>'},function(e,t){e.exports='<div class="back-to-previous">\r\n  <span>犬主详情</span>\r\n  <button class="btn btn-xs btn-default align-right" ng-click="$ctrl.back()">返回上一页</button>\r\n</div>\r\n<div class="km-slider" km-slide-mode="tab" km-tab-container-class="h-flex-box page-tabs" km-tab-class="tab">\r\n  <div class="km-slide km-form keeper-info" km-title="犬主信息">\r\n    <fieldset>\r\n      <h3>基本信息</h3>\r\n      <div class="form-group">\r\n        <label>电话：</label>\r\n        <span>{{$ctrl.keeper.phone}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>性别：</label>\r\n        <span>{{$ctrl.keeper.sex|kmSex}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>年龄：</label>\r\n        <span>{{$ctrl.keeper.birthday|kmAge}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>出生日期：</label>\r\n        <span>{{$ctrl.keeper.birthday|kmDtFormated:\'yyyy年MM月dd日\'}}</span>\r\n      </div>\r\n    </fieldset>\r\n    <fieldset>\r\n      <h3>实名信息</h3>\r\n      <div class="form-group">\r\n        <label>姓名：</label>\r\n        <span>{{$ctrl.keeper.realname}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>证件类型：</label>\r\n        <span>{{$ctrl.keeper.cardType|_cardType}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>证件号：</label>\r\n        <span>{{$ctrl.keeper.cardNo}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>住址：</label>\r\n        <span>{{$ctrl.keeper.addressDetail}}</span>\r\n      </div>\r\n    </fieldset>\r\n    <fieldset>\r\n      <h3>业务信息</h3>\r\n      <div class="form-group">\r\n        <label>宠物数量：</label>\r\n        <span>{{$ctrl.keeper.petCount}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>本期扣分：</label>\r\n        <span>{{$ctrl.keeper.credit}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>违规次数：</label>\r\n        <span>{{$ctrl.keeper.fineCount}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>学习次数：</label>\r\n        <span>{{$ctrl.keeper.studyCount}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>警告次数：</label>\r\n        <span>{{$ctrl.keeper.warningCountCurrent}}</span>\r\n      </div>\r\n    </fieldset>\r\n  </div>\r\n  <div class="km-slide km-form pet-info" km-title="{{\'犬只\'+(1+$index)}}" ng-repeat="dog in $ctrl.dogs track by $index" resolve-data="$ctrl.getDog($index)">\r\n    \x3c!-- <img ng-src="{{$ctrl.data.photoFront}}" /> --\x3e\r\n    <fieldset>\r\n      <h3>基本信息</h3>\r\n      <div class="form-group">\r\n        <label>宠物名称：</label>\r\n        <span>{{$ctrl.data.nickname}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>性别：</label>\r\n        <span>{{$ctrl.data.sex|kmSex:1}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>宠物品种：</label>\r\n        <span>{{$ctrl.data.breed}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>毛色：</label>\r\n        <span>{{$ctrl.data.color}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>申请用途：</label>\r\n        <span>{{$ctrl.data.purpose|_purpose}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>出生日期：</label>\r\n        <span>{{$ctrl.data.birthday|kmDtFormated:\'yyyy年MM月dd日\'}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>犬龄：</label>\r\n        <span>{{$ctrl.data.birthday|kmAge}}</span>\r\n      </div>\r\n    </fieldset>\r\n    <fieldset>\r\n      <h3>管理信息</h3>\r\n      <div class="form-group">\r\n        <label>犬证号：</label>\r\n        <span>{{$ctrl.data.petNo}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>设备号：</label>\r\n        <span>{{$ctrl.data.cardNo||\'已解绑\'}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>芯片号：</label>\r\n        <span>{{$ctrl.data.chipNo||\'无\'}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>免疫证号：</label>\r\n        <span>{{$ctrl.data.quarantineNo||\'无\'}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>绝育证号：</label>\r\n        <span>{{$ctrl.data.sterilizationNo||\'无\'}}</span>\r\n      </div>\r\n    </fieldset>\r\n    <fieldset>\r\n      <h3>业务信息</h3>\r\n      <div class="form-group">\r\n        <label>登记日期：</label>\r\n        <span>{{$ctrl.data.authTime|kmDtFormated:\'yyyy年MM月dd日\'}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>应年检日期：</label>\r\n        <span>{{$ctrl.data.nextAnnualSurveyTime|kmDtFormated:\'yyyy年MM月dd日\'}}</span>\r\n      </div>\r\n      <div class="form-group">\r\n        <label>建议免疫日期：</label>\r\n        <span>{{$ctrl.data.nextQuarantineTime|kmDtFormated:\'yyyy年MM月dd日\'}}</span>\r\n      </div>\r\n    </fieldset>\r\n  </div>\r\n</div>'},function(e,t){e.exports='<div class="back-to-previous">\r\n  <span>{{$ctrl.extCondition.petId?\'犬只\':\'犬主\'}}处罚记录</span>\r\n  <button class="btn btn-xs btn-default align-right" ng-click="$ctrl.back()">返回上一页</button>\r\n</div>\r\n<div class="scrolling-content">\r\n  <ul class="h-flex-box page-tabs" ng-if="$ctrl.extCondition.petOwnerId">\r\n    <li class="tab"><a ui-sref="enforcement.keeperFines.todo" ui-sref-opts="{location:\'replace\'}" ui-sref-active="active">未处理</a></li>\r\n    <li class="tab"><a ui-sref="enforcement.keeperFines.completed" ui-sref-opts="{location:\'replace\'}" ui-sref-active="active">已处理</a></li>\r\n  </ul>\r\n  <ul class="h-flex-box page-tabs" ng-if="!$ctrl.extCondition.petOwnerId">\r\n    <li class="tab"><a ui-sref="enforcement.dogFines.todo" ui-sref-opts="{location:\'replace\'}" ui-sref-active="active">未处理</a></li>\r\n    <li class="tab"><a ui-sref="enforcement.dogFines.completed" ui-sref-opts="{location:\'replace\'}" ui-sref-active="active">已处理</a></li>\r\n  </ul>\r\n  <div class="list fine-list">\r\n    <div class="h-flex-box list-header">\r\n      <div class="h-flex-box center-items">违规日期</div>\r\n      <div class="h-flex-box center-items">违规类型</div>\r\n      <div class="h-flex-box center-items">扣分</div>\r\n      <div class="h-flex-box center-items">罚款</div>\r\n      <div class="h-flex-box center-items">地点</div>\r\n      <div class="h-flex-box center-items">执法人员</div>\r\n      <div class="h-flex-box center-items" ng-if="$ctrl.extCondition.petOwnerId">犬只</div>\r\n      <div class="h-flex-box center-items" ng-if="$ctrl.extCondition.petOwnerId">品种</div>\r\n      <div class="h-flex-box center-items action-group-col">操作</div>\r\n    </div>\r\n    <div class="h-flex-box list-row" ng-repeat="record in $ctrl.data">\r\n      <div class="h-flex-box center-items" ng-bind="record.fineTime|kmDate"></div>\r\n      <div class="h-flex-box center-items" ng-bind="record.violationTypeId|_code2Value:$ctrl.violationDict"></div>\r\n      <div class="h-flex-box center-items" ng-bind="record.credit"></div>\r\n      <div class="h-flex-box center-items" ng-bind="record.fine"></div>\r\n      <div class="h-flex-box center-items" ng-bind="record.addressDetail"></div>\r\n      <div class="h-flex-box center-items" ng-bind="record.operator"></div>\r\n      <div class="h-flex-box center-items" ng-if="$ctrl.extCondition.petOwnerId" ng-bind="record.petNo"></div>\r\n      <div class="h-flex-box center-items" ng-if="$ctrl.extCondition.petOwnerId" ng-bind="record.breed|_code2Value:$ctrl.breedDict"></div>\r\n      <div class="h-flex-box center-items action-group-col">\r\n        <a class="btn btn-link" ng-click="$ctrl.viewDetail(record)">详情</a>\r\n      </div>\r\n    </div>\r\n    <div class="h-flex-box list-footer" ng-class="{\'no-data\': $ctrl.data===0, \'loading\': $ctrl.data===false, \'failure\': $ctrl.data===\'\'}">\r\n      <div class="km-pagination align-right" current-page="$ctrl.currentPage" items-per-page="$ctrl.itemsPerPage" on-page-change="$ctrl.loadData()"\r\n        redirect="true" />\r\n    </div>\r\n  </div>\r\n</div>'},function(e,t){e.exports='<div>\r\n  <ul class="h-flex-box page-tabs">\r\n    <li class="tab">\r\n      <a ui-sref="layout.management.register.todo" ui-sref-active="active">待审核</a>\r\n    </li>\r\n    <li class="tab">\r\n      <a ui-sref="layout.management.register.rejected" ui-sref-active="active">已驳回</a>\r\n    </li>\r\n    <li class="tab">\r\n      <a ui-sref="layout.management.register.passed" ui-sref-active="active">已通过</a>\r\n    </li>\r\n    <li class="tab align-right">\r\n      <button class="btn btn-primary" style="border-radius:25px;" ng-click="$ctrl.register()">\r\n        <i class="fa fa-plus-circle"></i>犬只登记</button>\r\n    </li>\r\n  </ul>\r\n  <div class="list register-list" ng-class="{\'toggle-col-hidden\':$ctrl.status>1}">\r\n    <div class="h-flex-box list-header">\r\n      \x3c!-- <div class="h-flex-box center-items toggle-col">\r\n        <input type="checkbox" ng-model="$ctrl.allSelected" ng-click="$ctrl.toggleAll($event)" />\r\n      </div> --\x3e\r\n      <div class="h-flex-box center-items">申请人</div>\r\n      <div class="h-flex-box center-items">年龄</div>\r\n      <div class="h-flex-box center-items">联系电话</div>\r\n      <div class="h-flex-box center-items">地址</div>\r\n      <div class="h-flex-box center-items">犬种</div>\r\n      <div class="h-flex-box center-items">用途</div>\r\n      <div class="h-flex-box center-items">{{($ctrl.status==2?\'驳回\':($ctrl.status==7?\'通过\':\'提交\'))+\'日期\'}}</div>\r\n      <div class="h-flex-box center-items action-group-col" ng-class="{\'status-inprogress\':$ctrl.status>1}">操作</div>\r\n    </div>\r\n    <div class="h-flex-box list-row" ng-repeat="register in $ctrl.data">\r\n      \x3c!-- <div class="h-flex-box center-items toggle-col">\r\n        <input type="checkbox" ng-model="register.selected" />\r\n      </div> --\x3e\r\n      <div class="h-flex-box center-items" ng-bind="register.realname"></div>\r\n      <div class="h-flex-box center-items" ng-bind="register.birthday|kmAge:\'year\'"></div>\r\n      <div class="h-flex-box center-items" ng-bind="register.phone"></div>\r\n      <div class="h-flex-box center-items" ng-bind="register.addressDetail"></div>\r\n      <div class="h-flex-box center-items" ng-bind="register.breed|_code2Value:$ctrl.breedDict"></div>\r\n      <div class="h-flex-box center-items" ng-bind="register.purpose|_purpose"></div>\r\n      <div class="h-flex-box center-items" ng-bind="register.time|kmDate"></div>\r\n      <div class="h-flex-box center-items action-group-col" ng-class="{\'status-inprogress\':$ctrl.status>1}">\r\n        <a class="btn btn-link" ng-click="$ctrl.viewDetail(register)">查看</a>\r\n        \x3c!-- <a class="btn btn-link" ng-click="$ctrl.pass(register)">通过</a> --\x3e\r\n      </div>\r\n    </div>\r\n    <div class="h-flex-box list-footer" ng-class="{\'no-data\': $ctrl.data===0, \'loading\': $ctrl.data===false, \'failure\': $ctrl.data===\'\'}">\r\n      <div class="h-flex-box action-group" ng-if="$ctrl.status==1">\r\n        \x3c!-- <div class="h-flex-box center-items toggle-col">\r\n          <input type="checkbox" ng-model="$ctrl.allSelected" ng-click="$ctrl.toggleAll($event)" />\r\n        </div>\r\n        <button class="btn btn-default" ng-class="{\'disabled\':!$ctrl.someSelected}" ng-click="$ctrl.pass()">批量通过</button> --\x3e\r\n      </div>\r\n      <div class="km-pagination align-right" current-page="$ctrl.currentPage" items-per-page="$ctrl.itemsPerPage" on-page-change="$ctrl.loadData()"\r\n        redirect="true" />\r\n    </div>\r\n  </div>\r\n</div>'},function(e,t){e.exports='<div class="scrolling-content">\r\n  <ul class="h-flex-box page-tabs">\r\n    <li class="tab"><a ui-sref="layout.management.regResult.todo" ui-sref-active="active">已通过</a></li>\r\n    <li class="tab"><a ui-sref="layout.management.regResult.rejected" ui-sref-active="active">已驳回</a></li>\r\n  </ul>\r\n  <div class="list register-result-list">\r\n    <div class="h-flex-box list-header">\r\n      <div class="h-flex-box center-items">申请人</div>\r\n      <div class="h-flex-box center-items">年龄</div>\r\n      <div class="h-flex-box center-items">联系电话</div>\r\n      <div class="h-flex-box center-items">地址</div>\r\n      <div class="h-flex-box center-items">犬种</div>\r\n      <div class="h-flex-box center-items">用途</div>\r\n      <div class="h-flex-box center-items">{{($ctrl.extCondition.status==11?\'驳回\':\'通过\')+\'日期\'}}</div>\r\n      <div class="h-flex-box center-items">通知</div>\r\n      <div ng-if="$ctrl.extCondition.status==15" class="h-flex-box center-items">犬证号</div>\r\n      <div class="h-flex-box center-items action-group-col" ng-class="{\'status-rejected\':$ctrl.extCondition.status==11}">操作</div>\r\n    </div>\r\n    <div class="h-flex-box list-row" ng-repeat="register in $ctrl.data">\r\n      <div class="h-flex-box center-items" ng-bind="register.realname"></div>\r\n      <div class="h-flex-box center-items" ng-bind="register.birthday|kmAge:\'year\'"></div>\r\n      <div class="h-flex-box center-items" ng-bind="register.phone"></div>\r\n      <div class="h-flex-box center-items" ng-bind="register.addressDetail"></div>\r\n      <div class="h-flex-box center-items" ng-bind="register.breed|_code2Value:$ctrl.breedDict"></div>\r\n      <div class="h-flex-box center-items" ng-bind="register.purpose|_purpose"></div>\r\n      <div class="h-flex-box center-items" ng-bind="register.time|kmDate"></div>\r\n      <div class="h-flex-box center-items" ng-bind="register.noticeStatus|kmBool"></div>\r\n      <div ng-if="$ctrl.extCondition.status==15" class="h-flex-box center-items" ng-bind="register.petNo"></div>\r\n      <div class="h-flex-box center-items action-group-col" ng-class="{\'status-rejected\':$ctrl.extCondition.status==11}">\r\n        <a class="btn btn-link" ng-click="$ctrl.viewDetail(register)">{{$ctrl.extCondition.status==11?\'查看\':\'关联设备\'}}</a>\r\n      </div>\r\n    </div>\r\n    <div class="h-flex-box list-footer" ng-class="{\'no-data\': $ctrl.data===0, \'loading\': $ctrl.data===false, \'failure\': $ctrl.data===\'\'}">\r\n      <div class="km-pagination align-right" current-page="$ctrl.currentPage" items-per-page="$ctrl.itemsPerPage" on-page-change="$ctrl.loadData()"\r\n        redirect="true" />\r\n    </div>\r\n  </div>\r\n</div>'},function(e,t){e.exports='<div class="scrolling-content">\r\n  <form class="search-form search-form-appoint form-inline h-flex-box" role="form">\r\n    <div class="form-control-group h-flex-box">\r\n      <select class="form-control" ng-model="$ctrl.transform.$name.key">\r\n        <option value="phone" selected>手机号</option>\r\n        <option value="cardNo">证件号</option>\r\n        <option value="petNo">犬证号</option>\r\n      </select>\r\n      <input type="text" class="form-control" placeholder="{{\'输入\'+($ctrl.transform.$name.key==\'phone\'?\'手机\':($ctrl.transform.$name.key==\'cardNo\'?\'证件\':\'犬证\'))+\'号精确查询\'}}" ng-model="$ctrl.transform.$name.value" />\r\n    </div>\r\n    <div class="search-form-actions h-flex-box">\r\n      <button class="btn btn-primary" ng-click="$ctrl.search()">查询</button>\r\n      <button class="btn btn-default" ng-click="$ctrl.reset()">清空</button>\r\n    </div>\r\n  </form>\r\n  <div class="list annual-survey-appoint-list">\r\n    <div class="h-flex-box list-header">\r\n      <div class="h-flex-box center-items">犬证号</div>\r\n      <div class="h-flex-box center-items">品种</div>\r\n      <div class="h-flex-box center-items">用途</div>\r\n      <div class="h-flex-box center-items">毛色</div>\r\n      <div class="h-flex-box center-items">犬主</div>\r\n      <div class="h-flex-box center-items">联系电话</div>\r\n      <div class="h-flex-box center-items action-group-col">操作</div>\r\n    </div>\r\n    <div class="h-flex-box list-row" ng-repeat="record in $ctrl.data">\r\n      <div class="h-flex-box center-items">\r\n        <a class="btn btn-link btn-text" ng-click="$ctrl.gotoState(\'management.dogDetail\',{id:record.petId})" ng-bind="record.petNo"></a>\r\n      </div>\r\n      <div class="h-flex-box center-items" ng-bind="record.breed|_code2Value:$ctrl.breedDict"></div>\r\n      <div class="h-flex-box center-items" ng-bind="record.purpose|_purpose"></div>\r\n      <div class="h-flex-box center-items" ng-bind="record.color|_code2Value:$ctrl.colorDict"></div>\r\n      <div class="h-flex-box center-items">\r\n        <a class="btn btn-link btn-text" ng-click="$ctrl.gotoState(\'management.keeperDetail\',{id:record.petOwnerId})" ng-bind="record.realname"></a>\r\n      </div>\r\n      <div class="h-flex-box center-items" ng-bind="record.phone"></div>\r\n      <div class="h-flex-box center-items action-group-col">\r\n        <a class="btn btn-link" ng-click="$ctrl.viewDetail(record)">开始年检</a>\r\n      </div>\r\n    </div>\r\n    <div class="h-flex-box list-footer" ng-class="{\'no-data\': $ctrl.data===0, \'loading\': $ctrl.data===false, \'failure\': $ctrl.data===\'\'}">\r\n      <div class="km-pagination align-right" current-page="$ctrl.currentPage" items-per-page="$ctrl.itemsPerPage" on-page-change="$ctrl.loadData()"\r\n        redirect="true" />\r\n    </div>\r\n  </div>\r\n</div>'},function(e,t){e.exports='<div class="scrolling-content">\r\n  <ul class="h-flex-box page-tabs">\r\n    <li class="tab"><a ui-sref="layout.enforcement.asList.todo" ui-sref-active="active">30天内年检</a></li>\r\n    <li class="tab"><a ui-sref="layout.enforcement.asList.overdue" ui-sref-active="active">年检逾期</a></li>\r\n  </ul>\r\n  <div class="list annual-survey-list">\r\n    <div class="h-flex-box list-header">\r\n      <div class="h-flex-box center-items toggle-col"><input type="checkbox" ng-model="$ctrl.allSelected" ng-click="$ctrl.toggleAll($event)" /></div>\r\n      <div class="h-flex-box center-items">犬证号</div>\r\n      <div class="h-flex-box center-items">品种</div>\r\n      <div class="h-flex-box center-items">用途</div>\r\n      <div class="h-flex-box center-items">犬主</div>\r\n      <div class="h-flex-box center-items">联系电话</div>\r\n      <div class="h-flex-box center-items">应年检日期</div>\r\n      <div class="h-flex-box center-items" ng-if="!$ctrl.isTodo">逾期天数</div>\r\n      <div class="h-flex-box center-items" ng-if="!$ctrl.isTodo">警告次数</div>\r\n      <div class="h-flex-box center-items action-group-col">操作</div>\r\n    </div>\r\n    <div class="h-flex-box list-row" ng-repeat="record in $ctrl.data">\r\n      <div class="h-flex-box center-items toggle-col"><input type="checkbox" ng-model="record.selected" /></div>\r\n      <div class="h-flex-box center-items">\r\n        <a class="btn btn-link btn-text" ng-click="$ctrl.gotoState(\'layout.management.dogDetail\',{id:record.petId})" ng-bind="record.petNo"></a>\r\n      </div>\r\n      <div class="h-flex-box center-items" ng-bind="record.breed|_code2Value:$ctrl.breedDict"></div>\r\n      <div class="h-flex-box center-items" ng-bind="record.purpose|_purpose"></div>\r\n      <div class="h-flex-box center-items">\r\n        <a class="btn btn-link btn-text" ng-click="$ctrl.gotoState(\'layout.management.keeperDetail\',{id:record.petOwnerId})" ng-bind="record.realname"></a>\r\n      </div>\r\n      <div class="h-flex-box center-items" ng-bind="record.phone"></div>\r\n      <div class="h-flex-box center-items" ng-bind="record.annualSurveyTimeExpected|kmDate"></div>\r\n      <div class="h-flex-box center-items" ng-bind="record.annualSurveyTimeExpected|kmDaysDiff" ng-if="!$ctrl.isTodo"></div>\r\n      <div class="h-flex-box center-items" ng-bind="record.warningCountCurrent" ng-if="!$ctrl.isTodo"></div>\r\n      <div class="h-flex-box center-items action-group-col" ng-switch="$ctrl.isTodo">\r\n        <a class="btn btn-link" ng-switch-when="true" ng-click="$ctrl.viewDetail(record)">查看</a>\r\n        <a class="btn btn-link" ng-switch-when="true" ng-click="$ctrl.notify(record)">通知</a>\r\n        <a class="btn btn-link" ng-switch-default ng-click="$ctrl.warn(record)">警告</a>\r\n      </div>\r\n    </div>\r\n    <div class="h-flex-box list-footer" ng-class="{\'no-data\': $ctrl.data===0, \'loading\': $ctrl.data===false, \'failure\': $ctrl.data===\'\'}">\r\n      <div class="h-flex-box action-group" ng-switch="$ctrl.isTodo">\r\n        <div class="h-flex-box center-items toggle-col"><input type="checkbox" ng-model="$ctrl.allSelected" ng-click="$ctrl.toggleAll($event)" /></div>\r\n        <button class="btn btn-default" ng-switch-when="true" ng-class="{\'disabled\':!$ctrl.someSelected}" ng-click="$ctrl.notify()">批量通知</button>\r\n        <button class="btn btn-default" ng-switch-default ng-class="{\'disabled\':!$ctrl.someSelected}" ng-click="$ctrl.warn()">批量警告</button>\r\n      </div>\r\n      <div class="km-pagination align-right" current-page="$ctrl.currentPage" items-per-page="$ctrl.itemsPerPage" on-page-change="$ctrl.loadData()"\r\n        redirect="true" />\r\n    </div>\r\n  </div>\r\n</div>'},function(e,t){e.exports='<div class="scrolling-content">\r\n  <ul class="h-flex-box page-tabs">\r\n    <li class="tab"><a ui-sref="layout.enforcement.qList.todo" ui-sref-active="active">30天内免疫</a></li>\r\n    <li class="tab"><a ui-sref="layout.enforcement.qList.overdue" ui-sref-active="active">免疫逾期</a></li>\r\n  </ul>\r\n  <div class="list annual-survey-list">\r\n    <div class="h-flex-box list-header">\r\n      <div class="h-flex-box center-items toggle-col"><input type="checkbox" ng-model="$ctrl.allSelected" ng-click="$ctrl.toggleAll($event)" /></div>\r\n      <div class="h-flex-box center-items">犬证号</div>\r\n      <div class="h-flex-box center-items">品种</div>\r\n      <div class="h-flex-box center-items">用途</div>\r\n      <div class="h-flex-box center-items">犬主</div>\r\n      <div class="h-flex-box center-items">联系电话</div>\r\n      <div class="h-flex-box center-items">建议免疫日期</div>\r\n      <div class="h-flex-box center-items" ng-if="!$ctrl.isTodo">逾期天数</div>\r\n      <div class="h-flex-box center-items" ng-if="!$ctrl.isTodo">警告次数</div>\r\n      <div class="h-flex-box center-items action-group-col">操作</div>\r\n    </div>\r\n    <div class="h-flex-box list-row" ng-repeat="record in $ctrl.data">\r\n      <div class="h-flex-box center-items toggle-col"><input type="checkbox" ng-model="record.selected" /></div>\r\n      <div class="h-flex-box center-items">\r\n        <a class="btn btn-link btn-text" ng-click="$ctrl.gotoState(\'management.dogDetail\',{id:record.petId})" ng-bind="record.petNo"></a>\r\n      </div>\r\n      <div class="h-flex-box center-items" ng-bind="record.breed|_code2Value:$ctrl.breedDict"></div>\r\n      <div class="h-flex-box center-items" ng-bind="record.purpose|_purpose"></div>\r\n      <div class="h-flex-box center-items">\r\n        <a class="btn btn-link btn-text" ng-click="$ctrl.gotoState(\'management.keeperDetail\',{id:record.petOwnerId})" ng-bind="record.realname"></a>\r\n      </div>\r\n      <div class="h-flex-box center-items" ng-bind="record.phone"></div>\r\n      <div class="h-flex-box center-items" ng-bind="record.quarantineTimeExpected|kmDate"></div>\r\n      <div class="h-flex-box center-items" ng-bind="record.quarantineTimeExpected|kmDaysDiff" ng-if="!$ctrl.isTodo"></div>\r\n      <div class="h-flex-box center-items" ng-bind="record.warningCountCurrent" ng-if="!$ctrl.isTodo"></div>\r\n      <div class="h-flex-box center-items action-group-col" ng-switch="$ctrl.isTodo">\r\n        <a class="btn btn-link" ng-switch-when="true" ng-click="$ctrl.viewDetail(record)">查看</a>\r\n        <a class="btn btn-link" ng-switch-when="true" ng-click="$ctrl.notify(record)">通知</a>\r\n        <a class="btn btn-link" ng-switch-default ng-click="$ctrl.warn(record)">警告</a>\r\n      </div>\r\n    </div>\r\n    <div class="h-flex-box list-footer" ng-class="{\'no-data\': $ctrl.data===0, \'loading\': $ctrl.data===false, \'failure\': $ctrl.data===\'\'}">\r\n      <div class="h-flex-box action-group" ng-switch="$ctrl.isTodo">\r\n        <div class="h-flex-box center-items toggle-col"><input type="checkbox" ng-model="$ctrl.allSelected" ng-click="$ctrl.toggleAll($event)" /></div>\r\n        <button class="btn btn-default" ng-switch-when="true" ng-class="{\'disabled\':!$ctrl.someSelected}" ng-click="$ctrl.notify()">批量通知</button>\r\n        <button class="btn btn-default" ng-switch-default ng-class="{\'disabled\':!$ctrl.someSelected}" ng-click="$ctrl.warn()">批量警告</button>\r\n      </div>\r\n      <div class="km-pagination align-right" current-page="$ctrl.currentPage" items-per-page="$ctrl.itemsPerPage" on-page-change="$ctrl.loadData()"\r\n        redirect="true" />\r\n    </div>\r\n  </div>\r\n</div>'},function(e,t){e.exports='<div class="scrolling-content">\r\n  <ul class="h-flex-box page-tabs">\r\n    <li class="tab"><a class="active" ui-sref="layout.enforcement.study.classes">班级列表</a></li>\r\n    <li class="tab"><a ui-sref="layout.enforcement.study.overdue">逾期学习</a></li>\r\n    <li class="tab"><a ui-sref="layout.enforcement.study.todo">未预约犬主</a></li>\r\n    <li class="tab align-right"><button class="btn btn-primary" ng-click="$ctrl.addClass()"><i class="fa fa-plus-circle"></i>添加班级</button></li>\r\n  </ul>\r\n  <div class="list study-class-list">\r\n    <div class="h-flex-box list-header">\r\n      <div class="h-flex-box center-items">班级列表</div>\r\n      <div class="h-flex-box center-items">开始时间</div>\r\n      <div class="h-flex-box center-items">结束时间</div>\r\n      <div class="h-flex-box center-items">状态</div>\r\n      <div class="h-flex-box center-items">人数</div>\r\n      <div class="h-flex-box center-items">学员人数</div>\r\n      <div class="h-flex-box center-items">通过人数</div>\r\n      <div class="h-flex-box center-items">通过率</div>\r\n      <div class="h-flex-box center-items action-group-col">操作</div>\r\n    </div>\r\n    <div class="h-flex-box list-row" ng-repeat="studyClass in $ctrl.data">\r\n      <div class="h-flex-box center-items" ng-bind="studyClass.name"></div>\r\n      <div class="h-flex-box center-items" ng-bind="studyClass.startTime|kmDate"></div>\r\n      <div class="h-flex-box center-items" ng-bind="studyClass.endTime|kmDate"></div>\r\n      <div class="h-flex-box center-items"><i class="fa" ng-class="[studyClass.className]"></i>{{studyClass.status}}</div>\r\n      <div class="h-flex-box center-items" ng-bind="studyClass.number"></div>\r\n      <div class="h-flex-box center-items" ng-bind="studyClass.studentCount==studyClass.number?\'满员\':studyClass.studentCount"></div>\r\n      <div class="h-flex-box center-items" ng-bind="studyClass.passCount"></div>\r\n      <div class="h-flex-box center-items" ng-bind="studyClass.passRatio"></div>\r\n      <div class="h-flex-box center-items action-group-col">\r\n        <a class="btn btn-link" ng-click="$ctrl.viewDetail(studyClass)">查看学员</a>\r\n      </div>\r\n    </div>\r\n    <div class="h-flex-box list-footer" ng-class="{\'no-data\': $ctrl.data===0, \'loading\': $ctrl.data===false, \'failure\': $ctrl.data===\'\'}">\r\n      <div class="km-pagination align-right" current-page="$ctrl.currentPage" items-per-page="$ctrl.itemsPerPage" on-page-change="$ctrl.loadData()"\r\n        redirect="true" />\r\n    </div>\r\n  </div>\r\n</div>'},function(e,t){e.exports='<div class="scrolling-content">\r\n  <ul class="h-flex-box page-tabs">\r\n    <li class="tab"><a ui-sref="layout.enforcement.study.classes" ui-sref-active="active">班级列表</a></li>\r\n    <li class="tab"><a ui-sref="layout.enforcement.study.overdue" ui-sref-active="active">逾期学习</a></li>\r\n    <li class="tab"><a ui-sref="layout.enforcement.study.todo" ui-sref-active="active">未预约犬主</a></li>\r\n  </ul> \r\n  <div class="list keeper-study-list"> \r\n    <div class="h-flex-box list-header">\r\n      <div class="h-flex-box center-items toggle-col"><input type="checkbox" ng-model="$ctrl.allSelected" ng-click="$ctrl.toggleAll($event)" /></div>\r\n      <div class="h-flex-box center-items">犬主</div>\r\n      <div class="h-flex-box center-items">年龄</div>\r\n      <div class="h-flex-box center-items">联系电话</div>\r\n      <div class="h-flex-box center-items">违规次数</div>\r\n      <div class="h-flex-box center-items">扣分</div>\r\n      <div class="h-flex-box center-items">警告次数</div>\r\n      <div class="h-flex-box center-items">学习期限</div>\r\n      <div class="h-flex-box center-items">{{$ctrl.isTodo?\'剩余天数\':\'逾期天数\'}}</div>\r\n      <div class="h-flex-box center-items action-group-col">操作</div>\r\n    </div>\r\n    <div class="h-flex-box list-row" ng-repeat="keeper in $ctrl.data">\r\n      <div class="h-flex-box center-items toggle-col"><input type="checkbox" ng-model="keeper.selected" /></div>\r\n      <div class="h-flex-box center-items">\r\n        <a class="btn btn-link btn-text" ng-click="$ctrl.gotoState(\'layout.management.keeperDetail\',{id:keeper.petOwnerId})" ng-bind="keeper.realname"></a>\r\n      </div>\r\n      <div class="h-flex-box center-items" ng-bind="keeper.birthday|kmAge:\'year\'"></div>\r\n      <div class="h-flex-box center-items" ng-bind="keeper.phone"></div>\r\n      <div class="h-flex-box center-items" ng-bind="keeper.fineCount"></div>\r\n      <div class="h-flex-box center-items" ng-bind="keeper.credit"></div>\r\n      <div class="h-flex-box center-items" ng-bind="keeper.warningCountCurrent"></div>\r\n      <div class="h-flex-box center-items" ng-bind="keeper.deadline|kmDate"></div>\r\n      <div class="h-flex-box center-items" ng-bind="-(keeper.deadline|kmDaysDiff)"></div>\r\n      <div class="h-flex-box center-items action-group-col">\r\n        <a ng-if="!$ctrl.isTodo" class="btn btn-link" ng-click="$ctrl.warn(keeper)">警告</a>\r\n        <a ng-if="$ctrl.isTodo" class="btn btn-link" ng-click="$ctrl.notify(keeper)">通知</a>\r\n      </div>\r\n    </div>\r\n    <div class="h-flex-box list-footer" ng-class="{\'no-data\': $ctrl.data===0, \'loading\': $ctrl.data===false, \'failure\': $ctrl.data===\'\'}">\r\n      <div class="h-flex-box action-group">\r\n        <div class="h-flex-box center-items toggle-col"><input type="checkbox" ng-model="$ctrl.allSelected" ng-click="$ctrl.toggleAll($event)" /></div>\r\n        <button ng-if="$ctrl.isTodo" class="btn btn-default" ng-class="{\'disabled\':!$ctrl.someSelected}" ng-click="$ctrl.notify()">批量通知</button>\r\n        <button ng-if="!$ctrl.isTodo" class="btn btn-default" ng-class="{\'disabled\':!$ctrl.someSelected}" ng-click="$ctrl.warn()">批量警告</button>\r\n      </div>\r\n      <div class="km-pagination align-right" current-page="$ctrl.currentPage" items-per-page="$ctrl.itemsPerPage" on-page-change="$ctrl.loadData()"\r\n        redirect="true" />\r\n    </div>\r\n  </div>\r\n</div>'},function(e,t){e.exports="犬只登记统计"},function(e,t){e.exports="设备总览"},function(e,t){e.exports='<div class="scrolling-content">\r\n    \x3c!-- <form class="search-form search-form-dog" ng-class="{\'advanced-search-mode v-flex-box\':$ctrl.isAdvSearchMode, \'form-inline h-flex-box\':!$ctrl.isAdvSearchMode}"\r\n      name="dog_search" role="form">\r\n      <input type="text" class="form-control" placeholder="输入养犬登记证号精确查询" ng-model="$ctrl.condition.phone" />\r\n      <div class="search-form-actions h-flex-box">\r\n        <button class="btn btn-primary" ng-click="$ctrl.search()">查询</button>\r\n        <button class="btn btn-default" ng-click="$ctrl.reset()">清空</button>\r\n      </div>\r\n    </form> --\x3e\r\n    <div class="list">\r\n      <div class="h-flex-box list-header">\r\n        <div class="h-flex-box center-items toggle-col">\r\n          <input type="checkbox" ng-model="$ctrl.allSelected" ng-click="$ctrl.toggleAll($event)" />\r\n        </div>\r\n        <div class="h-flex-box center-items">申请日期</div>\r\n        <div class="h-flex-box center-items">宠主</div>\r\n        <div class="h-flex-box center-items">联系方式</div>\r\n        <div class="h-flex-box center-items address">地址</div>\r\n        <div class="h-flex-box center-items">宠物证件号</div>\r\n        <div class="h-flex-box center-items">设备号</div>\r\n        <div class="h-flex-box center-items">换牌原因</div>\r\n        <div class="h-flex-box center-items action-group-col">操作</div>\r\n      </div>\r\n      <div class="h-flex-box list-row" ng-repeat="card in $ctrl.data">\r\n        <div class="h-flex-box center-items toggle-col">\r\n          <input type="checkbox" ng-model="card.selected" />\r\n        </div>\r\n        <div class="h-flex-box center-items" ng-bind="card.createTime|date:\'yyyy-MM-dd\'"></div>\r\n        <div class="h-flex-box center-items" ng-bind="card.realname"></div>\r\n        <div class="h-flex-box center-items" ng-bind="card.phone"></div>\r\n        <div class="h-flex-box center-items address" ng-bind="card.addressDetail"></div>\r\n        <div class="h-flex-box center-items" ng-bind="card.petNo"></div>\r\n        <div class="h-flex-box center-items" ng-bind="card.cardNo"></div>\r\n        <div class="h-flex-box center-items" ng-bind="card.reason | _exchangeCard"></div>\r\n        <div class="h-flex-box center-items action-group-col">\r\n          <a class="btn btn-link" ng-click="$ctrl.pass(card)">通过</a>\r\n          <a class="btn btn-link" ng-click="$ctrl.reject(card)">驳回</a>\r\n        </div>\r\n      </div>\r\n      \x3c!-- <div class="h-flex-box list-footer" ng-class="{\'no-data\': $ctrl.data===0, \'loading\': $ctrl.data===false, \'failure\': $ctrl.data===\'\'}">\r\n        <div class="h-flex-box action-group">\r\n          <div class="h-flex-box center-items toggle-col">\r\n            <input type="checkbox" ng-model="$ctrl.allSelected" ng-click="$ctrl.toggleAll($event)" />\r\n          </div>\r\n          <button class="btn btn-default" ng-class="{\'disabled\':!$ctrl.someSelected}" ng-click="$ctrl.pass()">批量通过</button>\r\n          <button class="btn btn-default" ng-class="{\'disabled\':!$ctrl.someSelected}" ng-click="$ctrl.reject()">批量驳回</button>\r\n        </div>\r\n        <div class="km-pagination align-right" current-page="$ctrl.currentPage" items-per-page="$ctrl.itemsPerPage" on-page-change="$ctrl.loadData()"\r\n          redirect="true" />\r\n      </div> --\x3e\r\n    </div>\r\n  </div>'},function(e,t){e.exports='<div class="scrolling-content">\r\n    <form class="search-form search-form-appoint form-inline h-flex-box" role="form">\r\n        <div class="form-control-group h-flex-box">\r\n          <select class="form-control" ng-model="$ctrl.transform.$name.key">\r\n            <option value="phone" selected>手机号</option>\r\n            <option value="petNo">犬证号</option>\r\n          </select>\r\n          <input type="text" class="form-control" placeholder="{{\'输入\'+($ctrl.transform.$name.key==\'phone\'?\'手机\':($ctrl.transform.$name.key==\'cardNo\'?\'证件\':\'犬证\'))+\'号精确查询\'}}" ng-model="$ctrl.transform.$name.value" />\r\n        </div>\r\n        <div class="search-form-actions h-flex-box">\r\n          <button class="btn btn-primary" ng-click="$ctrl.search()">查询</button>\r\n          <button class="btn btn-default" ng-click="$ctrl.reset()">清空</button>\r\n        </div>\r\n      </form>\r\n  <div class="list">\r\n    <div class="h-flex-box list-header">\r\n      <div class="h-flex-box center-items toggle-col">\r\n        <input type="checkbox" ng-model="$ctrl.allSelected" ng-click="$ctrl.toggleAll($event)" />\r\n      </div>\r\n      <div class="h-flex-box center-items">申请日期</div>\r\n      <div class="h-flex-box center-items">宠主</div>\r\n      <div class="h-flex-box center-items">联系方式</div>\r\n      <div class="h-flex-box center-items address">地址</div>\r\n      <div class="h-flex-box center-items">宠物证件号</div>\r\n      <div class="h-flex-box center-items">设备号</div>\r\n      <div class="h-flex-box center-items">换牌原因</div>\r\n      <div class="h-flex-box center-items action-group-col">操作</div>\r\n    </div>\r\n    <div class="h-flex-box list-row" ng-repeat="card in $ctrl.data">\r\n      <div class="h-flex-box center-items toggle-col">\r\n        <input type="checkbox" ng-model="card.selected" />\r\n      </div>\r\n      <div class="h-flex-box center-items" ng-bind="card.createTime|date:\'yyyy-MM-dd\'"></div>\r\n      <div class="h-flex-box center-items" ng-bind="card.realname"></div>\r\n      <div class="h-flex-box center-items" ng-bind="card.phone"></div>\r\n      <div class="h-flex-box center-items address" ng-bind="card.addressDetail"></div>\r\n      <div class="h-flex-box center-items" ng-bind="card.petNo"></div>\r\n      <div class="h-flex-box center-items" ng-bind="card.cardNo"></div>\r\n      <div class="h-flex-box center-items" ng-bind="card.reason | _exchangeCard"></div>\r\n      <div class="h-flex-box center-items action-group-col">\r\n        <a class="btn btn-link" ng-click="$ctrl.pass(card)">通过</a>\r\n        <a class="btn btn-link" ng-click="$ctrl.reject(card)">驳回</a>\r\n      </div>\r\n    </div>\r\n    <div class="h-flex-box list-footer" ng-class="{\'no-data\': $ctrl.data===0, \'loading\': $ctrl.data===false, \'failure\': $ctrl.data===\'\'}">\r\n      <div class="h-flex-box action-group">\r\n        <div class="h-flex-box center-items toggle-col">\r\n          <input type="checkbox" ng-model="$ctrl.allSelected" ng-click="$ctrl.toggleAll($event)" />\r\n        </div>\r\n        <button class="btn btn-default" ng-class="{\'disabled\':!$ctrl.someSelected}" ng-click="$ctrl.pass()">批量通过</button>\r\n        <button class="btn btn-default" ng-class="{\'disabled\':!$ctrl.someSelected}" ng-click="$ctrl.reject()">批量驳回</button>\r\n      </div>\r\n      <div class="km-pagination align-right" current-page="$ctrl.currentPage" items-per-page="$ctrl.itemsPerPage" on-page-change="$ctrl.loadData()"\r\n        redirect="true" />\r\n    </div>\r\n  </div>\r\n</div>'},function(e,t){e.exports='<div class="scrolling-content">\r\n  <ul class="h-flex-box page-tabs">\r\n    <li class="tab">\r\n      <a ui-sref="layout.device.returnList.todo" ui-sref-active="active">待回收</a>\r\n    </li>\r\n    <li class="tab">\r\n      <a ui-sref="layout.device.returnList.recovered" ui-sref-active="active">已回收</a>\r\n    </li>\r\n  </ul>\r\n  <form class="search-form search-form-appoint form-inline h-flex-box" role="form">\r\n    <div class="form-control-group h-flex-box">\r\n      <select class="form-control" ng-model="$ctrl.transform.$name.key">\r\n        <option value="phone" selected>手机号</option>\r\n        <option value="petNo">犬证号</option>\r\n      </select>\r\n      <input type="text" class="form-control" placeholder="{{\'输入\'+($ctrl.transform.$name.key==\'phone\'?\'手机\':($ctrl.transform.$name.key==\'cardNo\'?\'证件\':\'犬证\'))+\'号精确查询\'}}"\r\n        ng-model="$ctrl.transform.$name.value" />\r\n    </div>\r\n    <div class="search-form-actions h-flex-box">\r\n      <button class="btn btn-primary" ng-click="$ctrl.search()">查询</button>\r\n      <button class="btn btn-default" ng-click="$ctrl.reset()">清空</button>\r\n    </div>\r\n  </form>\r\n  <div class="list">\r\n    <div class="h-flex-box list-header">\r\n      \x3c!-- <div class="h-flex-box center-items toggle-col">\r\n            <input type="checkbox" ng-model="$ctrl.allSelected" ng-click="$ctrl.toggleAll($event)" />\r\n          </div> --\x3e\r\n      <div class="h-flex-box center-items">通过审核时间</div>\r\n      <div class="h-flex-box center-items">宠主</div>\r\n      <div class="h-flex-box center-items">联系方式</div>\r\n      <div class="h-flex-box center-items">宠物编号</div>\r\n      <div class="h-flex-box center-items">设备号</div>\r\n      <div class="h-flex-box center-items">设备开始时间</div>\r\n      <div class="h-flex-box center-items">使用时间</div>\r\n      <div class="h-flex-box center-items">维修次数</div>\r\n      <div class="h-flex-box center-items action-group-col">操作</div>\r\n    </div>\r\n    <div class="h-flex-box list-row" ng-repeat="card in $ctrl.data">\r\n      \x3c!-- <div class="h-flex-box center-items toggle-col">\r\n            <input type="checkbox" ng-model="card.selected" />\r\n          </div> --\x3e\r\n      <div class="h-flex-box center-items" ng-bind="card.checkTime |date:\'yyyy-MM-dd\'"></div>\r\n      <div class="h-flex-box center-items" ng-bind="card.realname"></div>\r\n      <div class="h-flex-box center-items" ng-bind="card.phone"></div>\r\n      <div class="h-flex-box center-items" ng-bind="card.petNo "></div>\r\n      <div class="h-flex-box center-items" ng-bind="card.cardNo"></div>\r\n      <div class="h-flex-box center-items" ng-bind="card.firstBindTime | date:\'yyyy-MM-dd\'"></div>\r\n      <div class="h-flex-box center-items" ng-bind="card.checkTime - card.firstBindTime | date:\'d天\'"></div>\r\n      <div class="h-flex-box center-items" ng-bind="card.repairCount"></div>\r\n      <div class="h-flex-box center-items action-group-col">\r\n        <a class="btn btn-link" ng-if="!$ctrl.isTodo" ng-click="$ctrl.exchange(card)">更换</a>\r\n        <a class="btn btn-link" ng-if="$ctrl.isTodo" ng-click="$ctrl.recovered(card)">回收</a>\r\n      </div>\r\n    </div>\r\n    <div class="h-flex-box list-footer" ng-class="{\'no-data\': $ctrl.data===0, \'loading\': $ctrl.data===false, \'failure\': $ctrl.data===\'\'}">\r\n      \x3c!-- <div class="h-flex-box action-group">\r\n            <div class="h-flex-box center-items toggle-col">\r\n              <input type="checkbox" ng-model="$ctrl.allSelected" ng-click="$ctrl.toggleAll($event)" />\r\n            </div>\r\n            <button class="btn btn-default" ng-class="{\'disabled\':!$ctrl.someSelected}" ng-click="$ctrl.pass()">批量通过</button>\r\n            <button class="btn btn-default" ng-class="{\'disabled\':!$ctrl.someSelected}" ng-click="$ctrl.reject()">批量驳回</button>\r\n          </div> --\x3e\r\n      <div class="km-pagination align-right" current-page="$ctrl.currentPage" items-per-page="$ctrl.itemsPerPage" on-page-change="$ctrl.loadData()"\r\n        redirect="true" />\r\n    </div>\r\n  </div>\r\n</div>'},function(e,t){e.exports='<div class="scrolling-content">\r\n    <div class="page-tabs-border justify-between h-flex-box">\r\n        <ul class="h-flex-box fl">\r\n            <li class="tab">\r\n                <a ui-sref="layout.publish.lose.current" ui-sref-active="active">当前发布</a>\r\n            </li>\r\n            <li class="tab">\r\n                <a ui-sref="layout.publish.lose.closed" ui-sref-active="active">已关闭</a>\r\n            </li>\r\n        </ul>\r\n        <div class="fr operation-box h-flex-box center-items">\r\n            <input type="text" class="form-control raduis-input fl" placeholder="输入养犬登记证号精确查询" ng-model="$ctrl.condition.petNo" />\r\n            <div class="search-form-actions h-flex-box fr">\r\n                <button class="btn btn-theme operation-btn" ng-click="$ctrl.search()">查询</button> \r\n            </div>\r\n        </div> \r\n    </div>\r\n    <div class="list lose-list">\r\n        <div class="h-flex-box list-header">\r\n          <div class="h-flex-box center-items">挂失日期</div>\r\n          <div class="h-flex-box center-items">丢失时间</div>\r\n          <div class="h-flex-box center-items address">丢失地点</div>\r\n          <div class="h-flex-box center-items">联系人</div>\r\n          <div class="h-flex-box center-items">联系电话</div>\r\n          <div class="h-flex-box center-items">宠物编号</div>\r\n          <div class="h-flex-box center-items">品种</div>\r\n          <div class="h-flex-box center-items">颜色</div>\r\n          <div class="h-flex-box center-items">性别</div>\r\n          <div class="h-flex-box center-items">奖励金</div>\r\n          <div class="h-flex-box center-items action-group-col">操作</div>\r\n        </div>\r\n        <div class="h-flex-box list-row" ng-repeat="dog in $ctrl.data">\r\n          <div class="h-flex-box center-items" ng-bind="dog.createTime|date:\'yyyy-MM-dd\'"></div>\r\n          <div class="h-flex-box center-items" ng-bind="dog.lostTime|date:\'yyyy-MM-dd\'"></div>\r\n          <div class="h-flex-box center-items address" ng-bind="dog.lostAddress"></div>\r\n          <div class="h-flex-box center-items" ng-bind="dog.realname"></div>\r\n          <div class="h-flex-box center-items" ng-bind="dog.phone"></div>\r\n          <div class="h-flex-box center-items" ng-bind="dog.petNo"></div>\r\n          <div class="h-flex-box center-items" ng-bind="dog.breed|_code2Value:$ctrl.breedDict"></div>\r\n          <div class="h-flex-box center-items" ng-bind="dog.color|_code2Value:$ctrl.colorDict"></div>\r\n          <div class="h-flex-box center-items" ng-bind="dog.sex|kmSex:1"></div>\r\n          <div class="h-flex-box center-items" ng-bind="dog.reward"></div>\r\n          <div class="h-flex-box center-items action-group-col">\r\n            <a class="btn btn-link">查看</a>\r\n          </div>\r\n        </div>\r\n        <div class="h-flex-box list-footer" ng-class="{\'no-data\': $ctrl.data===0, \'loading\': $ctrl.data===false, \'failure\': $ctrl.data===\'\'}">\r\n          <div class="km-pagination align-right" current-page="$ctrl.currentPage" items-per-page="$ctrl.itemsPerPage" on-page-change="$ctrl.loadData()"\r\n            redirect="true" />\r\n        </div>\r\n      </div>\r\n</div>'},function(e,t){e.exports='<div class="scrolling-content">\r\n    <div class="page-tabs-border justify-between h-flex-box">\r\n        <ul class="h-flex-box fl">\r\n            <li class="tab">\r\n                <a ui-sref="layout.publish.advert.banner" ui-sref-active="active">首页轮播广告图</a>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n\r\n    <div class="banner-list">\r\n        <div class="item h-flex-box">\r\n            <div class="idx br h-flex-box justify-center center-items">1</div>\r\n            <div class="upload-img">\r\n                <img src="" alt="">\r\n                <p>\r\n                    <span>图片上传</span>\r\n                    <span>(750*368)</span>\r\n                </p>\r\n            </div>\r\n            <div class="input-box">\r\n                <p>\r\n                    <span>链接地址</span>\r\n                    <input type="text" />\r\n                </p>\r\n                <p>\r\n                    <span>排序</span>\r\n                    <input type="text" />\r\n                </p>\r\n            </div>\r\n            <div class="opera-box">\r\n                <span><i></i>编辑</span>\r\n                <span><i></i>删除</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="scrolling-content top-content">\r\n    <div class="page-tabs-border justify-between h-flex-box">\r\n        <ul class="h-flex-box fl">\r\n            <li class="tab" ng-repeat="topLine in $ctrl.topLineList track by $index">\r\n                <a ng-class="{true:\'active\'}[topLine.active]" ng-click="$ctrl.setActiveUrl(topLine)">{{topLine.name}}</a>\r\n            </li>\r\n\r\n        </ul>\r\n        <div class="fr operation-box h-flex-box center-items">\r\n            \x3c!-- <input type="text" class="form-control raduis-input fl" placeholder="输入养犬登记证号精确查询" ng-model="$ctrl.condition.petNo" /> --\x3e\r\n            <span class="mr color-theme drafts">草稿箱</span>\r\n            <div class="search-form-actions h-flex-box fr">\r\n                <button class="btn btn-theme operation-btn" ng-click="$ctrl.goEdit()">新建文章</button>\r\n            </div> \r\n        </div>\r\n    </div>\r\n    <div class="list topline-list">\r\n        <div class="h-flex-box center-items item" ng-repeat="item in $ctrl.data track by $index">\r\n            <span ng-bind="item.createTime | date:\'MM月dd日\'"></span>\r\n            <img class="pet-img" ng-src="{{item.coverId | _img}}" alt="">\r\n            <div class="v-flex-box justify-around">\r\n                <p class="top-title ellipsis" ng-bind="item.title"></p>\r\n                <p class="author"><span>作者</span>&nbsp;<span ng-bind="item.author"></span></p>\r\n                <p class="count">\r\n                    <span>阅读&nbsp;{{item.readCount}}</span>\r\n                    <span>分享&nbsp;{{item.forwardCount}}</span>\r\n                    <span>评论&nbsp;{{item.commentCount}}</span> \r\n                </p>\r\n            </div>\r\n            <span class="delete"></span>\r\n        </div>\r\n        <div class="h-flex-box list-footer" ng-class="{\'no-data\': $ctrl.data===0, \'loading\': $ctrl.data===false, \'failure\': $ctrl.data===\'\'}">\r\n            <div class="km-pagination align-right" current-page="$ctrl.currentPage" items-per-page="$ctrl.itemsPerPage" on-page-change="$ctrl.loadData()"\r\n                redirect="true" />\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="editor-content">\r\n    <div>\r\n        <button class="btn back-btn" ng-click="$ctrl.back()">返回</button>\r\n    </div>\r\n    <div class="h-flex-box">\r\n        <div class="editor-main">\r\n            <div>\r\n                <p>\r\n                    <input class="edit-title" ng-model="$ctrl.publicData.title" type="text" placeholder="在这里输入标题">\r\n                </p>\r\n                <p>\r\n                    <input class="edit-author" ng-model="$ctrl.publicData.author"  type="text" placeholder="输入作者">\r\n                </p>\r\n            </div>\r\n            <div class="bt">\r\n                <div class="edit-box">\r\n                    <div class="edit-item" ng-repeat="item in $ctrl.publicData.imageTextList track by $index">\r\n                        <div class="add-edit-img">\r\n                            <p accept="image/*" ng-if="!item.imageId" ngf-accept="\'image/*\'" ngf-select="$ctrl.upload($file,item)">添加图片</p>\r\n                            <div class="shadow-box" ng-if="item.imageId">\r\n                                <img ng-src="{{item.imageId | _img}}">\r\n                                <span class="shadow h-flex-box center-items justify-center">\r\n                                    <i accept="image/*" ngf-accept="\'image/*\'" ngf-select="$ctrl.upload($file,item)">重新上传</i>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                        <div class="text" contenteditable="true" ng-model="item.text" placeholder="添加文字。。。"></div>\r\n                        <span class="delete-item" ng-if="$index != 0" ng-click="$ctrl.deleteItem($index)">×</span>\r\n                    </div>\r\n\r\n                </div>\r\n                <div class="addList">\r\n                    <i class="fa fa-plus" aria-hidden="true" ng-click="$ctrl.addList()"></i>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="upload-img">\r\n            <img ng-if="$ctrl.imgPreview" ng-src="{{$ctrl.imgPreview}}" alt="">\r\n            <p ng-if="!$ctrl.imgPreview" class="v-flex-box center-items justify-center">\r\n                <span>请上传封面图</span>\r\n                <span>最佳尺寸560×420</span>\r\n            </p>\r\n            <button class="btn edit-cover" accept="image/*" ngf-accept="\'image/*\'" ngf-select="$ctrl.upload($file,\'imgPreview\')">编辑封面(560×640)</button>\r\n        </div>\r\n    </div>\r\n    <div class="btn-groups">\r\n        \x3c!-- <button class="btn">预览</button>\r\n        <button class="btn">存为草稿</button> --\x3e\r\n        <button class="btn public" ng-click="$ctrl.public()">发布</button>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="scrolling-content pet-show-content">\r\n    <div class="page-tabs-border justify-between h-flex-box">\r\n        <ul class="h-flex-box fl">\r\n            <li class="tab">\r\n                <a ui-sref="layout.publish.petShow.user" ui-sref-active="active">用户上传</a>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n    <div class="sub-title clearfix">\r\n        <p class="sub-title-l fl">共{{$ctrl.totalItems}}组作品</p>\r\n        <p class="sub-title-r fr">\r\n            <span>阅读最多</span>\r\n            <span>最新评论</span>\r\n            <span>评论最多</span>\r\n            <span>点赞最多</span>\r\n        </p>\r\n    </div>\r\n    <div class="list">\r\n        <div class=" pet-show-list h-flex-box  center-items">\r\n            <div class="item" ng-repeat="item in $ctrl.data track by $index">\r\n                <div class="item-t v-flex-box justify-between">\r\n                    <img class="pet-img" ng-src="{{item.coverId | _img}}" alt="">\r\n                    <p class="top-title ellipsis" ng-bind="item.title"></p>\r\n                    <p class="author">\r\n                        <span>作者</span>&nbsp;\r\n                        <span ng-bind="item.userNickname"></span>\r\n                    </p>\r\n                    <p class="count h-flex-box  center-item">\r\n                        \x3c!-- <span class="h-flex-box  center-items">\r\n                            <i class="icon"></i>33\r\n                        </span>\r\n                        <span class=" h-flex-box  center-items">\r\n                            <i class="icon"></i>33\r\n                        </span> --\x3e\r\n                        <span class=" h-flex-box  center-items">\r\n                            <i class="icon"></i>{{item.commentCount}}\r\n                        </span>\r\n                        <span class=" h-flex-box  center-items">\r\n                            <i class="icon"></i>{{item.likeCount}}\r\n                        </span>\r\n                    </p>\r\n                </div>\r\n                <div class="item-b h-flex-box justify-between center-items">\r\n                    <p>\r\n                        <span>删除</span>\r\n                        <span>精选</span>\r\n                    </p>\r\n                    <span class="time" ng-bind="item.createTime | formatMsgTime"></span>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n        <div class="h-flex-box list-footer" ng-class="{\'no-data\': $ctrl.data===0, \'loading\': $ctrl.data===false, \'failure\': $ctrl.data===\'\'}">\r\n            <div class="km-pagination align-right" current-page="$ctrl.currentPage" items-per-page="$ctrl.itemsPerPage" on-page-change="$ctrl.loadData()"\r\n                redirect="true" />\r\n        </div>\r\n    </div>\r\n</div>'},function(e,t){e.exports='<div class="scrolling-content">\r\n  <ul class="h-flex-box page-tabs">\r\n    <li class="tab"><a ui-sref="layout.organization.staff.users" ui-sref-active="active">用户</a></li>\r\n    <li class="tab"><a ui-sref="layout.organization.staff.roles" ui-sref-active="active">角色</a></li>\r\n    <li ng-if="$ctrl.admin" class="tab align-right"><button class="btn btn-primary" ng-click="$ctrl.addStaff()"><i class="fa fa-user-plus"></i>添加用户</button></li>\r\n  </ul>\r\n  <form class="search-form form-inline h-flex-box" role="form">\r\n    <div class="form-group h-flex-box">\r\n      <label>角色</label>\r\n      <select class="form-control" ng-model="$ctrl.condition.role" ng-options="x.id as x.name for x in $ctrl.roleDict"></select>\r\n    </div>\r\n    <div class="search-form-actions h-flex-box">\r\n      <button class="btn btn-primary" ng-click="$ctrl.search()">查询</button>\r\n      <button class="btn btn-default" ng-click="$ctrl.reset()">清空</button>\r\n    </div>\r\n  </form>\r\n  <div class="list staff-list">\r\n    <div class="h-flex-box list-header">\r\n      <div class="h-flex-box center-items">用户名</div>\r\n      <div class="h-flex-box center-items">手机号</div>\r\n      <div class="h-flex-box center-items">所属城市</div>\r\n      <div class="h-flex-box center-items">角色列表</div>\r\n      <div class="h-flex-box center-items">登录ip</div>\r\n      <div class="h-flex-box center-items">登录时间</div>\r\n      <div class="h-flex-box center-items action-group-col" ng-class="{\'more\': $ctrl.ofGroup}">操作</div>\r\n    </div>\r\n    <div class="h-flex-box list-row" ng-repeat="staff in $ctrl.data">\r\n      <div class="h-flex-box center-items" ng-bind="staff.realname"></div>\r\n      <div class="h-flex-box center-items" ng-bind="staff.phone"></div>\r\n      <div class="h-flex-box center-items" ng-bind="staff.cityId?(staff.cityId|_cityId2Name:$ctrl.cityDict):\'大中华区\'"></div>\r\n      <div class="h-flex-box center-items" ng-bind="staff.roles"></div>\r\n      <div class="h-flex-box center-items" ng-bind="staff.loginIp"></div>\r\n      <div class="h-flex-box center-items" ng-bind="staff.loginDate|kmTime"></div>\r\n      <div class="h-flex-box center-items action-group-col" ng-class="{\'more\': $ctrl.ofGroup}">\r\n        <a class="btn btn-link fa fa-group" ng-click="$ctrl.viewRoles(staff)" title="分配角色"></a>\r\n        <a class="btn btn-link fa fa-key" ng-click="$ctrl.viewPermissions(staff)" title="查看权限"></a>\r\n        <a ng-if="$ctrl.ofGroup" class="btn btn-link fa fa-street-view" ng-click="$ctrl.setCity(staff)" title="更换城市"></a>\r\n        <a class="btn btn-link fa fa-unlock" ng-click="$ctrl.resetPassword(staff)" title="重置密码"></a>\r\n      </div>\r\n    </div>\r\n    <div class="h-flex-box list-footer" ng-class="{\'no-data\': $ctrl.data===0, \'loading\': $ctrl.data===false, \'failure\': $ctrl.data===\'\'}">\r\n      <div ng-if="$ctrl.data" class="h-flex-box center-items align-right">共{{$ctrl.data.length}}个用户</div>\r\n    </div>\r\n  </div>\r\n</div>'},function(e,t){e.exports='<div class="scrolling-content">\r\n  <ul class="h-flex-box page-tabs">\r\n    <li class="tab"><a ui-sref="layout.organization.staff.users" ui-sref-active="active">用户</a></li>\r\n    <li class="tab"><a ui-sref="layout.organization.staff.roles" ui-sref-active="active">角色</a></li>\r\n    <li ng-if="$ctrl.superAdmin" class="tab align-right"><button class="btn btn-primary" ng-click="$ctrl.addRole()"><i class="fa fa-plus"></i>添加角色</button></li>\r\n  </ul>\r\n  <div class="list role-list">\r\n    <div class="h-flex-box list-header">\r\n      <div class="h-flex-box center-items">角色名称</div>\r\n      <div class="h-flex-box center-items">状态</div>\r\n      <div class="h-flex-box center-items">角色描述</div>\r\n      <div class="h-flex-box center-items">用户列表</div>\r\n      <div class="h-flex-box center-items action-group-col" ng-class="{\'more\':$ctrl.superAdmin}">操作</div>\r\n    </div>\r\n    <div class="h-flex-box list-row" ng-repeat="role in $ctrl.data">\r\n      <div class="h-flex-box center-items" ng-bind="role.name"></div>\r\n      <div class="h-flex-box center-items" ng-bind="role.status|_roleStatus"></div>\r\n      <div class="h-flex-box center-items" ng-bind="role.description"></div>\r\n      <div class="h-flex-box center-items" ng-bind="role.users"></div>\r\n      <div class="h-flex-box center-items action-group-col" ng-class="{\'more\':$ctrl.superAdmin}">\r\n        <a class="btn btn-link fa fa-users" ng-click="$ctrl.setUsers(role)" title="成员维护"></a>\r\n        <a ng-if="$ctrl.superAdmin" class="btn btn-link fa fa-key" ng-click="$ctrl.setPermissions(role)" title="分配权限"></a>\r\n        <a ng-if="$ctrl.superAdmin" class="btn btn-link fa fa-edit" ng-click="$ctrl.modify(role)" title="编辑角色"></a>\r\n        <a ng-if="$ctrl.superAdmin" class="btn btn-link fa" ng-class="{\'fa-trash\':role.status, \'fa-check-square-o\':!role.status}" ng-click="$ctrl.toggle(role)" title="{{role.status?\'禁用角色\':\'激活角色\'}}"></a>\r\n      </div>\r\n    </div>\r\n    <div class="h-flex-box list-footer" ng-class="{\'no-data\': $ctrl.data===0, \'loading\': $ctrl.data===false, \'failure\': $ctrl.data===\'\'}">\r\n      <div ng-if="$ctrl.data" class="align-right">共{{$ctrl.data.length}}个角色</div>\r\n    </div>\r\n  </div>\r\n</div>'},function(e,t){e.exports='<div class="scrolling-content">\r\n  <div class="list district-list">\r\n    <div class="h-flex-box list-header">\r\n      <div class="h-flex-box center-items">城市名称</div>\r\n      <div class="h-flex-box center-items">重点城市</div>\r\n      <div class="h-flex-box center-items action-group-col">操作</div>\r\n    </div>\r\n    <div class="h-flex-box list-row" ng-repeat="district in $ctrl.data">\r\n      <div class="h-flex-box center-items" ng-bind="district.name"></div>\r\n      <div class="h-flex-box center-items" ng-bind="district.special|kmBool"></div>\r\n      <div class="h-flex-box center-items action-group-col">\r\n        <a class="btn btn-link" ng-click="$ctrl.setStrict(district)">{{district.special?\'取消重点\':\'设为重点\'}}</a>\r\n        <a class="btn btn-link" ui-sref="organization.staff.users({cityId:district.id})">查看人员</a>\r\n      </div>\r\n    </div>\r\n    <div class="h-flex-box list-footer" ng-class="{\'no-data\': $ctrl.data===0, \'loading\': $ctrl.data===false, \'failure\': $ctrl.data===\'\'}">\r\n      <div ng-if="$ctrl.data" class="align-right">共{{$ctrl.data.length}}个城市</div>\r\n    </div>\r\n  </div>\r\n</div>'},function(e,t){e.exports=""}],[149]);
//# sourceMappingURL=app.4e407abd.bundle.js.map